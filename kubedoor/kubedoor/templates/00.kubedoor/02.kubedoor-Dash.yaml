{{- if .Values.kubedoor.dash.enable }}
apiVersion: v1
kind: Secret
metadata:
  name: kubedoor-grafana
  namespace: kubedoor
data:
  admin-password: YWRtaW4=
  admin-user: YWRtaW4=
  ldap-toml: ""
type: Opaque

---
apiVersion: v1
kind: ConfigMap
metadata:
  name: kubedoor-grafana-config
  namespace: kubedoor
data:
  dashboardproviders.yaml: |
    apiVersion: 1
    providers:
    - disableDeletion: false
      editable: true
      folder: ""
      name: default
      options:
        path: /var/lib/grafana/dashboards
      orgId: 1
      type: file
  datasources.yaml: |
    apiVersion: 1
    datasources:
    - jsonData:
        port: {{ .Values.clickhouse.CK_PORT }}
        server: {{ .Values.clickhouse.CK_HOST }}
        username: {{ .Values.clickhouse.CK_USER }}
      name: KubeDoor-Clickhouse
      secureJsonData:
        password: {{ .Values.clickhouse.CK_PASSWORD }}
      type: grafana-clickhouse-datasource
      uid: KubeDoor-Clickhouse
    - name: KubeDoor-Prometheus
      uid: KubeDoor-Prometheus
      type: prometheus
      {{- if eq .Values.tsdb.type "KubeDoor" }}
      url: "http://{{ .Values.monit.vm_single.user }}:{{ .Values.monit.vm_single.passwd }}@victoria-metrics.kubedoor:8428"
      {{- else if eq .Values.tsdb.type "Victoria-Metrics-Cluster" }}
      url: {{ .Values.tsdb.remoteRead | quote }}
      {{- else }}
      url: {{ .Values.tsdb.url | quote }}
      {{- end }}
      jsonData:
        httpMethod: POST

  grafana.ini: |
    app_mode = production
    [analytics]
    check_for_updates = false
    reporting_enabled = false
    [auth]
    disable_login_form = false
    disable_signout_menu = false
    [auth.basic]
    enabled = false
    [auth.anonymous]
    enabled = true
    hide_version = true
    org_name = Main Org.
    org_role = Admin
    [database]
    type = sqlite3
    [grafana_net]
    url = https://grafana.net
    [log]
    level = error
    mode = console
    [news]
    news_feed_enabled = false
    [paths]
    data = /var/lib/grafana/
    logs = /var/log/grafana
    plugins = /var/lib/grafana/plugins
    provisioning = /etc/grafana/provisioning
    [profile]
    enabled = false
    [quota]
    enabled = false
    [security]
    allow_embedding = true
    disable_gravatar = true
    disable_initial_admin_creation = false
    [server]
    http_port = 3000
    domain = kubedoor-dash.kubedoor
    enable_gzip = true
    enforce_domain = false
    protocol = http
    root_url = %(protocol)s://%(domain)s:%(http_port)s/grafana/
    serve_from_sub_path = true
    [live]
    allowed_origins = *
    [snapshots]
    external_enabled = false
    [users]
    allow_org_create = true
    allow_sign_up = true
    auto_assign_org_role = Admin
    default_language = zh-Hans
    home_page = /grafana/d/KubeDoor

---
apiVersion: v1
kind: ConfigMap
metadata:
  name: kubedoor-grafana-dash
  namespace: kubedoor
data:
  KubeDoor-Dash.json: "{\r\n  \"annotations\": {\r\n    \"list\": [\r\n      {\r\n        \"builtIn\": 1,\r\n        \"datasource\": {\r\n          \"type\": \"grafana\",\r\n          \"uid\": \"-- Grafana --\"\r\n        },\r\n        \"enable\": true,\r\n        \"hide\": true,\r\n        \"iconColor\": \"rgba(0, 211, 255, 1)\",\r\n        \"name\": \"Annotations & Alerts\",\r\n        \"type\": \"dashboard\"\r\n      }\r\n    ]\r\n  },\r\n  \"editable\": true,\r\n  \"fiscalYearStartMonth\": 0,\r\n  \"graphTooltip\": 0,\r\n  \"id\": null,\r\n  \"links\": [\r\n    {\r\n      \"asDropdown\": false,\r\n      \"icon\": \"bolt\",\r\n      \"includeVars\": false,\r\n      \"keepTime\": false,\r\n      \"tags\": [],\r\n      \"targetBlank\": true,\r\n      \"title\": \"Update\",\r\n      \"tooltip\": \"查看更多仪表板\",\r\n      \"type\": \"link\",\r\n      \"url\": \"https://grafana.com/orgs/starsliao/dashboards\"\r\n    },\r\n    {\r\n      \"asDropdown\": false,\r\n      \"icon\": \"question\",\r\n      \"includeVars\": false,\r\n      \"keepTime\": false,\r\n      \"tags\": [],\r\n      \"targetBlank\": true,\r\n      \"title\": \"GitHub\",\r\n      \"tooltip\": \"\",\r\n      \"type\": \"link\",\r\n      \"url\": \"https://github.com/CassInfra/KubeDoor\"\r\n    }\r\n  ],\r\n  \"panels\": [\r\n    {\r\n      \"collapsed\": false,\r\n      \"gridPos\": {\r\n        \"h\": 1,\r\n        \"w\": 24,\r\n        \"x\": 0,\r\n        \"y\": 0\r\n      },\r\n      \"id\": 32,\r\n      \"panels\": [],\r\n      \"title\": \"【${__from:date:YYYY-MM-DD}~${__to:date:YYYY-MM-DD}最大资源使用的日期：${maxday}】【$env】高峰时段全局资源统计与各资源TOP10\",\r\n      \"type\": \"row\"\r\n    },\r\n    {\r\n      \"datasource\": {\r\n        \"type\": \"grafana-clickhouse-datasource\",\r\n        \"uid\": \"KubeDoor-Clickhouse\"\r\n      },\r\n      \"fieldConfig\": {\r\n        \"defaults\": {\r\n          \"color\": {\r\n            \"mode\": \"palette-classic-by-name\"\r\n          },\r\n          \"mappings\": [],\r\n          \"thresholds\": {\r\n            \"mode\": \"absolute\",\r\n            \"steps\": [\r\n              {\r\n                \"color\": \"green\",\r\n                \"value\": null\r\n              },\r\n              {\r\n                \"color\": \"red\",\r\n                \"value\": 80\r\n              }\r\n            ]\r\n          }\r\n        },\r\n        \"overrides\": [\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byRegexp\",\r\n              \"options\": \"/内存.*/\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"unit\",\r\n                \"value\": \"mbytes\"\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      },\r\n      \"gridPos\": {\r\n        \"h\": 3,\r\n        \"w\": 8,\r\n        \"x\": 0,\r\n        \"y\": 1\r\n      },\r\n      \"id\": 30,\r\n      \"options\": {\r\n        \"colorMode\": \"background\",\r\n        \"graphMode\": \"area\",\r\n        \"justifyMode\": \"center\",\r\n        \"orientation\": \"auto\",\r\n        \"percentChangeColorMode\": \"standard\",\r\n        \"reduceOptions\": {\r\n          \"calcs\": [\r\n            \"lastNotNull\"\r\n          ],\r\n          \"fields\": \"/.*/\",\r\n          \"values\": true\r\n        },\r\n        \"showPercentChange\": false,\r\n        \"textMode\": \"value_and_name\",\r\n        \"wideLayout\": true\r\n      },\r\n      \"pluginVersion\": \"11.4.0\",\r\n      \"targets\": [\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"grafana-clickhouse-datasource\",\r\n            \"uid\": \"KubeDoor-Clickhouse\"\r\n          },\r\n          \"format\": 1,\r\n          \"meta\": {\r\n            \"builderOptions\": {\r\n              \"fields\": [],\r\n              \"limit\": 100,\r\n              \"mode\": \"list\"\r\n            }\r\n          },\r\n          \"queryType\": \"sql\",\r\n          \"rawSql\": \"select count(DISTINCT namespace) as \\\"命名空间\\\"\\r\\n  FROM\\r\\n    kubedoor.${table} PREWHERE date = '${maxday}'AND ${env}\\r\\n\\r\\n\",\r\n          \"refId\": \"A\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"grafana-clickhouse-datasource\",\r\n            \"uid\": \"KubeDoor-Clickhouse\"\r\n          },\r\n          \"format\": 1,\r\n          \"hide\": false,\r\n          \"meta\": {\r\n            \"builderOptions\": {\r\n              \"fields\": [],\r\n              \"limit\": 100,\r\n              \"mode\": \"list\"\r\n            }\r\n          },\r\n          \"queryType\": \"sql\",\r\n          \"rawSql\": \"select count(DISTINCT deployment) as \\\"微服务\\\"\\r\\n  FROM\\r\\n    kubedoor.${table} PREWHERE date = '${maxday}'AND ${env}\\r\\n\\r\\n\",\r\n          \"refId\": \"B\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"grafana-clickhouse-datasource\",\r\n            \"uid\": \"KubeDoor-Clickhouse\"\r\n          },\r\n          \"format\": 1,\r\n          \"hide\": false,\r\n          \"meta\": {\r\n            \"builderOptions\": {\r\n              \"fields\": [],\r\n              \"limit\": 100,\r\n              \"mode\": \"list\"\r\n            }\r\n          },\r\n          \"queryType\": \"sql\",\r\n          \"rawSql\": \"select sum(pod_count) as \\\"Pod\\\"\\r\\n  FROM\\r\\n    kubedoor.${table} PREWHERE date = '${maxday}'AND ${env}\\r\\n\\r\\n\",\r\n          \"refId\": \"C\"\r\n        }\r\n      ],\r\n      \"type\": \"stat\"\r\n    },\r\n    {\r\n      \"datasource\": {\r\n        \"type\": \"grafana-clickhouse-datasource\",\r\n        \"uid\": \"KubeDoor-Clickhouse\"\r\n      },\r\n      \"fieldConfig\": {\r\n        \"defaults\": {\r\n          \"color\": {\r\n            \"mode\": \"palette-classic\"\r\n          },\r\n          \"mappings\": [],\r\n          \"thresholds\": {\r\n            \"mode\": \"absolute\",\r\n            \"steps\": [\r\n              {\r\n                \"color\": \"green\",\r\n                \"value\": null\r\n              },\r\n              {\r\n                \"color\": \"red\",\r\n                \"value\": 80\r\n              }\r\n            ]\r\n          }\r\n        },\r\n        \"overrides\": [\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byRegexp\",\r\n              \"options\": \"/内存.*/\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"unit\",\r\n                \"value\": \"mbytes\"\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      },\r\n      \"gridPos\": {\r\n        \"h\": 3,\r\n        \"w\": 8,\r\n        \"x\": 8,\r\n        \"y\": 1\r\n      },\r\n      \"id\": 31,\r\n      \"options\": {\r\n        \"colorMode\": \"background\",\r\n        \"graphMode\": \"area\",\r\n        \"justifyMode\": \"center\",\r\n        \"orientation\": \"auto\",\r\n        \"percentChangeColorMode\": \"standard\",\r\n        \"reduceOptions\": {\r\n          \"calcs\": [\r\n            \"lastNotNull\"\r\n          ],\r\n          \"fields\": \"/.*/\",\r\n          \"values\": true\r\n        },\r\n        \"showPercentChange\": false,\r\n        \"textMode\": \"value_and_name\",\r\n        \"wideLayout\": true\r\n      },\r\n      \"pluginVersion\": \"11.4.0\",\r\n      \"targets\": [\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"grafana-clickhouse-datasource\",\r\n            \"uid\": \"KubeDoor-Clickhouse\"\r\n          },\r\n          \"format\": 1,\r\n          \"hide\": false,\r\n          \"meta\": {\r\n            \"builderOptions\": {\r\n              \"fields\": [],\r\n              \"limit\": 100,\r\n              \"mode\": \"list\"\r\n            }\r\n          },\r\n          \"queryType\": \"sql\",\r\n          \"rawSql\": \"select sum(request_pod_cpu_m * pod_count)/1000 as \\\"CPU需求\\\"\\r\\n  FROM\\r\\n    kubedoor.${table} PREWHERE date = '${maxday}'AND ${env}\\r\\n\\r\\n\",\r\n          \"refId\": \"H\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"grafana-clickhouse-datasource\",\r\n            \"uid\": \"KubeDoor-Clickhouse\"\r\n          },\r\n          \"format\": 1,\r\n          \"hide\": false,\r\n          \"meta\": {\r\n            \"builderOptions\": {\r\n              \"fields\": [],\r\n              \"limit\": 100,\r\n              \"mode\": \"list\"\r\n            }\r\n          },\r\n          \"queryType\": \"sql\",\r\n          \"rawSql\": \"select sum(p95_pod_load * pod_count) as \\\"负载使用\\\"\\r\\n  FROM\\r\\n    kubedoor.${table} PREWHERE date = '${maxday}'AND ${env}\\r\\n\\r\\n\",\r\n          \"refId\": \"I\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"grafana-clickhouse-datasource\",\r\n            \"uid\": \"KubeDoor-Clickhouse\"\r\n          },\r\n          \"format\": 1,\r\n          \"hide\": false,\r\n          \"meta\": {\r\n            \"builderOptions\": {\r\n              \"fields\": [],\r\n              \"limit\": 100,\r\n              \"mode\": \"list\"\r\n            }\r\n          },\r\n          \"queryType\": \"sql\",\r\n          \"rawSql\": \"select sum(limit_pod_cpu_m * pod_count)/1000 as \\\"CPU限制\\\"\\r\\n  FROM\\r\\n    kubedoor.${table} PREWHERE date = '${maxday}'AND ${env}\\r\\n\\r\\n\",\r\n          \"refId\": \"A\"\r\n        }\r\n      ],\r\n      \"type\": \"stat\"\r\n    },\r\n    {\r\n      \"datasource\": {\r\n        \"type\": \"grafana-clickhouse-datasource\",\r\n        \"uid\": \"KubeDoor-Clickhouse\"\r\n      },\r\n      \"fieldConfig\": {\r\n        \"defaults\": {\r\n          \"color\": {\r\n            \"mode\": \"palette-classic\"\r\n          },\r\n          \"mappings\": [],\r\n          \"thresholds\": {\r\n            \"mode\": \"absolute\",\r\n            \"steps\": [\r\n              {\r\n                \"color\": \"green\",\r\n                \"value\": null\r\n              },\r\n              {\r\n                \"color\": \"red\",\r\n                \"value\": 80\r\n              }\r\n            ]\r\n          }\r\n        },\r\n        \"overrides\": [\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byRegexp\",\r\n              \"options\": \"/内存.*/\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"unit\",\r\n                \"value\": \"mbytes\"\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      },\r\n      \"gridPos\": {\r\n        \"h\": 3,\r\n        \"w\": 8,\r\n        \"x\": 16,\r\n        \"y\": 1\r\n      },\r\n      \"id\": 33,\r\n      \"options\": {\r\n        \"colorMode\": \"background\",\r\n        \"graphMode\": \"area\",\r\n        \"justifyMode\": \"center\",\r\n        \"orientation\": \"auto\",\r\n        \"percentChangeColorMode\": \"standard\",\r\n        \"reduceOptions\": {\r\n          \"calcs\": [\r\n            \"lastNotNull\"\r\n          ],\r\n          \"fields\": \"/.*/\",\r\n          \"values\": true\r\n        },\r\n        \"showPercentChange\": false,\r\n        \"textMode\": \"value_and_name\",\r\n        \"wideLayout\": true\r\n      },\r\n      \"pluginVersion\": \"11.4.0\",\r\n      \"targets\": [\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"grafana-clickhouse-datasource\",\r\n            \"uid\": \"KubeDoor-Clickhouse\"\r\n          },\r\n          \"format\": 1,\r\n          \"hide\": false,\r\n          \"meta\": {\r\n            \"builderOptions\": {\r\n              \"fields\": [],\r\n              \"limit\": 100,\r\n              \"mode\": \"list\"\r\n            }\r\n          },\r\n          \"queryType\": \"sql\",\r\n          \"rawSql\": \"select sum(request_pod_mem_mb * pod_count) as \\\"内存需求\\\"\\r\\n  FROM\\r\\n    kubedoor.${table} PREWHERE date = '${maxday}'AND ${env}\\r\\n\\r\\n\",\r\n          \"refId\": \"F\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"grafana-clickhouse-datasource\",\r\n            \"uid\": \"KubeDoor-Clickhouse\"\r\n          },\r\n          \"format\": 1,\r\n          \"hide\": false,\r\n          \"meta\": {\r\n            \"builderOptions\": {\r\n              \"fields\": [],\r\n              \"limit\": 100,\r\n              \"mode\": \"list\"\r\n            }\r\n          },\r\n          \"queryType\": \"sql\",\r\n          \"rawSql\": \"select sum(p95_pod_wss_mb * pod_count) as \\\"内存使用\\\"\\r\\n  FROM\\r\\n    kubedoor.${table} PREWHERE date = '${maxday}'AND ${env}\\r\\n\\r\\n\",\r\n          \"refId\": \"A\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"grafana-clickhouse-datasource\",\r\n            \"uid\": \"KubeDoor-Clickhouse\"\r\n          },\r\n          \"format\": 1,\r\n          \"hide\": false,\r\n          \"meta\": {\r\n            \"builderOptions\": {\r\n              \"fields\": [],\r\n              \"limit\": 100,\r\n              \"mode\": \"list\"\r\n            }\r\n          },\r\n          \"queryType\": \"sql\",\r\n          \"rawSql\": \"select sum(limit_pod_mem_mb * pod_count) as \\\"内存限制\\\"\\r\\n  FROM\\r\\n    kubedoor.${table} PREWHERE date = '${maxday}'AND ${env}\\r\\n\\r\\n\",\r\n          \"refId\": \"G\"\r\n        }\r\n      ],\r\n      \"type\": \"stat\"\r\n    },\r\n    {\r\n      \"datasource\": {\r\n        \"type\": \"grafana-clickhouse-datasource\",\r\n        \"uid\": \"KubeDoor-Clickhouse\"\r\n      },\r\n      \"fieldConfig\": {\r\n        \"defaults\": {\r\n          \"color\": {\r\n            \"mode\": \"palette-classic\"\r\n          },\r\n          \"decimals\": 1,\r\n          \"fieldMinMax\": false,\r\n          \"mappings\": [],\r\n          \"min\": 0,\r\n          \"thresholds\": {\r\n            \"mode\": \"absolute\",\r\n            \"steps\": [\r\n              {\r\n                \"color\": \"green\",\r\n                \"value\": null\r\n              },\r\n              {\r\n                \"color\": \"red\",\r\n                \"value\": 80\r\n              }\r\n            ]\r\n          }\r\n        },\r\n        \"overrides\": []\r\n      },\r\n      \"gridPos\": {\r\n        \"h\": 12,\r\n        \"w\": 5,\r\n        \"x\": 0,\r\n        \"y\": 4\r\n      },\r\n      \"id\": 25,\r\n      \"options\": {\r\n        \"displayMode\": \"gradient\",\r\n        \"legend\": {\r\n          \"calcs\": [],\r\n          \"displayMode\": \"list\",\r\n          \"placement\": \"bottom\",\r\n          \"showLegend\": false\r\n        },\r\n        \"maxVizHeight\": 300,\r\n        \"minVizHeight\": 16,\r\n        \"minVizWidth\": 8,\r\n        \"namePlacement\": \"top\",\r\n        \"orientation\": \"horizontal\",\r\n        \"reduceOptions\": {\r\n          \"calcs\": [\r\n            \"lastNotNull\"\r\n          ],\r\n          \"fields\": \"\",\r\n          \"values\": true\r\n        },\r\n        \"showUnfilled\": true,\r\n        \"sizing\": \"auto\",\r\n        \"valueMode\": \"color\"\r\n      },\r\n      \"pluginVersion\": \"11.4.0\",\r\n      \"targets\": [\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"grafana-clickhouse-datasource\",\r\n            \"uid\": \"KubeDoor-Clickhouse\"\r\n          },\r\n          \"format\": 1,\r\n          \"meta\": {\r\n            \"builderOptions\": {\r\n              \"fields\": [],\r\n              \"limit\": 100,\r\n              \"mode\": \"list\"\r\n            }\r\n          },\r\n          \"queryType\": \"sql\",\r\n          \"rawSql\": \"  SELECT\\r\\n    concat(namespace,':',deployment) AS name,\\r\\n    sum(p95_pod_load * pod_count) AS load\\r\\n  FROM\\r\\n    kubedoor.${table} PREWHERE date = '${maxday}'AND ${env}\\r\\n  GROUP BY\\r\\n    name\\r\\n    order by load desc\\r\\n    limit 10\",\r\n          \"refId\": \"A\"\r\n        }\r\n      ],\r\n      \"title\": \"微服务负载使用TOP10\",\r\n      \"type\": \"bargauge\"\r\n    },\r\n    {\r\n      \"datasource\": {\r\n        \"type\": \"grafana-clickhouse-datasource\",\r\n        \"uid\": \"KubeDoor-Clickhouse\"\r\n      },\r\n      \"fieldConfig\": {\r\n        \"defaults\": {\r\n          \"color\": {\r\n            \"mode\": \"palette-classic\"\r\n          },\r\n          \"mappings\": [],\r\n          \"min\": 0,\r\n          \"thresholds\": {\r\n            \"mode\": \"absolute\",\r\n            \"steps\": [\r\n              {\r\n                \"color\": \"green\",\r\n                \"value\": null\r\n              },\r\n              {\r\n                \"color\": \"red\",\r\n                \"value\": 80\r\n              }\r\n            ]\r\n          },\r\n          \"unit\": \"percent\"\r\n        },\r\n        \"overrides\": []\r\n      },\r\n      \"gridPos\": {\r\n        \"h\": 12,\r\n        \"w\": 5,\r\n        \"x\": 5,\r\n        \"y\": 4\r\n      },\r\n      \"id\": 28,\r\n      \"options\": {\r\n        \"displayMode\": \"gradient\",\r\n        \"legend\": {\r\n          \"calcs\": [],\r\n          \"displayMode\": \"list\",\r\n          \"placement\": \"bottom\",\r\n          \"showLegend\": false\r\n        },\r\n        \"maxVizHeight\": 300,\r\n        \"minVizHeight\": 16,\r\n        \"minVizWidth\": 8,\r\n        \"namePlacement\": \"top\",\r\n        \"orientation\": \"horizontal\",\r\n        \"reduceOptions\": {\r\n          \"calcs\": [\r\n            \"lastNotNull\"\r\n          ],\r\n          \"fields\": \"\",\r\n          \"values\": true\r\n        },\r\n        \"showUnfilled\": true,\r\n        \"sizing\": \"auto\",\r\n        \"valueMode\": \"color\"\r\n      },\r\n      \"pluginVersion\": \"11.4.0\",\r\n      \"targets\": [\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"grafana-clickhouse-datasource\",\r\n            \"uid\": \"KubeDoor-Clickhouse\"\r\n          },\r\n          \"format\": 1,\r\n          \"meta\": {\r\n            \"builderOptions\": {\r\n              \"fields\": [],\r\n              \"limit\": 100,\r\n              \"mode\": \"list\"\r\n            }\r\n          },\r\n          \"queryType\": \"sql\",\r\n          \"rawSql\": \"  SELECT\\r\\n    concat(namespace,':',deployment) AS name,\\r\\n    sum(p95_pod_cpu_pct) AS load\\r\\n  FROM\\r\\n    kubedoor.${table} PREWHERE date = '${maxday}'AND ${env}\\r\\n  GROUP BY\\r\\n    name\\r\\n    order by load desc\\r\\n    limit 10\",\r\n          \"refId\": \"A\"\r\n        }\r\n      ],\r\n      \"title\": \"微服务CPU使用率TOP10\",\r\n      \"type\": \"bargauge\"\r\n    },\r\n    {\r\n      \"datasource\": {\r\n        \"type\": \"grafana-clickhouse-datasource\",\r\n        \"uid\": \"KubeDoor-Clickhouse\"\r\n      },\r\n      \"fieldConfig\": {\r\n        \"defaults\": {\r\n          \"color\": {\r\n            \"mode\": \"palette-classic\"\r\n          },\r\n          \"decimals\": 1,\r\n          \"mappings\": [],\r\n          \"min\": 0,\r\n          \"thresholds\": {\r\n            \"mode\": \"absolute\",\r\n            \"steps\": [\r\n              {\r\n                \"color\": \"green\",\r\n                \"value\": null\r\n              },\r\n              {\r\n                \"color\": \"red\",\r\n                \"value\": 80\r\n              }\r\n            ]\r\n          },\r\n          \"unit\": \"mbytes\"\r\n        },\r\n        \"overrides\": []\r\n      },\r\n      \"gridPos\": {\r\n        \"h\": 12,\r\n        \"w\": 5,\r\n        \"x\": 10,\r\n        \"y\": 4\r\n      },\r\n      \"id\": 26,\r\n      \"options\": {\r\n        \"displayMode\": \"gradient\",\r\n        \"legend\": {\r\n          \"calcs\": [],\r\n          \"displayMode\": \"list\",\r\n          \"placement\": \"bottom\",\r\n          \"showLegend\": false\r\n        },\r\n        \"maxVizHeight\": 300,\r\n        \"minVizHeight\": 16,\r\n        \"minVizWidth\": 8,\r\n        \"namePlacement\": \"top\",\r\n        \"orientation\": \"horizontal\",\r\n        \"reduceOptions\": {\r\n          \"calcs\": [\r\n            \"lastNotNull\"\r\n          ],\r\n          \"fields\": \"\",\r\n          \"values\": true\r\n        },\r\n        \"showUnfilled\": true,\r\n        \"sizing\": \"auto\",\r\n        \"valueMode\": \"color\"\r\n      },\r\n      \"pluginVersion\": \"11.4.0\",\r\n      \"targets\": [\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"grafana-clickhouse-datasource\",\r\n            \"uid\": \"KubeDoor-Clickhouse\"\r\n          },\r\n          \"format\": 1,\r\n          \"meta\": {\r\n            \"builderOptions\": {\r\n              \"fields\": [],\r\n              \"limit\": 100,\r\n              \"mode\": \"list\"\r\n            }\r\n          },\r\n          \"queryType\": \"sql\",\r\n          \"rawSql\": \"  SELECT\\r\\n    concat(namespace,':',deployment) AS name,\\r\\n    sum(p95_pod_wss_mb * pod_count) AS load\\r\\n  FROM\\r\\n    kubedoor.${table} PREWHERE date = '${maxday}'AND ${env}\\r\\n  GROUP BY\\r\\n    name\\r\\n    order by load desc\\r\\n    limit 10\",\r\n          \"refId\": \"A\"\r\n        }\r\n      ],\r\n      \"title\": \"微服务内存使用TOP10\",\r\n      \"type\": \"bargauge\"\r\n    },\r\n    {\r\n      \"datasource\": {\r\n        \"type\": \"grafana-clickhouse-datasource\",\r\n        \"uid\": \"KubeDoor-Clickhouse\"\r\n      },\r\n      \"fieldConfig\": {\r\n        \"defaults\": {\r\n          \"color\": {\r\n            \"mode\": \"palette-classic\"\r\n          },\r\n          \"mappings\": [],\r\n          \"min\": 0,\r\n          \"thresholds\": {\r\n            \"mode\": \"absolute\",\r\n            \"steps\": [\r\n              {\r\n                \"color\": \"green\",\r\n                \"value\": null\r\n              },\r\n              {\r\n                \"color\": \"red\",\r\n                \"value\": 80\r\n              }\r\n            ]\r\n          },\r\n          \"unit\": \"percent\"\r\n        },\r\n        \"overrides\": []\r\n      },\r\n      \"gridPos\": {\r\n        \"h\": 12,\r\n        \"w\": 5,\r\n        \"x\": 15,\r\n        \"y\": 4\r\n      },\r\n      \"id\": 29,\r\n      \"options\": {\r\n        \"displayMode\": \"gradient\",\r\n        \"legend\": {\r\n          \"calcs\": [],\r\n          \"displayMode\": \"list\",\r\n          \"placement\": \"bottom\",\r\n          \"showLegend\": false\r\n        },\r\n        \"maxVizHeight\": 300,\r\n        \"minVizHeight\": 16,\r\n        \"minVizWidth\": 8,\r\n        \"namePlacement\": \"top\",\r\n        \"orientation\": \"horizontal\",\r\n        \"reduceOptions\": {\r\n          \"calcs\": [\r\n            \"lastNotNull\"\r\n          ],\r\n          \"fields\": \"\",\r\n          \"values\": true\r\n        },\r\n        \"showUnfilled\": true,\r\n        \"sizing\": \"auto\",\r\n        \"valueMode\": \"color\"\r\n      },\r\n      \"pluginVersion\": \"11.4.0\",\r\n      \"targets\": [\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"grafana-clickhouse-datasource\",\r\n            \"uid\": \"KubeDoor-Clickhouse\"\r\n          },\r\n          \"format\": 1,\r\n          \"meta\": {\r\n            \"builderOptions\": {\r\n              \"fields\": [],\r\n              \"limit\": 100,\r\n              \"mode\": \"list\"\r\n            }\r\n          },\r\n          \"queryType\": \"sql\",\r\n          \"rawSql\": \"  SELECT\\r\\n    concat(namespace,':',deployment) AS name,\\r\\n    sum(p95_pod_wss_pct) AS load\\r\\n  FROM\\r\\n    kubedoor.${table} PREWHERE date = '${maxday}'AND ${env}\\r\\n  GROUP BY\\r\\n    name\\r\\n    order by load desc\\r\\n    limit 10\",\r\n          \"refId\": \"A\"\r\n        }\r\n      ],\r\n      \"title\": \"微服务内存使用率TOP10\",\r\n      \"type\": \"bargauge\"\r\n    },\r\n    {\r\n      \"datasource\": {\r\n        \"type\": \"grafana-clickhouse-datasource\",\r\n        \"uid\": \"KubeDoor-Clickhouse\"\r\n      },\r\n      \"fieldConfig\": {\r\n        \"defaults\": {\r\n          \"color\": {\r\n            \"mode\": \"palette-classic\"\r\n          },\r\n          \"mappings\": [],\r\n          \"min\": 0,\r\n          \"thresholds\": {\r\n            \"mode\": \"absolute\",\r\n            \"steps\": [\r\n              {\r\n                \"color\": \"green\",\r\n                \"value\": null\r\n              },\r\n              {\r\n                \"color\": \"red\",\r\n                \"value\": 80\r\n              }\r\n            ]\r\n          },\r\n          \"unit\": \"none\"\r\n        },\r\n        \"overrides\": []\r\n      },\r\n      \"gridPos\": {\r\n        \"h\": 12,\r\n        \"w\": 4,\r\n        \"x\": 20,\r\n        \"y\": 4\r\n      },\r\n      \"id\": 27,\r\n      \"options\": {\r\n        \"displayMode\": \"gradient\",\r\n        \"legend\": {\r\n          \"calcs\": [],\r\n          \"displayMode\": \"list\",\r\n          \"placement\": \"bottom\",\r\n          \"showLegend\": false\r\n        },\r\n        \"maxVizHeight\": 300,\r\n        \"minVizHeight\": 16,\r\n        \"minVizWidth\": 8,\r\n        \"namePlacement\": \"top\",\r\n        \"orientation\": \"horizontal\",\r\n        \"reduceOptions\": {\r\n          \"calcs\": [\r\n            \"lastNotNull\"\r\n          ],\r\n          \"fields\": \"\",\r\n          \"values\": true\r\n        },\r\n        \"showUnfilled\": true,\r\n        \"sizing\": \"auto\",\r\n        \"valueMode\": \"color\"\r\n      },\r\n      \"pluginVersion\": \"11.4.0\",\r\n      \"targets\": [\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"grafana-clickhouse-datasource\",\r\n            \"uid\": \"KubeDoor-Clickhouse\"\r\n          },\r\n          \"format\": 1,\r\n          \"meta\": {\r\n            \"builderOptions\": {\r\n              \"fields\": [],\r\n              \"limit\": 100,\r\n              \"mode\": \"list\"\r\n            }\r\n          },\r\n          \"queryType\": \"sql\",\r\n          \"rawSql\": \"  SELECT\\r\\n    concat(namespace,':',deployment) AS name,\\r\\n    sum(pod_count) AS load\\r\\n  FROM\\r\\n    kubedoor.${table} PREWHERE date = '${maxday}'AND ${env}\\r\\n  GROUP BY\\r\\n    name\\r\\n    order by load desc\\r\\n    limit 10\",\r\n          \"refId\": \"A\"\r\n        }\r\n      ],\r\n      \"title\": \"微服务Pod数TOP10\",\r\n      \"type\": \"bargauge\"\r\n    },\r\n    {\r\n      \"collapsed\": false,\r\n      \"gridPos\": {\r\n        \"h\": 1,\r\n        \"w\": 24,\r\n        \"x\": 0,\r\n        \"y\": 16\r\n      },\r\n      \"id\": 24,\r\n      \"panels\": [],\r\n      \"title\": \"命名空间级别最大资源使用分析\",\r\n      \"type\": \"row\"\r\n    },\r\n    {\r\n      \"datasource\": {\r\n        \"type\": \"grafana-clickhouse-datasource\",\r\n        \"uid\": \"KubeDoor-Clickhouse\"\r\n      },\r\n      \"fieldConfig\": {\r\n        \"defaults\": {\r\n          \"color\": {\r\n            \"mode\": \"palette-classic-by-name\"\r\n          },\r\n          \"custom\": {\r\n            \"align\": \"center\",\r\n            \"cellOptions\": {\r\n              \"applyToRow\": false,\r\n              \"type\": \"color-background\",\r\n              \"wrapText\": false\r\n            },\r\n            \"inspect\": false\r\n          },\r\n          \"mappings\": [],\r\n          \"thresholds\": {\r\n            \"mode\": \"absolute\",\r\n            \"steps\": [\r\n              {\r\n                \"color\": \"green\",\r\n                \"value\": null\r\n              }\r\n            ]\r\n          }\r\n        },\r\n        \"overrides\": [\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byRegexp\",\r\n              \"options\": \"/内存.*/\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"unit\",\r\n                \"value\": \"mbytes\"\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"微服务数\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 88\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"命名空间\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 86\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"微服务%\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 88\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"Pod数\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 77\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"Pod%\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 76\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"CPU限制\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 91\r\n              },\r\n              {\r\n                \"id\": \"custom.cellOptions\",\r\n                \"value\": {\r\n                  \"type\": \"color-text\",\r\n                  \"wrapText\": false\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"red\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"CPU需求%\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 107\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"CPU需求\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 92\r\n              },\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"green\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"custom.cellOptions\",\r\n                \"value\": {\r\n                  \"type\": \"color-text\",\r\n                  \"wrapText\": false\r\n                }\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"CPU限制%\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 107\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"CPU负载%\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 105\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"内存需求\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 91\r\n              },\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"green\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"custom.cellOptions\",\r\n                \"value\": {\r\n                  \"type\": \"color-text\",\r\n                  \"wrapText\": false\r\n                }\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"CPU负载\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 93\r\n              },\r\n              {\r\n                \"id\": \"custom.cellOptions\",\r\n                \"value\": {\r\n                  \"type\": \"color-text\",\r\n                  \"wrapText\": false\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"yellow\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"内存需求%\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 102\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byRegexp\",\r\n              \"options\": \"/.*%/\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"unit\",\r\n                \"value\": \"percentunit\"\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"内存限制%\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 102\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"内存限制\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 90\r\n              },\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"red\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"custom.cellOptions\",\r\n                \"value\": {\r\n                  \"type\": \"color-text\",\r\n                  \"wrapText\": false\r\n                }\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"内存使用\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 89\r\n              },\r\n              {\r\n                \"id\": \"custom.cellOptions\",\r\n                \"value\": {\r\n                  \"type\": \"color-text\",\r\n                  \"wrapText\": false\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"yellow\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"内存%\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 74\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      },\r\n      \"gridPos\": {\r\n        \"h\": 17,\r\n        \"w\": 24,\r\n        \"x\": 0,\r\n        \"y\": 17\r\n      },\r\n      \"id\": 10,\r\n      \"options\": {\r\n        \"cellHeight\": \"sm\",\r\n        \"footer\": {\r\n          \"countRows\": false,\r\n          \"fields\": \"\",\r\n          \"reducer\": [\r\n            \"sum\"\r\n          ],\r\n          \"show\": true\r\n        },\r\n        \"frameIndex\": 1,\r\n        \"showHeader\": true,\r\n        \"sortBy\": [\r\n          {\r\n            \"desc\": true,\r\n            \"displayName\": \"CPU负载\"\r\n          }\r\n        ]\r\n      },\r\n      \"pluginVersion\": \"11.4.0\",\r\n      \"targets\": [\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"grafana-clickhouse-datasource\",\r\n            \"uid\": \"KubeDoor-Clickhouse\"\r\n          },\r\n          \"format\": 1,\r\n          \"meta\": {\r\n            \"builderOptions\": {\r\n              \"fields\": [],\r\n              \"limit\": 100,\r\n              \"mode\": \"list\"\r\n            }\r\n          },\r\n          \"queryType\": \"sql\",\r\n          \"rawSql\": \"-- 计算每个命名空间的值\\r\\nWITH per_namespace AS (\\r\\n  SELECT\\r\\n    namespace,\\r\\n    count(DISTINCT(deployment)) AS deployment,\\r\\n    sum(pod_count) AS pod,\\r\\n    sum(p95_pod_load * pod_count) AS load,\\r\\n    sum(p95_pod_wss_mb * pod_count) AS mem,\\r\\n    sum(request_pod_cpu_m * pod_count/1000) AS cpu_request,\\r\\n    sum(limit_pod_cpu_m * pod_count/1000) AS cpu_limit,\\r\\n    sum(request_pod_mem_mb * pod_count) AS mem_request,\\r\\n    sum(limit_pod_mem_mb * pod_count) AS mem_limit\\r\\n  FROM\\r\\n    kubedoor.${table} PREWHERE date = '${maxday}'AND ${env}\\r\\n  GROUP BY\\r\\n    namespace\\r\\n),\\r\\n-- 计算总数\\r\\ntotals AS (\\r\\n  SELECT\\r\\n    sum(deployment) AS total_deployment,\\r\\n    sum(pod) AS total_pod,\\r\\n    sum(load) AS total_load,\\r\\n    sum(mem) AS total_mem,\\r\\n    sum(cpu_request) AS total_cpu_request,\\r\\n    sum(cpu_limit) AS total_cpu_limit,\\r\\n    sum(mem_request) AS total_mem_request,\\r\\n    sum(mem_limit) AS total_mem_limit\\r\\n  FROM\\r\\n    per_namespace\\r\\n) -- 合并并计算占比\\r\\nSELECT\\r\\n  per_namespace.namespace,\\r\\n  per_namespace.deployment,\\r\\n  per_namespace.deployment / totals.total_deployment AS deployment_percentage,\\r\\n  per_namespace.pod,\\r\\n  per_namespace.pod / totals.total_pod AS pod_percentage,\\r\\n\\r\\n  per_namespace.cpu_request,\\r\\n  per_namespace.cpu_request / totals.total_cpu_request AS cpu_request_percentage,\\r\\n  per_namespace.load,\\r\\n  per_namespace.load / totals.total_load AS load_percentage,\\r\\n  per_namespace.cpu_limit,\\r\\n  per_namespace.cpu_limit / totals.total_cpu_limit AS cpu_limit_percentage,\\r\\n\\r\\n  per_namespace.mem_request,\\r\\n  per_namespace.mem_request / totals.total_mem_request AS mem_request_percentage,\\r\\n  per_namespace.mem,\\r\\n  per_namespace.mem / totals.total_mem AS mem_percentage,\\r\\n  per_namespace.mem_limit,\\r\\n  per_namespace.mem_limit / totals.total_mem_limit AS mem_limit_percentage\\r\\n\\r\\nFROM\\r\\n  per_namespace\\r\\n  CROSS JOIN totals\",\r\n          \"refId\": \"A\"\r\n        }\r\n      ],\r\n      \"title\": \"【${__from:date:YYYY-MM-DD}~${__to:date:YYYY-MM-DD}最大资源使用的日期：${maxday}】【各命名空间级别】高峰时段P95资源使用量与资源占整体资源比例\",\r\n      \"transformations\": [\r\n        {\r\n          \"id\": \"seriesToRows\",\r\n          \"options\": {}\r\n        },\r\n        {\r\n          \"id\": \"organize\",\r\n          \"options\": {\r\n            \"excludeByName\": {},\r\n            \"includeByName\": {},\r\n            \"indexByName\": {},\r\n            \"renameByName\": {\r\n              \"cpu_limit\": \"CPU限制\",\r\n              \"cpu_limit_percentage\": \"CPU限制%\",\r\n              \"cpu_request\": \"CPU需求\",\r\n              \"cpu_request_percentage\": \"CPU需求%\",\r\n              \"date\": \"日期\",\r\n              \"deployment\": \"微服务数\",\r\n              \"deployment_percentage\": \"微服务%\",\r\n              \"load\": \"CPU负载\",\r\n              \"load_percentage\": \"CPU负载%\",\r\n              \"mem\": \"内存使用\",\r\n              \"mem_limit\": \"内存限制\",\r\n              \"mem_limit_percentage\": \"内存限制%\",\r\n              \"mem_percentage\": \"内存%\",\r\n              \"mem_request\": \"内存需求\",\r\n              \"mem_request_percentage\": \"内存需求%\",\r\n              \"namespace\": \"命名空间\",\r\n              \"pod\": \"Pod数\",\r\n              \"pod_percentage\": \"Pod%\"\r\n            }\r\n          }\r\n        }\r\n      ],\r\n      \"type\": \"table\"\r\n    },\r\n    {\r\n      \"collapsed\": true,\r\n      \"gridPos\": {\r\n        \"h\": 1,\r\n        \"w\": 24,\r\n        \"x\": 0,\r\n        \"y\": 34\r\n      },\r\n      \"id\": 19,\r\n      \"panels\": [\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"grafana-clickhouse-datasource\",\r\n            \"uid\": \"KubeDoor-Clickhouse\"\r\n          },\r\n          \"fieldConfig\": {\r\n            \"defaults\": {\r\n              \"color\": {\r\n                \"mode\": \"palette-classic-by-name\"\r\n              },\r\n              \"custom\": {\r\n                \"align\": \"center\",\r\n                \"cellOptions\": {\r\n                  \"applyToRow\": false,\r\n                  \"type\": \"color-background\",\r\n                  \"wrapText\": false\r\n                },\r\n                \"filterable\": false,\r\n                \"inspect\": false\r\n              },\r\n              \"mappings\": [],\r\n              \"thresholds\": {\r\n                \"mode\": \"absolute\",\r\n                \"steps\": [\r\n                  {\r\n                    \"color\": \"green\"\r\n                  }\r\n                ]\r\n              }\r\n            },\r\n            \"overrides\": [\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byRegexp\",\r\n                  \"options\": \"/内存.*/\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"unit\",\r\n                    \"value\": \"mbytes\"\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"命名空间\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 70\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"Pod数\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 67\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"Pod%\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 68\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"CPU限制\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 83\r\n                  },\r\n                  {\r\n                    \"id\": \"custom.cellOptions\",\r\n                    \"value\": {\r\n                      \"type\": \"color-text\",\r\n                      \"wrapText\": false\r\n                    }\r\n                  },\r\n                  {\r\n                    \"id\": \"color\",\r\n                    \"value\": {\r\n                      \"fixedColor\": \"red\",\r\n                      \"mode\": \"fixed\"\r\n                    }\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"CPU需求%\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 107\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"CPU需求\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 86\r\n                  },\r\n                  {\r\n                    \"id\": \"custom.cellOptions\",\r\n                    \"value\": {\r\n                      \"type\": \"color-text\",\r\n                      \"wrapText\": false\r\n                    }\r\n                  },\r\n                  {\r\n                    \"id\": \"color\",\r\n                    \"value\": {\r\n                      \"fixedColor\": \"green\",\r\n                      \"mode\": \"fixed\"\r\n                    }\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"CPU限制%\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 107\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"CPU负载%\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 105\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"内存需求\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 91\r\n                  },\r\n                  {\r\n                    \"id\": \"custom.cellOptions\",\r\n                    \"value\": {\r\n                      \"type\": \"color-text\",\r\n                      \"wrapText\": false\r\n                    }\r\n                  },\r\n                  {\r\n                    \"id\": \"color\",\r\n                    \"value\": {\r\n                      \"fixedColor\": \"green\",\r\n                      \"mode\": \"fixed\"\r\n                    }\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"CPU负载\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 90\r\n                  },\r\n                  {\r\n                    \"id\": \"custom.cellOptions\",\r\n                    \"value\": {\r\n                      \"type\": \"color-text\",\r\n                      \"wrapText\": false\r\n                    }\r\n                  },\r\n                  {\r\n                    \"id\": \"color\",\r\n                    \"value\": {\r\n                      \"fixedColor\": \"yellow\",\r\n                      \"mode\": \"fixed\"\r\n                    }\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"内存需求%\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 102\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byRegexp\",\r\n                  \"options\": \"/.*%/\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"unit\",\r\n                    \"value\": \"percentunit\"\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"内存限制%\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 102\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"内存限制\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 90\r\n                  },\r\n                  {\r\n                    \"id\": \"custom.cellOptions\",\r\n                    \"value\": {\r\n                      \"type\": \"color-text\",\r\n                      \"wrapText\": false\r\n                    }\r\n                  },\r\n                  {\r\n                    \"id\": \"color\",\r\n                    \"value\": {\r\n                      \"fixedColor\": \"red\",\r\n                      \"mode\": \"fixed\"\r\n                    }\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"内存使用\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 89\r\n                  },\r\n                  {\r\n                    \"id\": \"custom.cellOptions\",\r\n                    \"value\": {\r\n                      \"type\": \"color-text\",\r\n                      \"wrapText\": false\r\n                    }\r\n                  },\r\n                  {\r\n                    \"id\": \"color\",\r\n                    \"value\": {\r\n                      \"fixedColor\": \"yellow\",\r\n                      \"mode\": \"fixed\"\r\n                    }\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"内存%\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 74\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"微服务\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\"\r\n                  },\r\n                  {\r\n                    \"id\": \"custom.filterable\",\r\n                    \"value\": true\r\n                  }\r\n                ]\r\n              }\r\n            ]\r\n          },\r\n          \"gridPos\": {\r\n            \"h\": 12,\r\n            \"w\": 24,\r\n            \"x\": 0,\r\n            \"y\": 35\r\n          },\r\n          \"id\": 21,\r\n          \"options\": {\r\n            \"cellHeight\": \"sm\",\r\n            \"footer\": {\r\n              \"countRows\": false,\r\n              \"enablePagination\": false,\r\n              \"fields\": [],\r\n              \"reducer\": [\r\n                \"sum\"\r\n              ],\r\n              \"show\": true\r\n            },\r\n            \"frameIndex\": 1,\r\n            \"showHeader\": true,\r\n            \"sortBy\": [\r\n              {\r\n                \"desc\": false,\r\n                \"displayName\": \"CPU需求\"\r\n              }\r\n            ]\r\n          },\r\n          \"pluginVersion\": \"11.4.0\",\r\n          \"targets\": [\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"grafana-clickhouse-datasource\",\r\n                \"uid\": \"KubeDoor-Clickhouse\"\r\n              },\r\n              \"format\": 1,\r\n              \"meta\": {\r\n                \"builderOptions\": {\r\n                  \"fields\": [],\r\n                  \"limit\": 100,\r\n                  \"mode\": \"list\"\r\n                }\r\n              },\r\n              \"queryType\": \"sql\",\r\n              \"rawSql\": \"-- 计算每个命名空间的值\\r\\nWITH per_namespace AS (\\r\\n  SELECT\\r\\n    namespace,\\r\\n    deployment,\\r\\n    sum(pod_count) AS pod,\\r\\n    sum(p95_pod_load * pod_count) AS load,\\r\\n    sum(p95_pod_wss_mb * pod_count) AS mem,\\r\\n    sum(request_pod_cpu_m * pod_count/1000) AS cpu_request,\\r\\n    sum(limit_pod_cpu_m * pod_count/1000) AS cpu_limit,\\r\\n    sum(request_pod_mem_mb * pod_count) AS mem_request,\\r\\n    sum(limit_pod_mem_mb * pod_count) AS mem_limit\\r\\n  FROM\\r\\n    kubedoor.${table} PREWHERE date = '${maxday}' AND ${env} AND ${namespace}\\r\\n  GROUP BY\\r\\n    namespace,deployment\\r\\n),\\r\\n-- 计算总数\\r\\ntotals AS (\\r\\n  SELECT\\r\\n    sum(pod) AS total_pod,\\r\\n    sum(load) AS total_load,\\r\\n    sum(mem) AS total_mem,\\r\\n    sum(cpu_request) AS total_cpu_request,\\r\\n    sum(cpu_limit) AS total_cpu_limit,\\r\\n    sum(mem_request) AS total_mem_request,\\r\\n    sum(mem_limit) AS total_mem_limit\\r\\n  FROM\\r\\n    per_namespace\\r\\n) -- 合并并计算占比\\r\\nSELECT\\r\\n  per_namespace.namespace,\\r\\n  per_namespace.deployment,\\r\\n  per_namespace.pod,\\r\\n  per_namespace.pod / totals.total_pod AS pod_percentage,\\r\\n  per_namespace.cpu_request,\\r\\n  per_namespace.cpu_request / totals.total_cpu_request AS cpu_request_percentage,\\r\\n  per_namespace.load,\\r\\n  per_namespace.load / totals.total_load AS load_percentage,\\r\\n  per_namespace.cpu_limit,\\r\\n  per_namespace.cpu_limit / totals.total_cpu_limit AS cpu_limit_percentage,\\r\\n\\r\\n  per_namespace.mem_request,\\r\\n  per_namespace.mem_request / totals.total_mem_request AS mem_request_percentage,\\r\\n  per_namespace.mem,\\r\\n  per_namespace.mem / totals.total_mem AS mem_percentage,\\r\\n  per_namespace.mem_limit,\\r\\n  per_namespace.mem_limit / totals.total_mem_limit AS mem_limit_percentage\\r\\n\\r\\nFROM\\r\\n  per_namespace\\r\\n  CROSS JOIN totals\",\r\n              \"refId\": \"A\"\r\n            }\r\n          ],\r\n          \"title\": \"【${__from:date:YYYY-MM-DD}~${__to:date:YYYY-MM-DD}最大资源使用的日期：${maxday}】【各微服务级别】高峰时段P95资源使用量与资源占整体资源比例\",\r\n          \"transformations\": [\r\n            {\r\n              \"id\": \"seriesToRows\",\r\n              \"options\": {}\r\n            },\r\n            {\r\n              \"id\": \"organize\",\r\n              \"options\": {\r\n                \"excludeByName\": {},\r\n                \"includeByName\": {},\r\n                \"indexByName\": {},\r\n                \"renameByName\": {\r\n                  \"cpu_limit\": \"CPU限制\",\r\n                  \"cpu_limit_percentage\": \"CPU限制%\",\r\n                  \"cpu_request\": \"CPU需求\",\r\n                  \"cpu_request_percentage\": \"CPU需求%\",\r\n                  \"date\": \"日期\",\r\n                  \"deployment\": \"微服务\",\r\n                  \"deployment_percentage\": \"微服务%\",\r\n                  \"load\": \"CPU负载\",\r\n                  \"load_percentage\": \"CPU负载%\",\r\n                  \"mem\": \"内存使用\",\r\n                  \"mem_limit\": \"内存限制\",\r\n                  \"mem_limit_percentage\": \"内存限制%\",\r\n                  \"mem_percentage\": \"内存%\",\r\n                  \"mem_request\": \"内存需求\",\r\n                  \"mem_request_percentage\": \"内存需求%\",\r\n                  \"namespace\": \"命名空间\",\r\n                  \"pod\": \"Pod数\",\r\n                  \"pod_percentage\": \"Pod%\"\r\n                }\r\n              }\r\n            }\r\n          ],\r\n          \"type\": \"table\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"grafana-clickhouse-datasource\",\r\n            \"uid\": \"KubeDoor-Clickhouse\"\r\n          },\r\n          \"fieldConfig\": {\r\n            \"defaults\": {\r\n              \"color\": {\r\n                \"mode\": \"palette-classic\"\r\n              },\r\n              \"custom\": {\r\n                \"axisBorderShow\": false,\r\n                \"axisCenteredZero\": false,\r\n                \"axisColorMode\": \"text\",\r\n                \"axisLabel\": \"\",\r\n                \"axisPlacement\": \"auto\",\r\n                \"barAlignment\": 0,\r\n                \"barWidthFactor\": 0.6,\r\n                \"drawStyle\": \"line\",\r\n                \"fillOpacity\": 0,\r\n                \"gradientMode\": \"none\",\r\n                \"hideFrom\": {\r\n                  \"legend\": false,\r\n                  \"tooltip\": false,\r\n                  \"viz\": false\r\n                },\r\n                \"insertNulls\": false,\r\n                \"lineInterpolation\": \"linear\",\r\n                \"lineWidth\": 1,\r\n                \"pointSize\": 5,\r\n                \"scaleDistribution\": {\r\n                  \"type\": \"linear\"\r\n                },\r\n                \"showPoints\": \"auto\",\r\n                \"spanNulls\": false,\r\n                \"stacking\": {\r\n                  \"group\": \"A\",\r\n                  \"mode\": \"none\"\r\n                },\r\n                \"thresholdsStyle\": {\r\n                  \"mode\": \"off\"\r\n                }\r\n              },\r\n              \"mappings\": [],\r\n              \"thresholds\": {\r\n                \"mode\": \"absolute\",\r\n                \"steps\": [\r\n                  {\r\n                    \"color\": \"green\"\r\n                  },\r\n                  {\r\n                    \"color\": \"red\",\r\n                    \"value\": 80\r\n                  }\r\n                ]\r\n              },\r\n              \"unit\": \"percent\"\r\n            },\r\n            \"overrides\": []\r\n          },\r\n          \"gridPos\": {\r\n            \"h\": 10,\r\n            \"w\": 8,\r\n            \"x\": 0,\r\n            \"y\": 47\r\n          },\r\n          \"id\": 4,\r\n          \"options\": {\r\n            \"legend\": {\r\n              \"calcs\": [\r\n                \"last\",\r\n                \"mean\",\r\n                \"max\"\r\n              ],\r\n              \"displayMode\": \"table\",\r\n              \"placement\": \"bottom\",\r\n              \"showLegend\": true,\r\n              \"sortBy\": \"Mean\",\r\n              \"sortDesc\": true\r\n            },\r\n            \"tooltip\": {\r\n              \"mode\": \"multi\",\r\n              \"sort\": \"desc\"\r\n            }\r\n          },\r\n          \"pluginVersion\": \"11.4.0\",\r\n          \"targets\": [\r\n            {\r\n              \"builderOptions\": {\r\n                \"database\": \"kubedoor\",\r\n                \"fields\": [],\r\n                \"filters\": [],\r\n                \"limit\": 100,\r\n                \"mode\": \"list\",\r\n                \"orderBy\": [],\r\n                \"table\": \"k8s_resources\"\r\n              },\r\n              \"datasource\": {\r\n                \"type\": \"grafana-clickhouse-datasource\",\r\n                \"uid\": \"KubeDoor-Clickhouse\"\r\n              },\r\n              \"format\": 0,\r\n              \"meta\": {\r\n                \"builderOptions\": {\r\n                  \"database\": \"kubedoor\",\r\n                  \"fields\": [],\r\n                  \"filters\": [],\r\n                  \"limit\": 100,\r\n                  \"mode\": \"list\",\r\n                  \"orderBy\": [],\r\n                  \"table\": \"k8s_resources\"\r\n                }\r\n              },\r\n              \"queryType\": \"sql\",\r\n              \"rawSql\": \"SELECT date as time, deployment, max(p95_pod_cpu_pct) FROM kubedoor.${table} PREWHERE $__timeFilter(date) and ${env} and ${namespace} and ${deployment}\\r\\ngroup by time,deployment\\r\\norder by time\\r\\n\",\r\n              \"refId\": \"A\"\r\n            }\r\n          ],\r\n          \"title\": \"每日高峰时段P95CPU使用率\",\r\n          \"transformations\": [\r\n            {\r\n              \"id\": \"renameByRegex\",\r\n              \"options\": {\r\n                \"regex\": \"/.+ (.*)/\",\r\n                \"renamePattern\": \"$1\"\r\n              }\r\n            }\r\n          ],\r\n          \"type\": \"timeseries\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"grafana-clickhouse-datasource\",\r\n            \"uid\": \"KubeDoor-Clickhouse\"\r\n          },\r\n          \"fieldConfig\": {\r\n            \"defaults\": {\r\n              \"color\": {\r\n                \"mode\": \"palette-classic\"\r\n              },\r\n              \"custom\": {\r\n                \"axisBorderShow\": false,\r\n                \"axisCenteredZero\": false,\r\n                \"axisColorMode\": \"text\",\r\n                \"axisLabel\": \"\",\r\n                \"axisPlacement\": \"auto\",\r\n                \"barAlignment\": 0,\r\n                \"barWidthFactor\": 0.6,\r\n                \"drawStyle\": \"line\",\r\n                \"fillOpacity\": 0,\r\n                \"gradientMode\": \"none\",\r\n                \"hideFrom\": {\r\n                  \"legend\": false,\r\n                  \"tooltip\": false,\r\n                  \"viz\": false\r\n                },\r\n                \"insertNulls\": false,\r\n                \"lineInterpolation\": \"linear\",\r\n                \"lineWidth\": 1,\r\n                \"pointSize\": 5,\r\n                \"scaleDistribution\": {\r\n                  \"type\": \"linear\"\r\n                },\r\n                \"showPoints\": \"auto\",\r\n                \"spanNulls\": false,\r\n                \"stacking\": {\r\n                  \"group\": \"A\",\r\n                  \"mode\": \"none\"\r\n                },\r\n                \"thresholdsStyle\": {\r\n                  \"mode\": \"off\"\r\n                }\r\n              },\r\n              \"mappings\": [],\r\n              \"thresholds\": {\r\n                \"mode\": \"absolute\",\r\n                \"steps\": [\r\n                  {\r\n                    \"color\": \"green\"\r\n                  },\r\n                  {\r\n                    \"color\": \"red\",\r\n                    \"value\": 80\r\n                  }\r\n                ]\r\n              },\r\n              \"unit\": \"percent\"\r\n            },\r\n            \"overrides\": []\r\n          },\r\n          \"gridPos\": {\r\n            \"h\": 10,\r\n            \"w\": 8,\r\n            \"x\": 8,\r\n            \"y\": 47\r\n          },\r\n          \"id\": 5,\r\n          \"options\": {\r\n            \"legend\": {\r\n              \"calcs\": [\r\n                \"last\",\r\n                \"mean\",\r\n                \"max\"\r\n              ],\r\n              \"displayMode\": \"table\",\r\n              \"placement\": \"bottom\",\r\n              \"showLegend\": true,\r\n              \"sortBy\": \"Mean\",\r\n              \"sortDesc\": true\r\n            },\r\n            \"tooltip\": {\r\n              \"mode\": \"multi\",\r\n              \"sort\": \"desc\"\r\n            }\r\n          },\r\n          \"pluginVersion\": \"11.4.0\",\r\n          \"targets\": [\r\n            {\r\n              \"builderOptions\": {\r\n                \"database\": \"kubedoor\",\r\n                \"fields\": [],\r\n                \"filters\": [],\r\n                \"limit\": 100,\r\n                \"mode\": \"list\",\r\n                \"orderBy\": [],\r\n                \"table\": \"k8s_resources\"\r\n              },\r\n              \"datasource\": {\r\n                \"type\": \"grafana-clickhouse-datasource\",\r\n                \"uid\": \"KubeDoor-Clickhouse\"\r\n              },\r\n              \"format\": 0,\r\n              \"meta\": {\r\n                \"builderOptions\": {\r\n                  \"database\": \"kubedoor\",\r\n                  \"fields\": [],\r\n                  \"filters\": [],\r\n                  \"limit\": 100,\r\n                  \"mode\": \"list\",\r\n                  \"orderBy\": [],\r\n                  \"table\": \"k8s_resources\"\r\n                }\r\n              },\r\n              \"queryType\": \"sql\",\r\n              \"rawSql\": \"SELECT date as time, deployment, max(p95_pod_wss_pct) FROM kubedoor.${table} PREWHERE $__timeFilter(date) and ${env} and ${namespace} and ${deployment}\\r\\ngroup by time,deployment\\r\\norder by time\\r\\n\",\r\n              \"refId\": \"A\"\r\n            }\r\n          ],\r\n          \"title\": \"每日高峰时段P95内存使用率\",\r\n          \"transformations\": [\r\n            {\r\n              \"id\": \"renameByRegex\",\r\n              \"options\": {\r\n                \"regex\": \"/.+ (.*)/\",\r\n                \"renamePattern\": \"$1\"\r\n              }\r\n            }\r\n          ],\r\n          \"type\": \"timeseries\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"grafana-clickhouse-datasource\",\r\n            \"uid\": \"KubeDoor-Clickhouse\"\r\n          },\r\n          \"fieldConfig\": {\r\n            \"defaults\": {\r\n              \"color\": {\r\n                \"mode\": \"palette-classic\"\r\n              },\r\n              \"custom\": {\r\n                \"axisBorderShow\": false,\r\n                \"axisCenteredZero\": false,\r\n                \"axisColorMode\": \"text\",\r\n                \"axisLabel\": \"\",\r\n                \"axisPlacement\": \"auto\",\r\n                \"barAlignment\": 0,\r\n                \"barWidthFactor\": 0.6,\r\n                \"drawStyle\": \"line\",\r\n                \"fillOpacity\": 0,\r\n                \"gradientMode\": \"none\",\r\n                \"hideFrom\": {\r\n                  \"legend\": false,\r\n                  \"tooltip\": false,\r\n                  \"viz\": false\r\n                },\r\n                \"insertNulls\": false,\r\n                \"lineInterpolation\": \"linear\",\r\n                \"lineWidth\": 1,\r\n                \"pointSize\": 5,\r\n                \"scaleDistribution\": {\r\n                  \"type\": \"linear\"\r\n                },\r\n                \"showPoints\": \"auto\",\r\n                \"spanNulls\": false,\r\n                \"stacking\": {\r\n                  \"group\": \"A\",\r\n                  \"mode\": \"none\"\r\n                },\r\n                \"thresholdsStyle\": {\r\n                  \"mode\": \"off\"\r\n                }\r\n              },\r\n              \"mappings\": [],\r\n              \"thresholds\": {\r\n                \"mode\": \"absolute\",\r\n                \"steps\": [\r\n                  {\r\n                    \"color\": \"green\"\r\n                  },\r\n                  {\r\n                    \"color\": \"red\",\r\n                    \"value\": 80\r\n                  }\r\n                ]\r\n              }\r\n            },\r\n            \"overrides\": []\r\n          },\r\n          \"gridPos\": {\r\n            \"h\": 10,\r\n            \"w\": 8,\r\n            \"x\": 16,\r\n            \"y\": 47\r\n          },\r\n          \"id\": 2,\r\n          \"options\": {\r\n            \"legend\": {\r\n              \"calcs\": [\r\n                \"last\",\r\n                \"mean\",\r\n                \"max\"\r\n              ],\r\n              \"displayMode\": \"table\",\r\n              \"placement\": \"bottom\",\r\n              \"showLegend\": true,\r\n              \"sortBy\": \"Mean\",\r\n              \"sortDesc\": true\r\n            },\r\n            \"tooltip\": {\r\n              \"mode\": \"multi\",\r\n              \"sort\": \"desc\"\r\n            }\r\n          },\r\n          \"pluginVersion\": \"11.4.0\",\r\n          \"targets\": [\r\n            {\r\n              \"builderOptions\": {\r\n                \"database\": \"kubedoor\",\r\n                \"fields\": [],\r\n                \"filters\": [],\r\n                \"limit\": 100,\r\n                \"mode\": \"list\",\r\n                \"orderBy\": [],\r\n                \"table\": \"k8s_resources\"\r\n              },\r\n              \"datasource\": {\r\n                \"type\": \"grafana-clickhouse-datasource\",\r\n                \"uid\": \"KubeDoor-Clickhouse\"\r\n              },\r\n              \"format\": 0,\r\n              \"meta\": {\r\n                \"builderOptions\": {\r\n                  \"database\": \"kubedoor\",\r\n                  \"fields\": [],\r\n                  \"filters\": [],\r\n                  \"limit\": 100,\r\n                  \"mode\": \"list\",\r\n                  \"orderBy\": [],\r\n                  \"table\": \"k8s_resources\"\r\n                }\r\n              },\r\n              \"queryType\": \"sql\",\r\n              \"rawSql\": \"SELECT date as time, deployment, max(pod_count) FROM kubedoor.${table} PREWHERE $__timeFilter(date) and ${env} and ${namespace} and ${deployment}\\r\\ngroup by time,deployment\\r\\norder by time\\r\\n\",\r\n              \"refId\": \"A\"\r\n            }\r\n          ],\r\n          \"title\": \"每日微服务Pod数\",\r\n          \"transformations\": [\r\n            {\r\n              \"id\": \"renameByRegex\",\r\n              \"options\": {\r\n                \"regex\": \"/.+ (.*)/\",\r\n                \"renamePattern\": \"$1\"\r\n              }\r\n            }\r\n          ],\r\n          \"type\": \"timeseries\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"grafana-clickhouse-datasource\",\r\n            \"uid\": \"KubeDoor-Clickhouse\"\r\n          },\r\n          \"fieldConfig\": {\r\n            \"defaults\": {\r\n              \"color\": {\r\n                \"mode\": \"palette-classic\"\r\n              },\r\n              \"custom\": {\r\n                \"align\": \"center\",\r\n                \"cellOptions\": {\r\n                  \"applyToRow\": false,\r\n                  \"mode\": \"gradient\",\r\n                  \"type\": \"color-background\",\r\n                  \"wrapText\": false\r\n                },\r\n                \"inspect\": false\r\n              },\r\n              \"mappings\": [],\r\n              \"thresholds\": {\r\n                \"mode\": \"absolute\",\r\n                \"steps\": [\r\n                  {\r\n                    \"color\": \"green\"\r\n                  }\r\n                ]\r\n              }\r\n            },\r\n            \"overrides\": [\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byRegexp\",\r\n                  \"options\": \"/内存.*/\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"unit\",\r\n                    \"value\": \"mbytes\"\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"命名空间\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 107\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"Pod数\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 81\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"Pod%\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 122\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"CPU限制\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 91\r\n                  },\r\n                  {\r\n                    \"id\": \"color\",\r\n                    \"value\": {\r\n                      \"fixedColor\": \"red\",\r\n                      \"mode\": \"fixed\"\r\n                    }\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"CPU需求\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 117\r\n                  },\r\n                  {\r\n                    \"id\": \"color\",\r\n                    \"value\": {\r\n                      \"fixedColor\": \"green\",\r\n                      \"mode\": \"fixed\"\r\n                    }\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"内存需求\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 104\r\n                  },\r\n                  {\r\n                    \"id\": \"color\",\r\n                    \"value\": {\r\n                      \"fixedColor\": \"green\",\r\n                      \"mode\": \"fixed\"\r\n                    }\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"CPU负载\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 106\r\n                  },\r\n                  {\r\n                    \"id\": \"custom.cellOptions\",\r\n                    \"value\": {\r\n                      \"type\": \"color-text\",\r\n                      \"wrapText\": false\r\n                    }\r\n                  },\r\n                  {\r\n                    \"id\": \"color\",\r\n                    \"value\": {\r\n                      \"fixedColor\": \"yellow\",\r\n                      \"mode\": \"fixed\"\r\n                    }\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byRegexp\",\r\n                  \"options\": \"/.*%/\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"unit\",\r\n                    \"value\": \"percent\"\r\n                  },\r\n                  {\r\n                    \"id\": \"custom.cellOptions\",\r\n                    \"value\": {\r\n                      \"mode\": \"gradient\",\r\n                      \"type\": \"gauge\",\r\n                      \"valueDisplayMode\": \"color\"\r\n                    }\r\n                  },\r\n                  {\r\n                    \"id\": \"min\",\r\n                    \"value\": 0\r\n                  },\r\n                  {\r\n                    \"id\": \"max\",\r\n                    \"value\": 100\r\n                  },\r\n                  {\r\n                    \"id\": \"color\",\r\n                    \"value\": {\r\n                      \"mode\": \"continuous-GrYlRd\"\r\n                    }\r\n                  },\r\n                  {\r\n                    \"id\": \"decimals\",\r\n                    \"value\": 1\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"内存限制\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 110\r\n                  },\r\n                  {\r\n                    \"id\": \"color\",\r\n                    \"value\": {\r\n                      \"fixedColor\": \"red\",\r\n                      \"mode\": \"fixed\"\r\n                    }\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"内存使用\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 103\r\n                  },\r\n                  {\r\n                    \"id\": \"custom.cellOptions\",\r\n                    \"value\": {\r\n                      \"type\": \"color-text\",\r\n                      \"wrapText\": false\r\n                    }\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"Pod\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 302\r\n                  },\r\n                  {\r\n                    \"id\": \"custom.filterable\",\r\n                    \"value\": true\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"CPU使用%\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 137\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"内存使用%\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 135\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"微服务\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 320\r\n                  }\r\n                ]\r\n              }\r\n            ]\r\n          },\r\n          \"gridPos\": {\r\n            \"h\": 12,\r\n            \"w\": 24,\r\n            \"x\": 0,\r\n            \"y\": 57\r\n          },\r\n          \"id\": 22,\r\n          \"options\": {\r\n            \"cellHeight\": \"sm\",\r\n            \"footer\": {\r\n              \"countRows\": false,\r\n              \"fields\": [\r\n                \"pod\",\r\n                \"cpu_request\",\r\n                \"load\",\r\n                \"cpu_limit\",\r\n                \"mem_request\",\r\n                \"mem\",\r\n                \"mem_limit\",\r\n                \"pod_percentage\"\r\n              ],\r\n              \"reducer\": [\r\n                \"sum\"\r\n              ],\r\n              \"show\": true\r\n            },\r\n            \"frameIndex\": 1,\r\n            \"showHeader\": true,\r\n            \"sortBy\": [\r\n              {\r\n                \"desc\": true,\r\n                \"displayName\": \"CPU使用\"\r\n              }\r\n            ]\r\n          },\r\n          \"pluginVersion\": \"11.4.0\",\r\n          \"targets\": [\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"grafana-clickhouse-datasource\",\r\n                \"uid\": \"KubeDoor-Clickhouse\"\r\n              },\r\n              \"format\": 1,\r\n              \"meta\": {\r\n                \"builderOptions\": {\r\n                  \"fields\": [],\r\n                  \"limit\": 100,\r\n                  \"mode\": \"list\"\r\n                }\r\n              },\r\n              \"queryType\": \"sql\",\r\n              \"rawSql\": \"-- 计算每个命名空间的值\\r\\nWITH per_namespace AS (\\r\\n  SELECT\\r\\n    namespace,\\r\\n    deployment,\\r\\n    sum(pod_count) AS pod,\\r\\n    sum(p95_pod_load) AS load,\\r\\n    sum(p95_pod_wss_mb) AS mem,\\r\\n    sum(p95_pod_cpu_pct) AS cpu_pct,\\r\\n    sum(p95_pod_wss_pct) AS mem_pct,\\r\\n    sum(request_pod_cpu_m/1000) AS cpu_request,\\r\\n    sum(limit_pod_cpu_m/1000) AS cpu_limit,\\r\\n    sum(request_pod_mem_mb) AS mem_request,\\r\\n    sum(limit_pod_mem_mb) AS mem_limit\\r\\n  FROM\\r\\n    kubedoor.${table} PREWHERE date = '${maxday}' AND ${env} AND ${namespace}\\r\\n  GROUP BY\\r\\n    namespace,deployment\\r\\n),\\r\\n-- 计算总数\\r\\ntotals AS (\\r\\n  SELECT\\r\\n    sum(pod) AS total_pod\\r\\n  FROM\\r\\n    per_namespace\\r\\n) -- 合并并计算占比\\r\\nSELECT\\r\\n  per_namespace.namespace,\\r\\n  per_namespace.deployment,\\r\\n  per_namespace.pod,\\r\\n  per_namespace.pod / totals.total_pod * 100 AS pod_percentage,\\r\\n\\r\\n  per_namespace.cpu_request,\\r\\n  per_namespace.load,\\r\\n  per_namespace.cpu_pct,\\r\\n  per_namespace.cpu_limit,\\r\\n\\r\\n  per_namespace.mem_request,\\r\\n  per_namespace.mem,\\r\\n  per_namespace.mem_pct,\\r\\n  per_namespace.mem_limit\\r\\n\\r\\nFROM\\r\\n  per_namespace\\r\\n  CROSS JOIN totals\",\r\n              \"refId\": \"A\"\r\n            }\r\n          ],\r\n          \"title\": \"【${__from:date:YYYY-MM-DD}~${__to:date:YYYY-MM-DD}最大资源使用的日期：${maxday}】【各Pod级别】高峰时段P95资源使用量与使用率分析\",\r\n          \"transformations\": [\r\n            {\r\n              \"id\": \"seriesToRows\",\r\n              \"options\": {}\r\n            },\r\n            {\r\n              \"id\": \"organize\",\r\n              \"options\": {\r\n                \"excludeByName\": {},\r\n                \"includeByName\": {},\r\n                \"indexByName\": {\r\n                  \"cpu_limit\": 6,\r\n                  \"cpu_pct\": 7,\r\n                  \"cpu_request\": 4,\r\n                  \"deployment\": 1,\r\n                  \"load\": 5,\r\n                  \"mem\": 9,\r\n                  \"mem_limit\": 10,\r\n                  \"mem_pct\": 11,\r\n                  \"mem_request\": 8,\r\n                  \"namespace\": 0,\r\n                  \"pod\": 2,\r\n                  \"pod_percentage\": 3\r\n                },\r\n                \"renameByName\": {\r\n                  \"cpu_limit\": \"CPU限制\",\r\n                  \"cpu_limit_percentage\": \"CPU限制%\",\r\n                  \"cpu_pct\": \"CPU使用%\",\r\n                  \"cpu_request\": \"CPU需求\",\r\n                  \"cpu_request_percentage\": \"CPU需求%\",\r\n                  \"date\": \"日期\",\r\n                  \"deployment\": \"微服务\",\r\n                  \"deployment_percentage\": \"微服务%\",\r\n                  \"load\": \"CPU负载\",\r\n                  \"load_percentage\": \"CPU负载%\",\r\n                  \"mem\": \"内存使用\",\r\n                  \"mem_limit\": \"内存限制\",\r\n                  \"mem_limit_percentage\": \"内存限制%\",\r\n                  \"mem_pct\": \"内存使用%\",\r\n                  \"mem_percentage\": \"内存%\",\r\n                  \"mem_request\": \"内存需求\",\r\n                  \"mem_request_percentage\": \"内存需求%\",\r\n                  \"namespace\": \"命名空间\",\r\n                  \"pod\": \"Pod数\",\r\n                  \"pod_percentage\": \"Pod%\"\r\n                }\r\n              }\r\n            }\r\n          ],\r\n          \"type\": \"table\"\r\n        }\r\n      ],\r\n      \"title\": \"微服务整体分析【$namespace】\",\r\n      \"type\": \"row\"\r\n    },\r\n    {\r\n      \"collapsed\": true,\r\n      \"gridPos\": {\r\n        \"h\": 1,\r\n        \"w\": 24,\r\n        \"x\": 0,\r\n        \"y\": 35\r\n      },\r\n      \"id\": 7,\r\n      \"panels\": [\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"grafana-clickhouse-datasource\",\r\n            \"uid\": \"KubeDoor-Clickhouse\"\r\n          },\r\n          \"fieldConfig\": {\r\n            \"defaults\": {\r\n              \"color\": {\r\n                \"mode\": \"palette-classic\"\r\n              },\r\n              \"custom\": {\r\n                \"axisBorderShow\": false,\r\n                \"axisCenteredZero\": false,\r\n                \"axisColorMode\": \"text\",\r\n                \"axisLabel\": \"\",\r\n                \"axisPlacement\": \"auto\",\r\n                \"barAlignment\": 0,\r\n                \"barWidthFactor\": 0.6,\r\n                \"drawStyle\": \"line\",\r\n                \"fillOpacity\": 0,\r\n                \"gradientMode\": \"none\",\r\n                \"hideFrom\": {\r\n                  \"legend\": false,\r\n                  \"tooltip\": false,\r\n                  \"viz\": false\r\n                },\r\n                \"insertNulls\": false,\r\n                \"lineInterpolation\": \"linear\",\r\n                \"lineWidth\": 1,\r\n                \"pointSize\": 5,\r\n                \"scaleDistribution\": {\r\n                  \"type\": \"linear\"\r\n                },\r\n                \"showPoints\": \"auto\",\r\n                \"spanNulls\": false,\r\n                \"stacking\": {\r\n                  \"group\": \"A\",\r\n                  \"mode\": \"none\"\r\n                },\r\n                \"thresholdsStyle\": {\r\n                  \"mode\": \"off\"\r\n                }\r\n              },\r\n              \"mappings\": [],\r\n              \"thresholds\": {\r\n                \"mode\": \"absolute\",\r\n                \"steps\": [\r\n                  {\r\n                    \"color\": \"green\"\r\n                  },\r\n                  {\r\n                    \"color\": \"red\",\r\n                    \"value\": 80\r\n                  }\r\n                ]\r\n              }\r\n            },\r\n            \"overrides\": []\r\n          },\r\n          \"gridPos\": {\r\n            \"h\": 10,\r\n            \"w\": 8,\r\n            \"x\": 0,\r\n            \"y\": 36\r\n          },\r\n          \"id\": 8,\r\n          \"options\": {\r\n            \"legend\": {\r\n              \"calcs\": [\r\n                \"last\",\r\n                \"mean\",\r\n                \"max\"\r\n              ],\r\n              \"displayMode\": \"table\",\r\n              \"placement\": \"bottom\",\r\n              \"showLegend\": true,\r\n              \"sortBy\": \"Name\",\r\n              \"sortDesc\": true\r\n            },\r\n            \"tooltip\": {\r\n              \"mode\": \"multi\",\r\n              \"sort\": \"desc\"\r\n            }\r\n          },\r\n          \"pluginVersion\": \"11.4.0\",\r\n          \"targets\": [\r\n            {\r\n              \"builderOptions\": {\r\n                \"database\": \"kubedoor\",\r\n                \"fields\": [],\r\n                \"filters\": [],\r\n                \"limit\": 100,\r\n                \"mode\": \"list\",\r\n                \"orderBy\": [],\r\n                \"table\": \"k8s_resources\"\r\n              },\r\n              \"datasource\": {\r\n                \"type\": \"grafana-clickhouse-datasource\",\r\n                \"uid\": \"KubeDoor-Clickhouse\"\r\n              },\r\n              \"format\": 0,\r\n              \"meta\": {\r\n                \"builderOptions\": {\r\n                  \"database\": \"kubedoor\",\r\n                  \"fields\": [],\r\n                  \"filters\": [],\r\n                  \"limit\": 100,\r\n                  \"mode\": \"list\",\r\n                  \"orderBy\": [],\r\n                  \"table\": \"k8s_resources\"\r\n                }\r\n              },\r\n              \"queryType\": \"sql\",\r\n              \"rawSql\": \"SELECT date as time, deployment, max(p95_pod_load * pod_count) FROM kubedoor.${table} PREWHERE $__timeFilter(date) and ${env} and ${namespace} and ${deployment}\\r\\ngroup by time,deployment\\r\\norder by time\\r\\n\",\r\n              \"refId\": \"A\"\r\n            }\r\n          ],\r\n          \"title\": \"各微服务每日高峰时段P95 CPU负载(核数)\",\r\n          \"transformations\": [\r\n            {\r\n              \"id\": \"renameByRegex\",\r\n              \"options\": {\r\n                \"regex\": \"/.+ (.*)/\",\r\n                \"renamePattern\": \"$1\"\r\n              }\r\n            }\r\n          ],\r\n          \"type\": \"timeseries\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"grafana-clickhouse-datasource\",\r\n            \"uid\": \"KubeDoor-Clickhouse\"\r\n          },\r\n          \"fieldConfig\": {\r\n            \"defaults\": {\r\n              \"color\": {\r\n                \"mode\": \"palette-classic\"\r\n              },\r\n              \"custom\": {\r\n                \"axisBorderShow\": false,\r\n                \"axisCenteredZero\": false,\r\n                \"axisColorMode\": \"text\",\r\n                \"axisLabel\": \"\",\r\n                \"axisPlacement\": \"auto\",\r\n                \"barAlignment\": 0,\r\n                \"barWidthFactor\": 0.6,\r\n                \"drawStyle\": \"line\",\r\n                \"fillOpacity\": 0,\r\n                \"gradientMode\": \"none\",\r\n                \"hideFrom\": {\r\n                  \"legend\": false,\r\n                  \"tooltip\": false,\r\n                  \"viz\": false\r\n                },\r\n                \"insertNulls\": false,\r\n                \"lineInterpolation\": \"linear\",\r\n                \"lineWidth\": 1,\r\n                \"pointSize\": 5,\r\n                \"scaleDistribution\": {\r\n                  \"type\": \"linear\"\r\n                },\r\n                \"showPoints\": \"auto\",\r\n                \"spanNulls\": false,\r\n                \"stacking\": {\r\n                  \"group\": \"A\",\r\n                  \"mode\": \"none\"\r\n                },\r\n                \"thresholdsStyle\": {\r\n                  \"mode\": \"off\"\r\n                }\r\n              },\r\n              \"mappings\": [],\r\n              \"thresholds\": {\r\n                \"mode\": \"absolute\",\r\n                \"steps\": [\r\n                  {\r\n                    \"color\": \"green\"\r\n                  },\r\n                  {\r\n                    \"color\": \"red\",\r\n                    \"value\": 80\r\n                  }\r\n                ]\r\n              }\r\n            },\r\n            \"overrides\": []\r\n          },\r\n          \"gridPos\": {\r\n            \"h\": 10,\r\n            \"w\": 8,\r\n            \"x\": 8,\r\n            \"y\": 36\r\n          },\r\n          \"id\": 14,\r\n          \"options\": {\r\n            \"legend\": {\r\n              \"calcs\": [\r\n                \"last\",\r\n                \"mean\",\r\n                \"max\"\r\n              ],\r\n              \"displayMode\": \"table\",\r\n              \"placement\": \"bottom\",\r\n              \"showLegend\": true,\r\n              \"sortBy\": \"Last\",\r\n              \"sortDesc\": true\r\n            },\r\n            \"tooltip\": {\r\n              \"mode\": \"multi\",\r\n              \"sort\": \"desc\"\r\n            }\r\n          },\r\n          \"pluginVersion\": \"11.4.0\",\r\n          \"targets\": [\r\n            {\r\n              \"builderOptions\": {\r\n                \"database\": \"kubedoor\",\r\n                \"fields\": [],\r\n                \"filters\": [],\r\n                \"limit\": 100,\r\n                \"mode\": \"list\",\r\n                \"orderBy\": [],\r\n                \"table\": \"k8s_resources\"\r\n              },\r\n              \"datasource\": {\r\n                \"type\": \"grafana-clickhouse-datasource\",\r\n                \"uid\": \"KubeDoor-Clickhouse\"\r\n              },\r\n              \"format\": 0,\r\n              \"meta\": {\r\n                \"builderOptions\": {\r\n                  \"database\": \"kubedoor\",\r\n                  \"fields\": [],\r\n                  \"filters\": [],\r\n                  \"limit\": 100,\r\n                  \"mode\": \"list\",\r\n                  \"orderBy\": [],\r\n                  \"table\": \"k8s_resources\"\r\n                }\r\n              },\r\n              \"queryType\": \"sql\",\r\n              \"rawSql\": \"SELECT date as time, deployment, max(request_pod_cpu_m * pod_count)/1000 FROM kubedoor.${table} PREWHERE $__timeFilter(date) and ${env} and ${namespace} and ${deployment}\\r\\ngroup by time,deployment\\r\\norder by time\\r\\n\",\r\n              \"refId\": \"A\"\r\n            }\r\n          ],\r\n          \"title\": \"各微服务CPU需求值(核数)\",\r\n          \"transformations\": [\r\n            {\r\n              \"id\": \"renameByRegex\",\r\n              \"options\": {\r\n                \"regex\": \"/.+ (.*)/\",\r\n                \"renamePattern\": \"$1\"\r\n              }\r\n            }\r\n          ],\r\n          \"type\": \"timeseries\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"grafana-clickhouse-datasource\",\r\n            \"uid\": \"KubeDoor-Clickhouse\"\r\n          },\r\n          \"fieldConfig\": {\r\n            \"defaults\": {\r\n              \"color\": {\r\n                \"mode\": \"palette-classic\"\r\n              },\r\n              \"custom\": {\r\n                \"axisBorderShow\": false,\r\n                \"axisCenteredZero\": false,\r\n                \"axisColorMode\": \"text\",\r\n                \"axisLabel\": \"\",\r\n                \"axisPlacement\": \"auto\",\r\n                \"barAlignment\": 0,\r\n                \"barWidthFactor\": 0.6,\r\n                \"drawStyle\": \"line\",\r\n                \"fillOpacity\": 0,\r\n                \"gradientMode\": \"none\",\r\n                \"hideFrom\": {\r\n                  \"legend\": false,\r\n                  \"tooltip\": false,\r\n                  \"viz\": false\r\n                },\r\n                \"insertNulls\": false,\r\n                \"lineInterpolation\": \"linear\",\r\n                \"lineWidth\": 1,\r\n                \"pointSize\": 5,\r\n                \"scaleDistribution\": {\r\n                  \"type\": \"linear\"\r\n                },\r\n                \"showPoints\": \"auto\",\r\n                \"spanNulls\": false,\r\n                \"stacking\": {\r\n                  \"group\": \"A\",\r\n                  \"mode\": \"none\"\r\n                },\r\n                \"thresholdsStyle\": {\r\n                  \"mode\": \"off\"\r\n                }\r\n              },\r\n              \"mappings\": [],\r\n              \"thresholds\": {\r\n                \"mode\": \"absolute\",\r\n                \"steps\": [\r\n                  {\r\n                    \"color\": \"green\"\r\n                  },\r\n                  {\r\n                    \"color\": \"red\",\r\n                    \"value\": 80\r\n                  }\r\n                ]\r\n              }\r\n            },\r\n            \"overrides\": []\r\n          },\r\n          \"gridPos\": {\r\n            \"h\": 10,\r\n            \"w\": 8,\r\n            \"x\": 16,\r\n            \"y\": 36\r\n          },\r\n          \"id\": 12,\r\n          \"options\": {\r\n            \"legend\": {\r\n              \"calcs\": [\r\n                \"last\",\r\n                \"mean\",\r\n                \"max\"\r\n              ],\r\n              \"displayMode\": \"table\",\r\n              \"placement\": \"bottom\",\r\n              \"showLegend\": true,\r\n              \"sortBy\": \"Last\",\r\n              \"sortDesc\": true\r\n            },\r\n            \"tooltip\": {\r\n              \"mode\": \"multi\",\r\n              \"sort\": \"desc\"\r\n            }\r\n          },\r\n          \"pluginVersion\": \"11.4.0\",\r\n          \"targets\": [\r\n            {\r\n              \"builderOptions\": {\r\n                \"database\": \"kubedoor\",\r\n                \"fields\": [],\r\n                \"filters\": [],\r\n                \"limit\": 100,\r\n                \"mode\": \"list\",\r\n                \"orderBy\": [],\r\n                \"table\": \"k8s_resources\"\r\n              },\r\n              \"datasource\": {\r\n                \"type\": \"grafana-clickhouse-datasource\",\r\n                \"uid\": \"KubeDoor-Clickhouse\"\r\n              },\r\n              \"format\": 0,\r\n              \"meta\": {\r\n                \"builderOptions\": {\r\n                  \"database\": \"kubedoor\",\r\n                  \"fields\": [],\r\n                  \"filters\": [],\r\n                  \"limit\": 100,\r\n                  \"mode\": \"list\",\r\n                  \"orderBy\": [],\r\n                  \"table\": \"k8s_resources\"\r\n                }\r\n              },\r\n              \"queryType\": \"sql\",\r\n              \"rawSql\": \"SELECT date as time, deployment, max(limit_pod_cpu_m * pod_count)/1000 FROM kubedoor.${table} PREWHERE $__timeFilter(date) and ${env} and ${namespace} and ${deployment}\\r\\ngroup by time,deployment\\r\\norder by time\\r\\n\",\r\n              \"refId\": \"A\"\r\n            }\r\n          ],\r\n          \"title\": \"各微服务CPU限制值(核数)\",\r\n          \"transformations\": [\r\n            {\r\n              \"id\": \"renameByRegex\",\r\n              \"options\": {\r\n                \"regex\": \"/.+ (.*)/\",\r\n                \"renamePattern\": \"$1\"\r\n              }\r\n            }\r\n          ],\r\n          \"type\": \"timeseries\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"grafana-clickhouse-datasource\",\r\n            \"uid\": \"KubeDoor-Clickhouse\"\r\n          },\r\n          \"fieldConfig\": {\r\n            \"defaults\": {\r\n              \"color\": {\r\n                \"mode\": \"palette-classic\"\r\n              },\r\n              \"custom\": {\r\n                \"axisBorderShow\": false,\r\n                \"axisCenteredZero\": false,\r\n                \"axisColorMode\": \"text\",\r\n                \"axisLabel\": \"\",\r\n                \"axisPlacement\": \"auto\",\r\n                \"barAlignment\": 0,\r\n                \"barWidthFactor\": 0.6,\r\n                \"drawStyle\": \"line\",\r\n                \"fillOpacity\": 0,\r\n                \"gradientMode\": \"none\",\r\n                \"hideFrom\": {\r\n                  \"legend\": false,\r\n                  \"tooltip\": false,\r\n                  \"viz\": false\r\n                },\r\n                \"insertNulls\": false,\r\n                \"lineInterpolation\": \"linear\",\r\n                \"lineWidth\": 1,\r\n                \"pointSize\": 5,\r\n                \"scaleDistribution\": {\r\n                  \"type\": \"linear\"\r\n                },\r\n                \"showPoints\": \"auto\",\r\n                \"spanNulls\": false,\r\n                \"stacking\": {\r\n                  \"group\": \"A\",\r\n                  \"mode\": \"none\"\r\n                },\r\n                \"thresholdsStyle\": {\r\n                  \"mode\": \"off\"\r\n                }\r\n              },\r\n              \"mappings\": [],\r\n              \"thresholds\": {\r\n                \"mode\": \"absolute\",\r\n                \"steps\": [\r\n                  {\r\n                    \"color\": \"green\"\r\n                  },\r\n                  {\r\n                    \"color\": \"red\",\r\n                    \"value\": 80\r\n                  }\r\n                ]\r\n              },\r\n              \"unit\": \"mbytes\"\r\n            },\r\n            \"overrides\": []\r\n          },\r\n          \"gridPos\": {\r\n            \"h\": 10,\r\n            \"w\": 8,\r\n            \"x\": 0,\r\n            \"y\": 46\r\n          },\r\n          \"id\": 9,\r\n          \"options\": {\r\n            \"legend\": {\r\n              \"calcs\": [\r\n                \"last\",\r\n                \"mean\",\r\n                \"max\"\r\n              ],\r\n              \"displayMode\": \"table\",\r\n              \"placement\": \"bottom\",\r\n              \"showLegend\": true,\r\n              \"sortBy\": \"Last\",\r\n              \"sortDesc\": true\r\n            },\r\n            \"tooltip\": {\r\n              \"mode\": \"multi\",\r\n              \"sort\": \"desc\"\r\n            }\r\n          },\r\n          \"pluginVersion\": \"11.4.0\",\r\n          \"targets\": [\r\n            {\r\n              \"builderOptions\": {\r\n                \"database\": \"kubedoor\",\r\n                \"fields\": [],\r\n                \"filters\": [],\r\n                \"limit\": 100,\r\n                \"mode\": \"list\",\r\n                \"orderBy\": [],\r\n                \"table\": \"k8s_resources\"\r\n              },\r\n              \"datasource\": {\r\n                \"type\": \"grafana-clickhouse-datasource\",\r\n                \"uid\": \"KubeDoor-Clickhouse\"\r\n              },\r\n              \"format\": 0,\r\n              \"meta\": {\r\n                \"builderOptions\": {\r\n                  \"database\": \"kubedoor\",\r\n                  \"fields\": [],\r\n                  \"filters\": [],\r\n                  \"limit\": 100,\r\n                  \"mode\": \"list\",\r\n                  \"orderBy\": [],\r\n                  \"table\": \"k8s_resources\"\r\n                }\r\n              },\r\n              \"queryType\": \"sql\",\r\n              \"rawSql\": \"SELECT date as time, deployment, max(p95_pod_wss_mb * pod_count) FROM kubedoor.${table} PREWHERE $__timeFilter(date) and ${env} and ${namespace} and ${deployment}\\r\\ngroup by time,deployment\\r\\norder by time\\r\\n\",\r\n              \"refId\": \"A\"\r\n            }\r\n          ],\r\n          \"title\": \"各微服务每日高峰时段P95 内存使用量\",\r\n          \"transformations\": [\r\n            {\r\n              \"id\": \"renameByRegex\",\r\n              \"options\": {\r\n                \"regex\": \"/.+ (.*)/\",\r\n                \"renamePattern\": \"$1\"\r\n              }\r\n            }\r\n          ],\r\n          \"type\": \"timeseries\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"grafana-clickhouse-datasource\",\r\n            \"uid\": \"KubeDoor-Clickhouse\"\r\n          },\r\n          \"fieldConfig\": {\r\n            \"defaults\": {\r\n              \"color\": {\r\n                \"mode\": \"palette-classic\"\r\n              },\r\n              \"custom\": {\r\n                \"axisBorderShow\": false,\r\n                \"axisCenteredZero\": false,\r\n                \"axisColorMode\": \"text\",\r\n                \"axisLabel\": \"\",\r\n                \"axisPlacement\": \"auto\",\r\n                \"barAlignment\": 0,\r\n                \"barWidthFactor\": 0.6,\r\n                \"drawStyle\": \"line\",\r\n                \"fillOpacity\": 0,\r\n                \"gradientMode\": \"none\",\r\n                \"hideFrom\": {\r\n                  \"legend\": false,\r\n                  \"tooltip\": false,\r\n                  \"viz\": false\r\n                },\r\n                \"insertNulls\": false,\r\n                \"lineInterpolation\": \"linear\",\r\n                \"lineWidth\": 1,\r\n                \"pointSize\": 5,\r\n                \"scaleDistribution\": {\r\n                  \"type\": \"linear\"\r\n                },\r\n                \"showPoints\": \"auto\",\r\n                \"spanNulls\": false,\r\n                \"stacking\": {\r\n                  \"group\": \"A\",\r\n                  \"mode\": \"none\"\r\n                },\r\n                \"thresholdsStyle\": {\r\n                  \"mode\": \"off\"\r\n                }\r\n              },\r\n              \"mappings\": [],\r\n              \"thresholds\": {\r\n                \"mode\": \"absolute\",\r\n                \"steps\": [\r\n                  {\r\n                    \"color\": \"green\"\r\n                  },\r\n                  {\r\n                    \"color\": \"red\",\r\n                    \"value\": 80\r\n                  }\r\n                ]\r\n              },\r\n              \"unit\": \"mbytes\"\r\n            },\r\n            \"overrides\": []\r\n          },\r\n          \"gridPos\": {\r\n            \"h\": 10,\r\n            \"w\": 8,\r\n            \"x\": 8,\r\n            \"y\": 46\r\n          },\r\n          \"id\": 11,\r\n          \"options\": {\r\n            \"legend\": {\r\n              \"calcs\": [\r\n                \"last\",\r\n                \"mean\",\r\n                \"max\"\r\n              ],\r\n              \"displayMode\": \"table\",\r\n              \"placement\": \"bottom\",\r\n              \"showLegend\": true,\r\n              \"sortBy\": \"Last\",\r\n              \"sortDesc\": true\r\n            },\r\n            \"tooltip\": {\r\n              \"mode\": \"multi\",\r\n              \"sort\": \"desc\"\r\n            }\r\n          },\r\n          \"pluginVersion\": \"11.4.0\",\r\n          \"targets\": [\r\n            {\r\n              \"builderOptions\": {\r\n                \"database\": \"kubedoor\",\r\n                \"fields\": [],\r\n                \"filters\": [],\r\n                \"limit\": 100,\r\n                \"mode\": \"list\",\r\n                \"orderBy\": [],\r\n                \"table\": \"k8s_resources\"\r\n              },\r\n              \"datasource\": {\r\n                \"type\": \"grafana-clickhouse-datasource\",\r\n                \"uid\": \"KubeDoor-Clickhouse\"\r\n              },\r\n              \"format\": 0,\r\n              \"meta\": {\r\n                \"builderOptions\": {\r\n                  \"database\": \"kubedoor\",\r\n                  \"fields\": [],\r\n                  \"filters\": [],\r\n                  \"limit\": 100,\r\n                  \"mode\": \"list\",\r\n                  \"orderBy\": [],\r\n                  \"table\": \"k8s_resources\"\r\n                }\r\n              },\r\n              \"queryType\": \"sql\",\r\n              \"rawSql\": \"SELECT date as time, deployment, max(request_pod_mem_mb * pod_count) FROM kubedoor.${table} PREWHERE $__timeFilter(date) and ${env} and ${namespace} and ${deployment}\\r\\ngroup by time,deployment\\r\\norder by time\\r\\n\",\r\n              \"refId\": \"A\"\r\n            }\r\n          ],\r\n          \"title\": \"各微服务内存需求值\",\r\n          \"transformations\": [\r\n            {\r\n              \"id\": \"renameByRegex\",\r\n              \"options\": {\r\n                \"regex\": \"/.+ (.*)/\",\r\n                \"renamePattern\": \"$1\"\r\n              }\r\n            }\r\n          ],\r\n          \"type\": \"timeseries\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"grafana-clickhouse-datasource\",\r\n            \"uid\": \"KubeDoor-Clickhouse\"\r\n          },\r\n          \"fieldConfig\": {\r\n            \"defaults\": {\r\n              \"color\": {\r\n                \"mode\": \"palette-classic\"\r\n              },\r\n              \"custom\": {\r\n                \"axisBorderShow\": false,\r\n                \"axisCenteredZero\": false,\r\n                \"axisColorMode\": \"text\",\r\n                \"axisLabel\": \"\",\r\n                \"axisPlacement\": \"auto\",\r\n                \"barAlignment\": 0,\r\n                \"barWidthFactor\": 0.6,\r\n                \"drawStyle\": \"line\",\r\n                \"fillOpacity\": 0,\r\n                \"gradientMode\": \"none\",\r\n                \"hideFrom\": {\r\n                  \"legend\": false,\r\n                  \"tooltip\": false,\r\n                  \"viz\": false\r\n                },\r\n                \"insertNulls\": false,\r\n                \"lineInterpolation\": \"linear\",\r\n                \"lineWidth\": 1,\r\n                \"pointSize\": 5,\r\n                \"scaleDistribution\": {\r\n                  \"type\": \"linear\"\r\n                },\r\n                \"showPoints\": \"auto\",\r\n                \"spanNulls\": false,\r\n                \"stacking\": {\r\n                  \"group\": \"A\",\r\n                  \"mode\": \"none\"\r\n                },\r\n                \"thresholdsStyle\": {\r\n                  \"mode\": \"off\"\r\n                }\r\n              },\r\n              \"mappings\": [],\r\n              \"thresholds\": {\r\n                \"mode\": \"absolute\",\r\n                \"steps\": [\r\n                  {\r\n                    \"color\": \"green\"\r\n                  },\r\n                  {\r\n                    \"color\": \"red\",\r\n                    \"value\": 80\r\n                  }\r\n                ]\r\n              },\r\n              \"unit\": \"mbytes\"\r\n            },\r\n            \"overrides\": []\r\n          },\r\n          \"gridPos\": {\r\n            \"h\": 10,\r\n            \"w\": 8,\r\n            \"x\": 16,\r\n            \"y\": 46\r\n          },\r\n          \"id\": 18,\r\n          \"options\": {\r\n            \"legend\": {\r\n              \"calcs\": [\r\n                \"last\",\r\n                \"mean\",\r\n                \"max\"\r\n              ],\r\n              \"displayMode\": \"table\",\r\n              \"placement\": \"bottom\",\r\n              \"showLegend\": true,\r\n              \"sortBy\": \"Last\",\r\n              \"sortDesc\": true\r\n            },\r\n            \"tooltip\": {\r\n              \"mode\": \"multi\",\r\n              \"sort\": \"desc\"\r\n            }\r\n          },\r\n          \"pluginVersion\": \"11.4.0\",\r\n          \"targets\": [\r\n            {\r\n              \"builderOptions\": {\r\n                \"database\": \"kubedoor\",\r\n                \"fields\": [],\r\n                \"filters\": [],\r\n                \"limit\": 100,\r\n                \"mode\": \"list\",\r\n                \"orderBy\": [],\r\n                \"table\": \"k8s_resources\"\r\n              },\r\n              \"datasource\": {\r\n                \"type\": \"grafana-clickhouse-datasource\",\r\n                \"uid\": \"KubeDoor-Clickhouse\"\r\n              },\r\n              \"format\": 0,\r\n              \"meta\": {\r\n                \"builderOptions\": {\r\n                  \"database\": \"kubedoor\",\r\n                  \"fields\": [],\r\n                  \"filters\": [],\r\n                  \"limit\": 100,\r\n                  \"mode\": \"list\",\r\n                  \"orderBy\": [],\r\n                  \"table\": \"k8s_resources\"\r\n                }\r\n              },\r\n              \"queryType\": \"sql\",\r\n              \"rawSql\": \"SELECT date as time, deployment, max(limit_pod_mem_mb * pod_count) FROM kubedoor.${table} PREWHERE $__timeFilter(date) and ${env} and ${namespace} and ${deployment}\\r\\ngroup by time,deployment\\r\\norder by time\\r\\n\",\r\n              \"refId\": \"A\"\r\n            }\r\n          ],\r\n          \"title\": \"各微服务内存限制值\",\r\n          \"transformations\": [\r\n            {\r\n              \"id\": \"renameByRegex\",\r\n              \"options\": {\r\n                \"regex\": \"/.+ (.*)/\",\r\n                \"renamePattern\": \"$1\"\r\n              }\r\n            }\r\n          ],\r\n          \"type\": \"timeseries\"\r\n        }\r\n      ],\r\n      \"title\": \"微服务资源曲线图【$namespace】\",\r\n      \"type\": \"row\"\r\n    },\r\n    {\r\n      \"collapsed\": true,\r\n      \"gridPos\": {\r\n        \"h\": 1,\r\n        \"w\": 24,\r\n        \"x\": 0,\r\n        \"y\": 36\r\n      },\r\n      \"id\": 6,\r\n      \"panels\": [\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"grafana-clickhouse-datasource\",\r\n            \"uid\": \"KubeDoor-Clickhouse\"\r\n          },\r\n          \"fieldConfig\": {\r\n            \"defaults\": {\r\n              \"color\": {\r\n                \"mode\": \"palette-classic\"\r\n              },\r\n              \"custom\": {\r\n                \"axisBorderShow\": false,\r\n                \"axisCenteredZero\": false,\r\n                \"axisColorMode\": \"text\",\r\n                \"axisLabel\": \"\",\r\n                \"axisPlacement\": \"auto\",\r\n                \"barAlignment\": 0,\r\n                \"barWidthFactor\": 0.6,\r\n                \"drawStyle\": \"line\",\r\n                \"fillOpacity\": 0,\r\n                \"gradientMode\": \"none\",\r\n                \"hideFrom\": {\r\n                  \"legend\": false,\r\n                  \"tooltip\": false,\r\n                  \"viz\": false\r\n                },\r\n                \"insertNulls\": false,\r\n                \"lineInterpolation\": \"linear\",\r\n                \"lineWidth\": 1,\r\n                \"pointSize\": 5,\r\n                \"scaleDistribution\": {\r\n                  \"type\": \"linear\"\r\n                },\r\n                \"showPoints\": \"auto\",\r\n                \"spanNulls\": false,\r\n                \"stacking\": {\r\n                  \"group\": \"A\",\r\n                  \"mode\": \"none\"\r\n                },\r\n                \"thresholdsStyle\": {\r\n                  \"mode\": \"off\"\r\n                }\r\n              },\r\n              \"mappings\": [],\r\n              \"thresholds\": {\r\n                \"mode\": \"absolute\",\r\n                \"steps\": [\r\n                  {\r\n                    \"color\": \"green\"\r\n                  },\r\n                  {\r\n                    \"color\": \"red\",\r\n                    \"value\": 80\r\n                  }\r\n                ]\r\n              }\r\n            },\r\n            \"overrides\": []\r\n          },\r\n          \"gridPos\": {\r\n            \"h\": 10,\r\n            \"w\": 8,\r\n            \"x\": 0,\r\n            \"y\": 37\r\n          },\r\n          \"id\": 1,\r\n          \"options\": {\r\n            \"legend\": {\r\n              \"calcs\": [\r\n                \"last\",\r\n                \"mean\",\r\n                \"max\"\r\n              ],\r\n              \"displayMode\": \"table\",\r\n              \"placement\": \"bottom\",\r\n              \"showLegend\": true,\r\n              \"sortBy\": \"Mean\",\r\n              \"sortDesc\": true\r\n            },\r\n            \"tooltip\": {\r\n              \"mode\": \"multi\",\r\n              \"sort\": \"desc\"\r\n            }\r\n          },\r\n          \"pluginVersion\": \"11.4.0\",\r\n          \"targets\": [\r\n            {\r\n              \"builderOptions\": {\r\n                \"database\": \"kubedoor\",\r\n                \"fields\": [],\r\n                \"filters\": [],\r\n                \"limit\": 100,\r\n                \"mode\": \"list\",\r\n                \"orderBy\": [],\r\n                \"table\": \"k8s_resources\"\r\n              },\r\n              \"datasource\": {\r\n                \"type\": \"grafana-clickhouse-datasource\",\r\n                \"uid\": \"KubeDoor-Clickhouse\"\r\n              },\r\n              \"format\": 0,\r\n              \"meta\": {\r\n                \"builderOptions\": {\r\n                  \"database\": \"kubedoor\",\r\n                  \"fields\": [],\r\n                  \"filters\": [],\r\n                  \"limit\": 100,\r\n                  \"mode\": \"list\",\r\n                  \"orderBy\": [],\r\n                  \"table\": \"k8s_resources\"\r\n                }\r\n              },\r\n              \"queryType\": \"sql\",\r\n              \"rawSql\": \"SELECT date as time, deployment, max(p95_pod_load) FROM kubedoor.${table} PREWHERE $__timeFilter(date) and ${env} and ${namespace} and ${deployment}\\r\\ngroup by time,deployment\\r\\norder by time\\r\\n\",\r\n              \"refId\": \"A\"\r\n            }\r\n          ],\r\n          \"title\": \"各Pod每日高峰时段P95 CPU负载(核数)\",\r\n          \"transformations\": [\r\n            {\r\n              \"id\": \"renameByRegex\",\r\n              \"options\": {\r\n                \"regex\": \"/.+ (.*)/\",\r\n                \"renamePattern\": \"$1\"\r\n              }\r\n            }\r\n          ],\r\n          \"type\": \"timeseries\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"grafana-clickhouse-datasource\",\r\n            \"uid\": \"KubeDoor-Clickhouse\"\r\n          },\r\n          \"fieldConfig\": {\r\n            \"defaults\": {\r\n              \"color\": {\r\n                \"mode\": \"palette-classic\"\r\n              },\r\n              \"custom\": {\r\n                \"axisBorderShow\": false,\r\n                \"axisCenteredZero\": false,\r\n                \"axisColorMode\": \"text\",\r\n                \"axisLabel\": \"\",\r\n                \"axisPlacement\": \"auto\",\r\n                \"barAlignment\": 0,\r\n                \"barWidthFactor\": 0.6,\r\n                \"drawStyle\": \"line\",\r\n                \"fillOpacity\": 0,\r\n                \"gradientMode\": \"none\",\r\n                \"hideFrom\": {\r\n                  \"legend\": false,\r\n                  \"tooltip\": false,\r\n                  \"viz\": false\r\n                },\r\n                \"insertNulls\": false,\r\n                \"lineInterpolation\": \"linear\",\r\n                \"lineWidth\": 1,\r\n                \"pointSize\": 5,\r\n                \"scaleDistribution\": {\r\n                  \"type\": \"linear\"\r\n                },\r\n                \"showPoints\": \"auto\",\r\n                \"spanNulls\": false,\r\n                \"stacking\": {\r\n                  \"group\": \"A\",\r\n                  \"mode\": \"none\"\r\n                },\r\n                \"thresholdsStyle\": {\r\n                  \"mode\": \"off\"\r\n                }\r\n              },\r\n              \"mappings\": [],\r\n              \"thresholds\": {\r\n                \"mode\": \"absolute\",\r\n                \"steps\": [\r\n                  {\r\n                    \"color\": \"green\"\r\n                  },\r\n                  {\r\n                    \"color\": \"red\",\r\n                    \"value\": 80\r\n                  }\r\n                ]\r\n              }\r\n            },\r\n            \"overrides\": []\r\n          },\r\n          \"gridPos\": {\r\n            \"h\": 10,\r\n            \"w\": 8,\r\n            \"x\": 8,\r\n            \"y\": 37\r\n          },\r\n          \"id\": 15,\r\n          \"options\": {\r\n            \"legend\": {\r\n              \"calcs\": [\r\n                \"last\",\r\n                \"mean\",\r\n                \"max\"\r\n              ],\r\n              \"displayMode\": \"table\",\r\n              \"placement\": \"bottom\",\r\n              \"showLegend\": true,\r\n              \"sortBy\": \"Last\",\r\n              \"sortDesc\": true\r\n            },\r\n            \"tooltip\": {\r\n              \"mode\": \"multi\",\r\n              \"sort\": \"desc\"\r\n            }\r\n          },\r\n          \"pluginVersion\": \"11.4.0\",\r\n          \"targets\": [\r\n            {\r\n              \"builderOptions\": {\r\n                \"database\": \"kubedoor\",\r\n                \"fields\": [],\r\n                \"filters\": [],\r\n                \"limit\": 100,\r\n                \"mode\": \"list\",\r\n                \"orderBy\": [],\r\n                \"table\": \"k8s_resources\"\r\n              },\r\n              \"datasource\": {\r\n                \"type\": \"grafana-clickhouse-datasource\",\r\n                \"uid\": \"KubeDoor-Clickhouse\"\r\n              },\r\n              \"format\": 0,\r\n              \"meta\": {\r\n                \"builderOptions\": {\r\n                  \"database\": \"kubedoor\",\r\n                  \"fields\": [],\r\n                  \"filters\": [],\r\n                  \"limit\": 100,\r\n                  \"mode\": \"list\",\r\n                  \"orderBy\": [],\r\n                  \"table\": \"k8s_resources\"\r\n                }\r\n              },\r\n              \"queryType\": \"sql\",\r\n              \"rawSql\": \"SELECT date as time, deployment, max(request_pod_cpu_m)/1000 FROM kubedoor.${table} PREWHERE $__timeFilter(date) and ${env} and ${namespace} and ${deployment}\\r\\ngroup by time,deployment\\r\\norder by time\\r\\n\",\r\n              \"refId\": \"A\"\r\n            }\r\n          ],\r\n          \"title\": \"各Pod CPU需求值(核数)\",\r\n          \"transformations\": [\r\n            {\r\n              \"id\": \"renameByRegex\",\r\n              \"options\": {\r\n                \"regex\": \"/.+ (.*)/\",\r\n                \"renamePattern\": \"$1\"\r\n              }\r\n            }\r\n          ],\r\n          \"type\": \"timeseries\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"grafana-clickhouse-datasource\",\r\n            \"uid\": \"KubeDoor-Clickhouse\"\r\n          },\r\n          \"fieldConfig\": {\r\n            \"defaults\": {\r\n              \"color\": {\r\n                \"mode\": \"palette-classic\"\r\n              },\r\n              \"custom\": {\r\n                \"axisBorderShow\": false,\r\n                \"axisCenteredZero\": false,\r\n                \"axisColorMode\": \"text\",\r\n                \"axisLabel\": \"\",\r\n                \"axisPlacement\": \"auto\",\r\n                \"barAlignment\": 0,\r\n                \"barWidthFactor\": 0.6,\r\n                \"drawStyle\": \"line\",\r\n                \"fillOpacity\": 0,\r\n                \"gradientMode\": \"none\",\r\n                \"hideFrom\": {\r\n                  \"legend\": false,\r\n                  \"tooltip\": false,\r\n                  \"viz\": false\r\n                },\r\n                \"insertNulls\": false,\r\n                \"lineInterpolation\": \"linear\",\r\n                \"lineWidth\": 1,\r\n                \"pointSize\": 5,\r\n                \"scaleDistribution\": {\r\n                  \"type\": \"linear\"\r\n                },\r\n                \"showPoints\": \"auto\",\r\n                \"spanNulls\": false,\r\n                \"stacking\": {\r\n                  \"group\": \"A\",\r\n                  \"mode\": \"none\"\r\n                },\r\n                \"thresholdsStyle\": {\r\n                  \"mode\": \"off\"\r\n                }\r\n              },\r\n              \"mappings\": [],\r\n              \"thresholds\": {\r\n                \"mode\": \"absolute\",\r\n                \"steps\": [\r\n                  {\r\n                    \"color\": \"green\"\r\n                  },\r\n                  {\r\n                    \"color\": \"red\",\r\n                    \"value\": 80\r\n                  }\r\n                ]\r\n              }\r\n            },\r\n            \"overrides\": []\r\n          },\r\n          \"gridPos\": {\r\n            \"h\": 10,\r\n            \"w\": 8,\r\n            \"x\": 16,\r\n            \"y\": 37\r\n          },\r\n          \"id\": 16,\r\n          \"options\": {\r\n            \"legend\": {\r\n              \"calcs\": [\r\n                \"last\",\r\n                \"mean\",\r\n                \"max\"\r\n              ],\r\n              \"displayMode\": \"table\",\r\n              \"placement\": \"bottom\",\r\n              \"showLegend\": true,\r\n              \"sortBy\": \"Last\",\r\n              \"sortDesc\": true\r\n            },\r\n            \"tooltip\": {\r\n              \"mode\": \"multi\",\r\n              \"sort\": \"desc\"\r\n            }\r\n          },\r\n          \"pluginVersion\": \"11.4.0\",\r\n          \"targets\": [\r\n            {\r\n              \"builderOptions\": {\r\n                \"database\": \"kubedoor\",\r\n                \"fields\": [],\r\n                \"filters\": [],\r\n                \"limit\": 100,\r\n                \"mode\": \"list\",\r\n                \"orderBy\": [],\r\n                \"table\": \"k8s_resources\"\r\n              },\r\n              \"datasource\": {\r\n                \"type\": \"grafana-clickhouse-datasource\",\r\n                \"uid\": \"KubeDoor-Clickhouse\"\r\n              },\r\n              \"format\": 0,\r\n              \"meta\": {\r\n                \"builderOptions\": {\r\n                  \"database\": \"kubedoor\",\r\n                  \"fields\": [],\r\n                  \"filters\": [],\r\n                  \"limit\": 100,\r\n                  \"mode\": \"list\",\r\n                  \"orderBy\": [],\r\n                  \"table\": \"k8s_resources\"\r\n                }\r\n              },\r\n              \"queryType\": \"sql\",\r\n              \"rawSql\": \"SELECT date as time, deployment, max(limit_pod_cpu_m)/1000 FROM kubedoor.${table} PREWHERE $__timeFilter(date) and ${env} and ${namespace} and ${deployment}\\r\\ngroup by time,deployment\\r\\norder by time\\r\\n\",\r\n              \"refId\": \"A\"\r\n            }\r\n          ],\r\n          \"title\": \"各Pod CPU限制值(核数)\",\r\n          \"transformations\": [\r\n            {\r\n              \"id\": \"renameByRegex\",\r\n              \"options\": {\r\n                \"regex\": \"/.+ (.*)/\",\r\n                \"renamePattern\": \"$1\"\r\n              }\r\n            }\r\n          ],\r\n          \"type\": \"timeseries\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"grafana-clickhouse-datasource\",\r\n            \"uid\": \"KubeDoor-Clickhouse\"\r\n          },\r\n          \"fieldConfig\": {\r\n            \"defaults\": {\r\n              \"color\": {\r\n                \"mode\": \"palette-classic\"\r\n              },\r\n              \"custom\": {\r\n                \"axisBorderShow\": false,\r\n                \"axisCenteredZero\": false,\r\n                \"axisColorMode\": \"text\",\r\n                \"axisLabel\": \"\",\r\n                \"axisPlacement\": \"auto\",\r\n                \"barAlignment\": 0,\r\n                \"barWidthFactor\": 0.6,\r\n                \"drawStyle\": \"line\",\r\n                \"fillOpacity\": 0,\r\n                \"gradientMode\": \"none\",\r\n                \"hideFrom\": {\r\n                  \"legend\": false,\r\n                  \"tooltip\": false,\r\n                  \"viz\": false\r\n                },\r\n                \"insertNulls\": false,\r\n                \"lineInterpolation\": \"linear\",\r\n                \"lineWidth\": 1,\r\n                \"pointSize\": 5,\r\n                \"scaleDistribution\": {\r\n                  \"type\": \"linear\"\r\n                },\r\n                \"showPoints\": \"auto\",\r\n                \"spanNulls\": false,\r\n                \"stacking\": {\r\n                  \"group\": \"A\",\r\n                  \"mode\": \"none\"\r\n                },\r\n                \"thresholdsStyle\": {\r\n                  \"mode\": \"off\"\r\n                }\r\n              },\r\n              \"mappings\": [],\r\n              \"thresholds\": {\r\n                \"mode\": \"absolute\",\r\n                \"steps\": [\r\n                  {\r\n                    \"color\": \"green\"\r\n                  },\r\n                  {\r\n                    \"color\": \"red\",\r\n                    \"value\": 80\r\n                  }\r\n                ]\r\n              },\r\n              \"unit\": \"mbytes\"\r\n            },\r\n            \"overrides\": []\r\n          },\r\n          \"gridPos\": {\r\n            \"h\": 10,\r\n            \"w\": 8,\r\n            \"x\": 0,\r\n            \"y\": 47\r\n          },\r\n          \"id\": 3,\r\n          \"options\": {\r\n            \"legend\": {\r\n              \"calcs\": [\r\n                \"last\",\r\n                \"mean\",\r\n                \"max\"\r\n              ],\r\n              \"displayMode\": \"table\",\r\n              \"placement\": \"bottom\",\r\n              \"showLegend\": true,\r\n              \"sortBy\": \"Last\",\r\n              \"sortDesc\": true\r\n            },\r\n            \"tooltip\": {\r\n              \"mode\": \"multi\",\r\n              \"sort\": \"desc\"\r\n            }\r\n          },\r\n          \"pluginVersion\": \"11.4.0\",\r\n          \"targets\": [\r\n            {\r\n              \"builderOptions\": {\r\n                \"database\": \"kubedoor\",\r\n                \"fields\": [],\r\n                \"filters\": [],\r\n                \"limit\": 100,\r\n                \"mode\": \"list\",\r\n                \"orderBy\": [],\r\n                \"table\": \"k8s_resources\"\r\n              },\r\n              \"datasource\": {\r\n                \"type\": \"grafana-clickhouse-datasource\",\r\n                \"uid\": \"KubeDoor-Clickhouse\"\r\n              },\r\n              \"format\": 0,\r\n              \"meta\": {\r\n                \"builderOptions\": {\r\n                  \"database\": \"kubedoor\",\r\n                  \"fields\": [],\r\n                  \"filters\": [],\r\n                  \"limit\": 100,\r\n                  \"mode\": \"list\",\r\n                  \"orderBy\": [],\r\n                  \"table\": \"k8s_resources\"\r\n                }\r\n              },\r\n              \"queryType\": \"sql\",\r\n              \"rawSql\": \"SELECT date as time, deployment, max(p95_pod_wss_mb) FROM kubedoor.${table} PREWHERE $__timeFilter(date) and ${env} and ${namespace} and ${deployment}\\r\\ngroup by time,deployment\\r\\norder by time\\r\\n\",\r\n              \"refId\": \"A\"\r\n            }\r\n          ],\r\n          \"title\": \"各Pod每日高峰时段P95内存使用量\",\r\n          \"transformations\": [\r\n            {\r\n              \"id\": \"renameByRegex\",\r\n              \"options\": {\r\n                \"regex\": \"/.+ (.*)/\",\r\n                \"renamePattern\": \"$1\"\r\n              }\r\n            }\r\n          ],\r\n          \"type\": \"timeseries\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"grafana-clickhouse-datasource\",\r\n            \"uid\": \"KubeDoor-Clickhouse\"\r\n          },\r\n          \"fieldConfig\": {\r\n            \"defaults\": {\r\n              \"color\": {\r\n                \"mode\": \"palette-classic\"\r\n              },\r\n              \"custom\": {\r\n                \"axisBorderShow\": false,\r\n                \"axisCenteredZero\": false,\r\n                \"axisColorMode\": \"text\",\r\n                \"axisLabel\": \"\",\r\n                \"axisPlacement\": \"auto\",\r\n                \"barAlignment\": 0,\r\n                \"barWidthFactor\": 0.6,\r\n                \"drawStyle\": \"line\",\r\n                \"fillOpacity\": 0,\r\n                \"gradientMode\": \"none\",\r\n                \"hideFrom\": {\r\n                  \"legend\": false,\r\n                  \"tooltip\": false,\r\n                  \"viz\": false\r\n                },\r\n                \"insertNulls\": false,\r\n                \"lineInterpolation\": \"linear\",\r\n                \"lineWidth\": 1,\r\n                \"pointSize\": 5,\r\n                \"scaleDistribution\": {\r\n                  \"type\": \"linear\"\r\n                },\r\n                \"showPoints\": \"auto\",\r\n                \"spanNulls\": false,\r\n                \"stacking\": {\r\n                  \"group\": \"A\",\r\n                  \"mode\": \"none\"\r\n                },\r\n                \"thresholdsStyle\": {\r\n                  \"mode\": \"off\"\r\n                }\r\n              },\r\n              \"mappings\": [],\r\n              \"thresholds\": {\r\n                \"mode\": \"absolute\",\r\n                \"steps\": [\r\n                  {\r\n                    \"color\": \"green\"\r\n                  },\r\n                  {\r\n                    \"color\": \"red\",\r\n                    \"value\": 80\r\n                  }\r\n                ]\r\n              },\r\n              \"unit\": \"mbytes\"\r\n            },\r\n            \"overrides\": []\r\n          },\r\n          \"gridPos\": {\r\n            \"h\": 10,\r\n            \"w\": 8,\r\n            \"x\": 8,\r\n            \"y\": 47\r\n          },\r\n          \"id\": 17,\r\n          \"options\": {\r\n            \"legend\": {\r\n              \"calcs\": [\r\n                \"last\",\r\n                \"mean\",\r\n                \"max\"\r\n              ],\r\n              \"displayMode\": \"table\",\r\n              \"placement\": \"bottom\",\r\n              \"showLegend\": true,\r\n              \"sortBy\": \"Last\",\r\n              \"sortDesc\": true\r\n            },\r\n            \"tooltip\": {\r\n              \"mode\": \"multi\",\r\n              \"sort\": \"desc\"\r\n            }\r\n          },\r\n          \"pluginVersion\": \"11.4.0\",\r\n          \"targets\": [\r\n            {\r\n              \"builderOptions\": {\r\n                \"database\": \"kubedoor\",\r\n                \"fields\": [],\r\n                \"filters\": [],\r\n                \"limit\": 100,\r\n                \"mode\": \"list\",\r\n                \"orderBy\": [],\r\n                \"table\": \"k8s_resources\"\r\n              },\r\n              \"datasource\": {\r\n                \"type\": \"grafana-clickhouse-datasource\",\r\n                \"uid\": \"KubeDoor-Clickhouse\"\r\n              },\r\n              \"format\": 0,\r\n              \"meta\": {\r\n                \"builderOptions\": {\r\n                  \"database\": \"kubedoor\",\r\n                  \"fields\": [],\r\n                  \"filters\": [],\r\n                  \"limit\": 100,\r\n                  \"mode\": \"list\",\r\n                  \"orderBy\": [],\r\n                  \"table\": \"k8s_resources\"\r\n                }\r\n              },\r\n              \"queryType\": \"sql\",\r\n              \"rawSql\": \"SELECT date as time, deployment, max(request_pod_mem_mb) FROM kubedoor.${table} PREWHERE $__timeFilter(date) and ${env} and ${namespace} and ${deployment}\\r\\ngroup by time,deployment\\r\\norder by time\\r\\n\",\r\n              \"refId\": \"A\"\r\n            }\r\n          ],\r\n          \"title\": \"各Pod内存需求值\",\r\n          \"transformations\": [\r\n            {\r\n              \"id\": \"renameByRegex\",\r\n              \"options\": {\r\n                \"regex\": \"/.+ (.*)/\",\r\n                \"renamePattern\": \"$1\"\r\n              }\r\n            }\r\n          ],\r\n          \"type\": \"timeseries\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"grafana-clickhouse-datasource\",\r\n            \"uid\": \"KubeDoor-Clickhouse\"\r\n          },\r\n          \"fieldConfig\": {\r\n            \"defaults\": {\r\n              \"color\": {\r\n                \"mode\": \"palette-classic\"\r\n              },\r\n              \"custom\": {\r\n                \"axisBorderShow\": false,\r\n                \"axisCenteredZero\": false,\r\n                \"axisColorMode\": \"text\",\r\n                \"axisLabel\": \"\",\r\n                \"axisPlacement\": \"auto\",\r\n                \"barAlignment\": 0,\r\n                \"barWidthFactor\": 0.6,\r\n                \"drawStyle\": \"line\",\r\n                \"fillOpacity\": 0,\r\n                \"gradientMode\": \"none\",\r\n                \"hideFrom\": {\r\n                  \"legend\": false,\r\n                  \"tooltip\": false,\r\n                  \"viz\": false\r\n                },\r\n                \"insertNulls\": false,\r\n                \"lineInterpolation\": \"linear\",\r\n                \"lineWidth\": 1,\r\n                \"pointSize\": 5,\r\n                \"scaleDistribution\": {\r\n                  \"type\": \"linear\"\r\n                },\r\n                \"showPoints\": \"auto\",\r\n                \"spanNulls\": false,\r\n                \"stacking\": {\r\n                  \"group\": \"A\",\r\n                  \"mode\": \"none\"\r\n                },\r\n                \"thresholdsStyle\": {\r\n                  \"mode\": \"off\"\r\n                }\r\n              },\r\n              \"mappings\": [],\r\n              \"thresholds\": {\r\n                \"mode\": \"absolute\",\r\n                \"steps\": [\r\n                  {\r\n                    \"color\": \"green\"\r\n                  },\r\n                  {\r\n                    \"color\": \"red\",\r\n                    \"value\": 80\r\n                  }\r\n                ]\r\n              },\r\n              \"unit\": \"mbytes\"\r\n            },\r\n            \"overrides\": []\r\n          },\r\n          \"gridPos\": {\r\n            \"h\": 10,\r\n            \"w\": 8,\r\n            \"x\": 16,\r\n            \"y\": 47\r\n          },\r\n          \"id\": 13,\r\n          \"options\": {\r\n            \"legend\": {\r\n              \"calcs\": [\r\n                \"last\",\r\n                \"mean\",\r\n                \"max\"\r\n              ],\r\n              \"displayMode\": \"table\",\r\n              \"placement\": \"bottom\",\r\n              \"showLegend\": true,\r\n              \"sortBy\": \"Last\",\r\n              \"sortDesc\": true\r\n            },\r\n            \"tooltip\": {\r\n              \"mode\": \"multi\",\r\n              \"sort\": \"desc\"\r\n            }\r\n          },\r\n          \"pluginVersion\": \"11.4.0\",\r\n          \"targets\": [\r\n            {\r\n              \"builderOptions\": {\r\n                \"database\": \"kubedoor\",\r\n                \"fields\": [],\r\n                \"filters\": [],\r\n                \"limit\": 100,\r\n                \"mode\": \"list\",\r\n                \"orderBy\": [],\r\n                \"table\": \"k8s_resources\"\r\n              },\r\n              \"datasource\": {\r\n                \"type\": \"grafana-clickhouse-datasource\",\r\n                \"uid\": \"KubeDoor-Clickhouse\"\r\n              },\r\n              \"format\": 0,\r\n              \"meta\": {\r\n                \"builderOptions\": {\r\n                  \"database\": \"kubedoor\",\r\n                  \"fields\": [],\r\n                  \"filters\": [],\r\n                  \"limit\": 100,\r\n                  \"mode\": \"list\",\r\n                  \"orderBy\": [],\r\n                  \"table\": \"k8s_resources\"\r\n                }\r\n              },\r\n              \"queryType\": \"sql\",\r\n              \"rawSql\": \"SELECT date as time, deployment, max(limit_pod_mem_mb) FROM kubedoor.${table} PREWHERE $__timeFilter(date) and ${env} and ${namespace} and ${deployment}\\r\\ngroup by time,deployment\\r\\norder by time\\r\\n\",\r\n              \"refId\": \"A\"\r\n            }\r\n          ],\r\n          \"title\": \"各Pod内存限制值\",\r\n          \"transformations\": [\r\n            {\r\n              \"id\": \"renameByRegex\",\r\n              \"options\": {\r\n                \"regex\": \"/.+ (.*)/\",\r\n                \"renamePattern\": \"$1\"\r\n              }\r\n            }\r\n          ],\r\n          \"type\": \"timeseries\"\r\n        }\r\n      ],\r\n      \"title\": \"Pod资源曲线图【$namespace】\",\r\n      \"type\": \"row\"\r\n    }\r\n  ],\r\n  \"schemaVersion\": 40,\r\n  \"tags\": [\r\n    \"StarsL.cn\"\r\n  ],\r\n  \"templating\": {\r\n    \"list\": [\r\n      {\r\n        \"current\": {},\r\n        \"datasource\": {\r\n          \"type\": \"grafana-clickhouse-datasource\",\r\n          \"uid\": \"KubeDoor-Clickhouse\"\r\n        },\r\n        \"definition\": \"show tables from kubedoor\",\r\n        \"description\": \"\",\r\n        \"label\": \"数据表\",\r\n        \"name\": \"table\",\r\n        \"options\": [],\r\n        \"query\": \"show tables from kubedoor\",\r\n        \"refresh\": 1,\r\n        \"regex\": \"/^k8s_resources.*/\",\r\n        \"type\": \"query\"\r\n      },\r\n      {\r\n        \"allValue\": \"1 = 1\",\r\n        \"current\": {},\r\n        \"datasource\": {\r\n          \"type\": \"grafana-clickhouse-datasource\",\r\n          \"uid\": \"KubeDoor-Clickhouse\"\r\n        },\r\n        \"definition\": \"SELECT\\nconcat(env ,'#env = \\\\'',env,'\\\\'') \\nfrom  kubedoor.${table} PREWHERE $__timeFilter(date) \\ngroup by env\",\r\n        \"includeAll\": false,\r\n        \"label\": \"环境\",\r\n        \"name\": \"env\",\r\n        \"options\": [],\r\n        \"query\": \"SELECT\\nconcat(env ,'#env = \\\\'',env,'\\\\'') \\nfrom  kubedoor.${table} PREWHERE $__timeFilter(date) \\ngroup by env\",\r\n        \"refresh\": 1,\r\n        \"regex\": \"/(?<text>.*)#(?<value>.*)/\",\r\n        \"sort\": 5,\r\n        \"type\": \"query\"\r\n      },\r\n      {\r\n        \"allValue\": \"1=1\",\r\n        \"current\": {},\r\n        \"datasource\": {\r\n          \"type\": \"grafana-clickhouse-datasource\",\r\n          \"uid\": \"KubeDoor-Clickhouse\"\r\n        },\r\n        \"definition\": \"SELECT\\nconcat(namespace,'#namespace = \\\\'',namespace,'\\\\'') \\nfrom  kubedoor.${table} PREWHERE $__timeFilter(date) and ${env}\\ngroup by namespace\",\r\n        \"description\": \"\",\r\n        \"includeAll\": true,\r\n        \"label\": \"命名空间\",\r\n        \"name\": \"namespace\",\r\n        \"options\": [],\r\n        \"query\": \"SELECT\\nconcat(namespace,'#namespace = \\\\'',namespace,'\\\\'') \\nfrom  kubedoor.${table} PREWHERE $__timeFilter(date) and ${env}\\ngroup by namespace\",\r\n        \"refresh\": 1,\r\n        \"regex\": \"/(?<text>.*)#(?<value>.*)/\",\r\n        \"sort\": 5,\r\n        \"type\": \"query\"\r\n      },\r\n      {\r\n        \"allValue\": \"1=1\",\r\n        \"current\": {},\r\n        \"datasource\": {\r\n          \"type\": \"grafana-clickhouse-datasource\",\r\n          \"uid\": \"KubeDoor-Clickhouse\"\r\n        },\r\n        \"definition\": \"SELECT\\nconcat(deployment,'#deployment = \\\\'',deployment,'\\\\'') \\nfrom  kubedoor.${table} PREWHERE $__timeFilter(date) and ${env} and ${namespace}\\ngroup by deployment\",\r\n        \"includeAll\": true,\r\n        \"label\": \"微服务\",\r\n        \"name\": \"deployment\",\r\n        \"options\": [],\r\n        \"query\": \"SELECT\\nconcat(deployment,'#deployment = \\\\'',deployment,'\\\\'') \\nfrom  kubedoor.${table} PREWHERE $__timeFilter(date) and ${env} and ${namespace}\\ngroup by deployment\",\r\n        \"refresh\": 1,\r\n        \"regex\": \"/(?<text>.*)#(?<value>.*)/\",\r\n        \"sort\": 5,\r\n        \"type\": \"query\"\r\n      },\r\n      {\r\n        \"current\": {},\r\n        \"datasource\": {\r\n          \"type\": \"grafana-clickhouse-datasource\",\r\n          \"uid\": \"KubeDoor-Clickhouse\"\r\n        },\r\n        \"definition\": \"SELECT\\n\\nconcat(formatDateTime(toDateTime(date), '%Y-%m-%d'),'#',formatDateTime(toDateTime(date), '%Y-%m-%d %T'))\\n AS formatted_date\\nFROM\\n    kubedoor.${table}\\nPREWHERE\\n    $__timeFilter(date) AND ${env}\\nGROUP BY\\n    formatted_date\\nORDER BY\\n    SUM(pod_count * p95_pod_load) DESC\\nLIMIT\\n    1\\n\",\r\n        \"description\": \"\",\r\n        \"label\": \"最大资源使用的日期\",\r\n        \"name\": \"maxday\",\r\n        \"options\": [],\r\n        \"query\": \"SELECT\\n\\nconcat(formatDateTime(toDateTime(date), '%Y-%m-%d'),'#',formatDateTime(toDateTime(date), '%Y-%m-%d %T'))\\n AS formatted_date\\nFROM\\n    kubedoor.${table}\\nPREWHERE\\n    $__timeFilter(date) AND ${env}\\nGROUP BY\\n    formatted_date\\nORDER BY\\n    SUM(pod_count * p95_pod_load) DESC\\nLIMIT\\n    1\\n\",\r\n        \"refresh\": 2,\r\n        \"regex\": \"/(?<text>.*)#(?<value>.*)/\",\r\n        \"type\": \"query\"\r\n      }\r\n    ]\r\n  },\r\n  \"time\": {\r\n    \"from\": \"now-30d\",\r\n    \"to\": \"now\"\r\n  },\r\n  \"timepicker\": {},\r\n  \"timezone\": \"Asia/Shanghai\",\r\n  \"title\": \"KubeDoor-K8S每日高峰时段资源数据分析看板\",\r\n  \"uid\": \"KubeDoor\",\r\n  \"version\": 5,\r\n  \"weekStart\": \"\"\r\n}"
  KubeDoor-K8S.json: "{{`{\r\n  \"annotations\": {\r\n    \"list\": [\r\n      {\r\n        \"$$hashKey\": \"object:247\",\r\n        \"builtIn\": 1,\r\n        \"datasource\": {\r\n          \"type\": \"datasource\",\r\n          \"uid\": \"grafana\"\r\n        },\r\n        \"enable\": true,\r\n        \"hide\": true,\r\n        \"iconColor\": \"rgba(0, 211, 255, 1)\",\r\n        \"name\": \"Annotations & Alerts\",\r\n        \"target\": {\r\n          \"limit\": 100,\r\n          \"matchAny\": false,\r\n          \"tags\": [],\r\n          \"type\": \"dashboard\"\r\n        },\r\n        \"type\": \"dashboard\"\r\n      }\r\n    ]\r\n  },\r\n  \"description\": \"KubeDoor - K8S资源实时监控看板\",\r\n  \"editable\": true,\r\n  \"fiscalYearStartMonth\": 0,\r\n  \"graphTooltip\": 0,\r\n  \"id\": 712,\r\n  \"links\": [\r\n    {\r\n      \"icon\": \"bolt\",\r\n      \"tags\": [],\r\n      \"targetBlank\": true,\r\n      \"title\": \"Update\",\r\n      \"tooltip\": \"查看更多仪表板\",\r\n      \"type\": \"link\",\r\n      \"url\": \"https://grafana.com/orgs/starsliao/dashboards\"\r\n    },\r\n    {\r\n      \"$$hashKey\": \"object:831\",\r\n      \"icon\": \"question\",\r\n      \"tags\": [\r\n        \"node_exporter\"\r\n      ],\r\n      \"targetBlank\": true,\r\n      \"title\": \"GitHub\",\r\n      \"tooltip\": \"查看更多仪表板\",\r\n      \"type\": \"link\",\r\n      \"url\": \"https://github.com/starsliao\"\r\n    }\r\n  ],\r\n  \"panels\": [\r\n    {\r\n      \"collapsed\": false,\r\n      \"gridPos\": {\r\n        \"h\": 1,\r\n        \"w\": 24,\r\n        \"x\": 0,\r\n        \"y\": 0\r\n      },\r\n      \"id\": 54,\r\n      \"panels\": [],\r\n      \"title\": \"节点资源总览：所选节点:【$node】\",\r\n      \"type\": \"row\"\r\n    },\r\n    {\r\n      \"datasource\": {\r\n        \"type\": \"prometheus\",\r\n        \"uid\": \"KubeDoor-Prometheus\"\r\n      },\r\n      \"fieldConfig\": {\r\n        \"defaults\": {\r\n          \"decimals\": 1,\r\n          \"mappings\": [],\r\n          \"max\": 1,\r\n          \"min\": 0,\r\n          \"thresholds\": {\r\n            \"mode\": \"absolute\",\r\n            \"steps\": [\r\n              {\r\n                \"color\": \"green\",\r\n                \"value\": null\r\n              },\r\n              {\r\n                \"color\": \"orange\",\r\n                \"value\": 0.8\r\n              },\r\n              {\r\n                \"color\": \"red\",\r\n                \"value\": 0.9\r\n              }\r\n            ]\r\n          },\r\n          \"unit\": \"percentunit\"\r\n        },\r\n        \"overrides\": []\r\n      },\r\n      \"gridPos\": {\r\n        \"h\": 4,\r\n        \"w\": 4,\r\n        \"x\": 0,\r\n        \"y\": 1\r\n      },\r\n      \"id\": 44,\r\n      \"options\": {\r\n        \"displayMode\": \"basic\",\r\n        \"legend\": {\r\n          \"calcs\": [],\r\n          \"displayMode\": \"list\",\r\n          \"placement\": \"bottom\",\r\n          \"showLegend\": false\r\n        },\r\n        \"maxVizHeight\": 300,\r\n        \"minVizHeight\": 10,\r\n        \"minVizWidth\": 0,\r\n        \"namePlacement\": \"auto\",\r\n        \"orientation\": \"vertical\",\r\n        \"reduceOptions\": {\r\n          \"calcs\": [\r\n            \"last\"\r\n          ],\r\n          \"fields\": \"\",\r\n          \"values\": false\r\n        },\r\n        \"showUnfilled\": false,\r\n        \"sizing\": \"auto\",\r\n        \"text\": {},\r\n        \"valueMode\": \"color\"\r\n      },\r\n      \"pluginVersion\": \"11.4.0\",\r\n      \"targets\": [\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": true,\r\n          \"expr\": \"sum(container_memory_working_set_bytes{$ext_key=~\\\"$ext_value\\\",container!=\\\"\\\",node=~\\\"^$node$\\\"}) / sum(kube_node_status_allocatable{$ext_key=~\\\"$ext_value\\\",resource=\\\"memory\\\", unit=\\\"byte\\\", node=~\\\"^$node$\\\"})\",\r\n          \"format\": \"time_series\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"内存使用率\",\r\n          \"refId\": \"C\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": true,\r\n          \"expr\": \"sum(kube_pod_container_resource_requests{$ext_key=~\\\"$ext_value\\\",resource=\\\"memory\\\", unit=\\\"byte\\\",node=~\\\"^$node$\\\"}) / sum(kube_node_status_allocatable{$ext_key=~\\\"$ext_value\\\",resource=\\\"memory\\\", unit=\\\"byte\\\", node=~\\\"^$node$\\\"})\",\r\n          \"format\": \"time_series\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"内存请求率\",\r\n          \"refId\": \"A\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": true,\r\n          \"expr\": \"sum(kube_pod_container_resource_limits{$ext_key=~\\\"$ext_value\\\",resource=\\\"memory\\\", unit=\\\"byte\\\",node=~\\\"^$node$\\\"}) / sum(kube_node_status_allocatable{$ext_key=~\\\"$ext_value\\\",resource=\\\"memory\\\", unit=\\\"byte\\\", node=~\\\"^$node$\\\"})\",\r\n          \"format\": \"time_series\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"intervalFactor\": 1,\r\n          \"legendFormat\": \"内存限制率\",\r\n          \"refId\": \"B\",\r\n          \"step\": 10\r\n        }\r\n      ],\r\n      \"title\": \"节点内存比例\",\r\n      \"type\": \"bargauge\"\r\n    },\r\n    {\r\n      \"datasource\": {\r\n        \"type\": \"prometheus\",\r\n        \"uid\": \"KubeDoor-Prometheus\"\r\n      },\r\n      \"fieldConfig\": {\r\n        \"defaults\": {\r\n          \"decimals\": 1,\r\n          \"mappings\": [],\r\n          \"max\": 1,\r\n          \"min\": 0,\r\n          \"thresholds\": {\r\n            \"mode\": \"absolute\",\r\n            \"steps\": [\r\n              {\r\n                \"color\": \"green\",\r\n                \"value\": null\r\n              },\r\n              {\r\n                \"color\": \"orange\",\r\n                \"value\": 0.7\r\n              },\r\n              {\r\n                \"color\": \"red\",\r\n                \"value\": 0.9\r\n              }\r\n            ]\r\n          },\r\n          \"unit\": \"percentunit\"\r\n        },\r\n        \"overrides\": []\r\n      },\r\n      \"gridPos\": {\r\n        \"h\": 4,\r\n        \"w\": 4,\r\n        \"x\": 4,\r\n        \"y\": 1\r\n      },\r\n      \"id\": 45,\r\n      \"options\": {\r\n        \"displayMode\": \"basic\",\r\n        \"legend\": {\r\n          \"calcs\": [],\r\n          \"displayMode\": \"list\",\r\n          \"placement\": \"bottom\",\r\n          \"showLegend\": false\r\n        },\r\n        \"maxVizHeight\": 300,\r\n        \"minVizHeight\": 10,\r\n        \"minVizWidth\": 0,\r\n        \"namePlacement\": \"auto\",\r\n        \"orientation\": \"vertical\",\r\n        \"reduceOptions\": {\r\n          \"calcs\": [\r\n            \"last\"\r\n          ],\r\n          \"fields\": \"\",\r\n          \"values\": false\r\n        },\r\n        \"showUnfilled\": false,\r\n        \"sizing\": \"auto\",\r\n        \"text\": {},\r\n        \"valueMode\": \"color\"\r\n      },\r\n      \"pluginVersion\": \"11.4.0\",\r\n      \"targets\": [\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": true,\r\n          \"expr\": \"sum (irate(container_cpu_usage_seconds_total{$ext_key=~\\\"$ext_value\\\",container!=\\\"\\\",node=~\\\"^$node$\\\"}[2m])) / sum(kube_node_status_allocatable{$ext_key=~\\\"$ext_value\\\",resource=\\\"cpu\\\", unit=\\\"core\\\", node=~\\\"^$node$\\\"})\",\r\n          \"format\": \"time_series\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"CPU使用率\",\r\n          \"refId\": \"C\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": true,\r\n          \"expr\": \"sum(kube_pod_container_resource_requests{$ext_key=~\\\"$ext_value\\\",resource=\\\"cpu\\\", unit=\\\"core\\\",node=~\\\"^$node$\\\"}) / sum(kube_node_status_allocatable{$ext_key=~\\\"$ext_value\\\",resource=\\\"cpu\\\", unit=\\\"core\\\", node=~\\\"^$node$\\\"})\",\r\n          \"format\": \"time_series\",\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"CPU请求率\",\r\n          \"refId\": \"A\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": true,\r\n          \"expr\": \"sum(kube_pod_container_resource_limits{$ext_key=~\\\"$ext_value\\\",resource=\\\"cpu\\\", unit=\\\"core\\\",node=~\\\"^$node$\\\"}) / sum(kube_node_status_allocatable{$ext_key=~\\\"$ext_value\\\",resource=\\\"cpu\\\", unit=\\\"core\\\", node=~\\\"^$node$\\\"})\",\r\n          \"format\": \"time_series\",\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"CPU限制率\",\r\n          \"refId\": \"B\"\r\n        }\r\n      ],\r\n      \"title\": \"节点CPU比例\",\r\n      \"type\": \"bargauge\"\r\n    },\r\n    {\r\n      \"datasource\": {\r\n        \"type\": \"prometheus\",\r\n        \"uid\": \"KubeDoor-Prometheus\"\r\n      },\r\n      \"description\": \"集群节点数，节点POD数，节点POD上限\",\r\n      \"fieldConfig\": {\r\n        \"defaults\": {\r\n          \"mappings\": [],\r\n          \"max\": 100,\r\n          \"min\": 1,\r\n          \"thresholds\": {\r\n            \"mode\": \"absolute\",\r\n            \"steps\": [\r\n              {\r\n                \"color\": \"green\",\r\n                \"value\": null\r\n              },\r\n              {\r\n                \"color\": \"orange\",\r\n                \"value\": 1000\r\n              },\r\n              {\r\n                \"color\": \"red\",\r\n                \"value\": 2000\r\n              }\r\n            ]\r\n          },\r\n          \"unit\": \"none\"\r\n        },\r\n        \"overrides\": []\r\n      },\r\n      \"gridPos\": {\r\n        \"h\": 4,\r\n        \"w\": 3,\r\n        \"x\": 8,\r\n        \"y\": 1\r\n      },\r\n      \"id\": 74,\r\n      \"options\": {\r\n        \"displayMode\": \"basic\",\r\n        \"legend\": {\r\n          \"calcs\": [],\r\n          \"displayMode\": \"list\",\r\n          \"placement\": \"bottom\",\r\n          \"showLegend\": false\r\n        },\r\n        \"maxVizHeight\": 300,\r\n        \"minVizHeight\": 10,\r\n        \"minVizWidth\": 0,\r\n        \"namePlacement\": \"auto\",\r\n        \"orientation\": \"vertical\",\r\n        \"reduceOptions\": {\r\n          \"calcs\": [\r\n            \"last\"\r\n          ],\r\n          \"fields\": \"\",\r\n          \"values\": false\r\n        },\r\n        \"showUnfilled\": false,\r\n        \"sizing\": \"auto\",\r\n        \"text\": {},\r\n        \"valueMode\": \"color\"\r\n      },\r\n      \"pluginVersion\": \"11.4.0\",\r\n      \"targets\": [\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"expr\": \"count(kube_node_info{$ext_key=~\\\"$ext_value\\\"})\",\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"节点数\",\r\n          \"refId\": \"A\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"expr\": \"count(kube_pod_info{$ext_key=~\\\"$ext_value\\\",created_by_kind!~\\\"<none>|Job\\\",node=~\\\"^$node$\\\"})\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"Pod数\",\r\n          \"refId\": \"B\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"exemplar\": true,\r\n          \"expr\": \"sum(kube_node_status_allocatable{$ext_key=~\\\"$ext_value\\\",resource=\\\"pods\\\", unit=\\\"integer\\\",node=~\\\"^$node$\\\"})\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"上限Pod\",\r\n          \"refId\": \"C\"\r\n        }\r\n      ],\r\n      \"title\": \"节点与Pod\",\r\n      \"type\": \"bargauge\"\r\n    },\r\n    {\r\n      \"datasource\": {\r\n        \"type\": \"prometheus\",\r\n        \"uid\": \"KubeDoor-Prometheus\"\r\n      },\r\n      \"fieldConfig\": {\r\n        \"defaults\": {\r\n          \"color\": {\r\n            \"mode\": \"palette-classic\"\r\n          },\r\n          \"custom\": {\r\n            \"align\": \"center\",\r\n            \"cellOptions\": {\r\n              \"type\": \"color-text\"\r\n            },\r\n            \"filterable\": false,\r\n            \"inspect\": false\r\n          },\r\n          \"mappings\": [],\r\n          \"noValue\": \"0\",\r\n          \"thresholds\": {\r\n            \"mode\": \"absolute\",\r\n            \"steps\": [\r\n              {\r\n                \"color\": \"green\",\r\n                \"value\": null\r\n              },\r\n              {\r\n                \"color\": \"red\",\r\n                \"value\": 80\r\n              }\r\n            ]\r\n          },\r\n          \"unit\": \"none\"\r\n        },\r\n        \"overrides\": [\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"空间\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 89\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"Pod\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 21\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"SVC\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 7\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"微服务\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 61\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"配置\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 16\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"密码\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 33\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      },\r\n      \"gridPos\": {\r\n        \"h\": 8,\r\n        \"w\": 5,\r\n        \"x\": 11,\r\n        \"y\": 1\r\n      },\r\n      \"id\": 51,\r\n      \"options\": {\r\n        \"cellHeight\": \"sm\",\r\n        \"footer\": {\r\n          \"countRows\": false,\r\n          \"fields\": \"\",\r\n          \"reducer\": [\r\n            \"sum\"\r\n          ],\r\n          \"show\": true\r\n        },\r\n        \"showHeader\": true,\r\n        \"sortBy\": [\r\n          {\r\n            \"desc\": true,\r\n            \"displayName\": \"微服务\"\r\n          }\r\n        ]\r\n      },\r\n      \"pluginVersion\": \"11.4.0\",\r\n      \"targets\": [\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"expr\": \"count(kube_pod_info{$ext_key=~\\\"$ext_value\\\",node=~\\\"^$node$\\\"}) by (namespace)\",\r\n          \"format\": \"table\",\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"\",\r\n          \"refId\": \"A\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"expr\": \"count(kube_service_info{$ext_key=~\\\"$ext_value\\\"}) by(namespace)\",\r\n          \"format\": \"table\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"\",\r\n          \"refId\": \"C\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"expr\": \"count by (namespace)({__name__=~\\\"kube_deployment_metadata_generation|kube_daemonset_metadata_generation|kube_statefulset_metadata_generation\\\",$ext_key=~\\\"$ext_value\\\"})\",\r\n          \"format\": \"table\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"__auto\",\r\n          \"refId\": \"D\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"expr\": \"count(kube_configmap_info{$ext_key=~\\\"$ext_value\\\"}) by(namespace)\",\r\n          \"format\": \"table\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"configmap\",\r\n          \"refId\": \"B\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"expr\": \"count(kube_secret_info{$ext_key=~\\\"$ext_value\\\"}) by(namespace)\",\r\n          \"format\": \"table\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"secret\",\r\n          \"refId\": \"E\"\r\n        }\r\n      ],\r\n      \"title\": \"命名空间资源统计\",\r\n      \"transformations\": [\r\n        {\r\n          \"id\": \"seriesToColumns\",\r\n          \"options\": {\r\n            \"byField\": \"namespace\"\r\n          }\r\n        },\r\n        {\r\n          \"id\": \"organize\",\r\n          \"options\": {\r\n            \"excludeByName\": {\r\n              \"Time\": true,\r\n              \"Time 1\": true,\r\n              \"Time 2\": true,\r\n              \"Time 3\": true,\r\n              \"Time 4\": true,\r\n              \"Time 5\": true\r\n            },\r\n            \"includeByName\": {},\r\n            \"indexByName\": {\r\n              \"Time 1\": 2,\r\n              \"Time 2\": 4,\r\n              \"Time 3\": 6,\r\n              \"Value #A\": 3,\r\n              \"Value #C\": 5,\r\n              \"Value #D\": 1,\r\n              \"namespace\": 0\r\n            },\r\n            \"renameByName\": {\r\n              \"Time 1\": \"\",\r\n              \"Time 2\": \"\",\r\n              \"Value #A\": \"Pod\",\r\n              \"Value #B\": \"配置\",\r\n              \"Value #C\": \"SVC\",\r\n              \"Value #D\": \"微服务\",\r\n              \"Value #E\": \"密码\",\r\n              \"namespace\": \"空间\"\r\n            }\r\n          }\r\n        }\r\n      ],\r\n      \"type\": \"table\"\r\n    },\r\n    {\r\n      \"datasource\": {\r\n        \"type\": \"prometheus\",\r\n        \"uid\": \"KubeDoor-Prometheus\"\r\n      },\r\n      \"fieldConfig\": {\r\n        \"defaults\": {\r\n          \"color\": {\r\n            \"mode\": \"palette-classic\"\r\n          },\r\n          \"custom\": {\r\n            \"axisBorderShow\": false,\r\n            \"axisCenteredZero\": false,\r\n            \"axisColorMode\": \"series\",\r\n            \"axisLabel\": \"\",\r\n            \"axisPlacement\": \"auto\",\r\n            \"barAlignment\": 0,\r\n            \"barWidthFactor\": 0.6,\r\n            \"drawStyle\": \"line\",\r\n            \"fillOpacity\": 30,\r\n            \"gradientMode\": \"opacity\",\r\n            \"hideFrom\": {\r\n              \"legend\": false,\r\n              \"tooltip\": false,\r\n              \"viz\": false\r\n            },\r\n            \"insertNulls\": false,\r\n            \"lineInterpolation\": \"linear\",\r\n            \"lineStyle\": {\r\n              \"fill\": \"solid\"\r\n            },\r\n            \"lineWidth\": 2,\r\n            \"pointSize\": 4,\r\n            \"scaleDistribution\": {\r\n              \"type\": \"linear\"\r\n            },\r\n            \"showPoints\": \"never\",\r\n            \"spanNulls\": false,\r\n            \"stacking\": {\r\n              \"group\": \"A\",\r\n              \"mode\": \"none\"\r\n            },\r\n            \"thresholdsStyle\": {\r\n              \"mode\": \"off\"\r\n            }\r\n          },\r\n          \"links\": [],\r\n          \"mappings\": [],\r\n          \"thresholds\": {\r\n            \"mode\": \"absolute\",\r\n            \"steps\": [\r\n              {\r\n                \"color\": \"green\",\r\n                \"value\": null\r\n              },\r\n              {\r\n                \"color\": \"red\",\r\n                \"value\": 80\r\n              }\r\n            ]\r\n          },\r\n          \"unit\": \"binbps\"\r\n        },\r\n        \"overrides\": []\r\n      },\r\n      \"gridPos\": {\r\n        \"h\": 8,\r\n        \"w\": 8,\r\n        \"x\": 16,\r\n        \"y\": 1\r\n      },\r\n      \"id\": 32,\r\n      \"options\": {\r\n        \"legend\": {\r\n          \"calcs\": [\r\n            \"max\"\r\n          ],\r\n          \"displayMode\": \"list\",\r\n          \"placement\": \"bottom\",\r\n          \"showLegend\": true,\r\n          \"width\": 200\r\n        },\r\n        \"tooltip\": {\r\n          \"maxHeight\": 600,\r\n          \"mode\": \"multi\",\r\n          \"sort\": \"desc\"\r\n        }\r\n      },\r\n      \"pluginVersion\": \"11.4.0\",\r\n      \"targets\": [\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": true,\r\n          \"expr\": \"sum (irate(container_network_receive_bytes_total{$ext_key=~\\\"$ext_value\\\",node=~\\\"^$node$\\\",namespace=~\\\"$namespace\\\"}[2m]))*8\",\r\n          \"format\": \"time_series\",\r\n          \"interval\": \"\",\r\n          \"intervalFactor\": 1,\r\n          \"legendFormat\": \"接收\",\r\n          \"metric\": \"network\",\r\n          \"range\": true,\r\n          \"refId\": \"A\",\r\n          \"step\": 10\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": true,\r\n          \"expr\": \"sum (irate(container_network_transmit_bytes_total{$ext_key=~\\\"$ext_value\\\",node=~\\\"^$node$\\\",namespace=~\\\"$namespace\\\"}[2m]))*8\",\r\n          \"instant\": false,\r\n          \"interval\": \"\",\r\n          \"intervalFactor\": 1,\r\n          \"legendFormat\": \"发送\",\r\n          \"metric\": \"network\",\r\n          \"refId\": \"B\",\r\n          \"step\": 10\r\n        }\r\n      ],\r\n      \"title\": \"$namespace：网络总览（可关联节点与命名空间）\",\r\n      \"type\": \"timeseries\"\r\n    },\r\n    {\r\n      \"datasource\": {\r\n        \"type\": \"prometheus\",\r\n        \"uid\": \"KubeDoor-Prometheus\"\r\n      },\r\n      \"fieldConfig\": {\r\n        \"defaults\": {\r\n          \"decimals\": 1,\r\n          \"mappings\": [],\r\n          \"max\": 2000000000000,\r\n          \"min\": 1,\r\n          \"thresholds\": {\r\n            \"mode\": \"absolute\",\r\n            \"steps\": [\r\n              {\r\n                \"color\": \"green\",\r\n                \"value\": null\r\n              },\r\n              {\r\n                \"color\": \"orange\",\r\n                \"value\": 100000000000\r\n              },\r\n              {\r\n                \"color\": \"red\",\r\n                \"value\": 2000000000000\r\n              }\r\n            ]\r\n          },\r\n          \"unit\": \"bytes\"\r\n        },\r\n        \"overrides\": []\r\n      },\r\n      \"gridPos\": {\r\n        \"h\": 4,\r\n        \"w\": 4,\r\n        \"x\": 0,\r\n        \"y\": 5\r\n      },\r\n      \"id\": 71,\r\n      \"options\": {\r\n        \"displayMode\": \"basic\",\r\n        \"legend\": {\r\n          \"calcs\": [],\r\n          \"displayMode\": \"list\",\r\n          \"placement\": \"bottom\",\r\n          \"showLegend\": false\r\n        },\r\n        \"maxVizHeight\": 300,\r\n        \"minVizHeight\": 10,\r\n        \"minVizWidth\": 0,\r\n        \"namePlacement\": \"auto\",\r\n        \"orientation\": \"vertical\",\r\n        \"reduceOptions\": {\r\n          \"calcs\": [\r\n            \"last\"\r\n          ],\r\n          \"fields\": \"\",\r\n          \"values\": false\r\n        },\r\n        \"showUnfilled\": false,\r\n        \"sizing\": \"auto\",\r\n        \"text\": {},\r\n        \"valueMode\": \"color\"\r\n      },\r\n      \"pluginVersion\": \"11.4.0\",\r\n      \"targets\": [\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"exemplar\": true,\r\n          \"expr\": \"sum(kube_node_status_allocatable{$ext_key=~\\\"$ext_value\\\",resource=\\\"memory\\\", unit=\\\"byte\\\", node=~\\\"^$node$\\\"})\",\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"总内存\",\r\n          \"refId\": \"A\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"exemplar\": true,\r\n          \"expr\": \"sum (container_memory_working_set_bytes{$ext_key=~\\\"$ext_value\\\",container!=\\\"\\\",node=~\\\"^$node$\\\"})\",\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"使用量\",\r\n          \"refId\": \"C\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"exemplar\": true,\r\n          \"expr\": \"sum(kube_pod_container_resource_requests{$ext_key=~\\\"$ext_value\\\",resource=\\\"memory\\\", unit=\\\"byte\\\",node=~\\\"^$node$\\\"})\",\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"请求量\",\r\n          \"refId\": \"D\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"exemplar\": true,\r\n          \"expr\": \"sum(kube_pod_container_resource_limits{$ext_key=~\\\"$ext_value\\\",resource=\\\"memory\\\", unit=\\\"byte\\\",node=~\\\"^$node$\\\"})\",\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"限制量\",\r\n          \"refId\": \"B\"\r\n        }\r\n      ],\r\n      \"title\": \"节点内存信息\",\r\n      \"type\": \"bargauge\"\r\n    },\r\n    {\r\n      \"datasource\": {\r\n        \"type\": \"prometheus\",\r\n        \"uid\": \"KubeDoor-Prometheus\"\r\n      },\r\n      \"fieldConfig\": {\r\n        \"defaults\": {\r\n          \"decimals\": 1,\r\n          \"mappings\": [],\r\n          \"max\": 500,\r\n          \"min\": 1,\r\n          \"thresholds\": {\r\n            \"mode\": \"absolute\",\r\n            \"steps\": [\r\n              {\r\n                \"color\": \"green\",\r\n                \"value\": null\r\n              },\r\n              {\r\n                \"color\": \"#EAB839\",\r\n                \"value\": 500\r\n              },\r\n              {\r\n                \"color\": \"red\",\r\n                \"value\": 1000\r\n              }\r\n            ]\r\n          },\r\n          \"unit\": \"none\"\r\n        },\r\n        \"overrides\": []\r\n      },\r\n      \"gridPos\": {\r\n        \"h\": 4,\r\n        \"w\": 4,\r\n        \"x\": 4,\r\n        \"y\": 5\r\n      },\r\n      \"id\": 72,\r\n      \"options\": {\r\n        \"displayMode\": \"basic\",\r\n        \"legend\": {\r\n          \"calcs\": [],\r\n          \"displayMode\": \"list\",\r\n          \"placement\": \"bottom\",\r\n          \"showLegend\": false\r\n        },\r\n        \"maxVizHeight\": 300,\r\n        \"minVizHeight\": 10,\r\n        \"minVizWidth\": 0,\r\n        \"namePlacement\": \"auto\",\r\n        \"orientation\": \"vertical\",\r\n        \"reduceOptions\": {\r\n          \"calcs\": [\r\n            \"last\"\r\n          ],\r\n          \"fields\": \"\",\r\n          \"values\": false\r\n        },\r\n        \"showUnfilled\": false,\r\n        \"sizing\": \"auto\",\r\n        \"text\": {},\r\n        \"valueMode\": \"color\"\r\n      },\r\n      \"pluginVersion\": \"11.4.0\",\r\n      \"targets\": [\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"exemplar\": true,\r\n          \"expr\": \"sum(kube_node_status_allocatable{$ext_key=~\\\"$ext_value\\\",resource=\\\"cpu\\\", unit=\\\"core\\\", node=~\\\"^$node$\\\"})\",\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"总核数\",\r\n          \"refId\": \"A\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"exemplar\": true,\r\n          \"expr\": \"sum (irate(container_cpu_usage_seconds_total{$ext_key=~\\\"$ext_value\\\",id=\\\"/\\\",node=~\\\"^$node$\\\"}[2m]))\",\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"使用量\",\r\n          \"refId\": \"C\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"exemplar\": true,\r\n          \"expr\": \"sum(kube_pod_container_resource_requests{$ext_key=~\\\"$ext_value\\\",resource=\\\"cpu\\\", unit=\\\"core\\\",node=~\\\"^$node$\\\"})\",\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"请求量\",\r\n          \"refId\": \"D\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"exemplar\": true,\r\n          \"expr\": \"sum(kube_pod_container_resource_limits{$ext_key=~\\\"$ext_value\\\",resource=\\\"cpu\\\", unit=\\\"core\\\",node=~\\\"^$node$\\\"})\",\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"限制量\",\r\n          \"refId\": \"B\"\r\n        }\r\n      ],\r\n      \"title\": \"节点CPU核数\",\r\n      \"type\": \"bargauge\"\r\n    },\r\n    {\r\n      \"datasource\": {\r\n        \"type\": \"prometheus\",\r\n        \"uid\": \"KubeDoor-Prometheus\"\r\n      },\r\n      \"fieldConfig\": {\r\n        \"defaults\": {\r\n          \"decimals\": 1,\r\n          \"mappings\": [],\r\n          \"max\": 5000000000000,\r\n          \"min\": 1,\r\n          \"thresholds\": {\r\n            \"mode\": \"absolute\",\r\n            \"steps\": [\r\n              {\r\n                \"color\": \"green\",\r\n                \"value\": null\r\n              },\r\n              {\r\n                \"color\": \"#EAB839\",\r\n                \"value\": 3000000000000\r\n              },\r\n              {\r\n                \"color\": \"red\",\r\n                \"value\": 5000000000000\r\n              }\r\n            ]\r\n          },\r\n          \"unit\": \"bytes\"\r\n        },\r\n        \"overrides\": [\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"使用率\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"unit\",\r\n                \"value\": \"percentunit\"\r\n              },\r\n              {\r\n                \"id\": \"max\"\r\n              },\r\n              {\r\n                \"id\": \"min\",\r\n                \"value\": 0\r\n              },\r\n              {\r\n                \"id\": \"thresholds\",\r\n                \"value\": {\r\n                  \"mode\": \"percentage\",\r\n                  \"steps\": [\r\n                    {\r\n                      \"color\": \"green\",\r\n                      \"value\": null\r\n                    },\r\n                    {\r\n                      \"color\": \"orange\",\r\n                      \"value\": 80\r\n                    },\r\n                    {\r\n                      \"color\": \"red\",\r\n                      \"value\": 90\r\n                    }\r\n                  ]\r\n                }\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"总量\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"decimals\",\r\n                \"value\": 0\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      },\r\n      \"gridPos\": {\r\n        \"h\": 4,\r\n        \"w\": 3,\r\n        \"x\": 8,\r\n        \"y\": 5\r\n      },\r\n      \"id\": 73,\r\n      \"options\": {\r\n        \"displayMode\": \"basic\",\r\n        \"legend\": {\r\n          \"calcs\": [],\r\n          \"displayMode\": \"list\",\r\n          \"placement\": \"bottom\",\r\n          \"showLegend\": false\r\n        },\r\n        \"maxVizHeight\": 300,\r\n        \"minVizHeight\": 10,\r\n        \"minVizWidth\": 0,\r\n        \"namePlacement\": \"auto\",\r\n        \"orientation\": \"vertical\",\r\n        \"reduceOptions\": {\r\n          \"calcs\": [\r\n            \"last\"\r\n          ],\r\n          \"fields\": \"\",\r\n          \"values\": false\r\n        },\r\n        \"showUnfilled\": false,\r\n        \"sizing\": \"auto\",\r\n        \"text\": {},\r\n        \"valueMode\": \"color\"\r\n      },\r\n      \"pluginVersion\": \"11.4.0\",\r\n      \"targets\": [\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"expr\": \"sum (container_fs_usage_bytes{$ext_key=~\\\"$ext_value\\\",device=~\\\"^/dev/.*$\\\",id=\\\"/\\\",node=~\\\"^$node$\\\"}) / sum (container_fs_limit_bytes{$ext_key=~\\\"$ext_value\\\",device=~\\\"^/dev/.*$\\\",id=\\\"/\\\",node=~\\\"^$node$\\\"})\",\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"使用率\",\r\n          \"refId\": \"C\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"expr\": \"sum (container_fs_usage_bytes{$ext_key=~\\\"$ext_value\\\",device=~\\\"^/dev/.*$\\\",id=\\\"/\\\",node=~\\\"^$node$\\\"})\",\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"使用量\",\r\n          \"refId\": \"A\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"expr\": \"sum (container_fs_limit_bytes{$ext_key=~\\\"$ext_value\\\",device=~\\\"^/dev/.*$\\\",id=\\\"/\\\",node=~\\\"^$node$\\\"})\",\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"总量\",\r\n          \"refId\": \"B\"\r\n        }\r\n      ],\r\n      \"title\": \"节点存储信息\",\r\n      \"type\": \"bargauge\"\r\n    },\r\n    {\r\n      \"datasource\": {\r\n        \"type\": \"prometheus\",\r\n        \"uid\": \"KubeDoor-Prometheus\"\r\n      },\r\n      \"fieldConfig\": {\r\n        \"defaults\": {\r\n          \"color\": {\r\n            \"mode\": \"palette-classic\"\r\n          },\r\n          \"mappings\": [],\r\n          \"thresholds\": {\r\n            \"mode\": \"absolute\",\r\n            \"steps\": [\r\n              {\r\n                \"color\": \"green\",\r\n                \"value\": null\r\n              },\r\n              {\r\n                \"color\": \"red\",\r\n                \"value\": 80\r\n              }\r\n            ]\r\n          }\r\n        },\r\n        \"overrides\": [\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byRegexp\",\r\n              \"options\": \"/异常.*/\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"red\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      },\r\n      \"gridPos\": {\r\n        \"h\": 2,\r\n        \"w\": 24,\r\n        \"x\": 0,\r\n        \"y\": 9\r\n      },\r\n      \"id\": 88,\r\n      \"maxPerRow\": 2,\r\n      \"options\": {\r\n        \"colorMode\": \"background\",\r\n        \"graphMode\": \"none\",\r\n        \"justifyMode\": \"center\",\r\n        \"orientation\": \"auto\",\r\n        \"reduceOptions\": {\r\n          \"calcs\": [\r\n            \"last\"\r\n          ],\r\n          \"fields\": \"\",\r\n          \"values\": false\r\n        },\r\n        \"showPercentChange\": false,\r\n        \"text\": {},\r\n        \"textMode\": \"auto\",\r\n        \"wideLayout\": true\r\n      },\r\n      \"pluginVersion\": \"11.0.0\",\r\n      \"repeat\": \"origin_prometheus\",\r\n      \"repeatDirection\": \"v\",\r\n      \"targets\": [\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": false,\r\n          \"expr\": \"count({__name__=~\\\"kube_deployment_metadata_generation|kube_daemonset_metadata_generation|kube_statefulset_metadata_generation\\\",$ext_key=~\\\"$ext_value\\\"})\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"legendFormat\": \"工作负载\",\r\n          \"range\": false,\r\n          \"refId\": \"F\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": false,\r\n          \"expr\": \"count(kube_pod_info{$ext_key=~\\\"$ext_value\\\"})\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"legendFormat\": \"总Pod\",\r\n          \"range\": false,\r\n          \"refId\": \"E\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": false,\r\n          \"expr\": \"count by(key,origin_prometheus)(kube_node_spec_taint{$ext_key=~\\\"$ext_value\\\",key=~\\\"node.kubernetes.io.*\\\"})\",\r\n          \"format\": \"time_series\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"legendFormat\": \"{{key}}\",\r\n          \"range\": false,\r\n          \"refId\": \"D\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": false,\r\n          \"expr\": \"count by(origin_prometheus)(kube_node_info{$ext_key=~\\\"$ext_value\\\"})\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"legendFormat\": \"总节点\",\r\n          \"range\": false,\r\n          \"refId\": \"C\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": false,\r\n          \"expr\": \"count by(origin_prometheus)(kube_node_info{$ext_key=~\\\"$ext_value\\\"}) - count by(origin_prometheus)(kube_node_spec_taint{$ext_key=~\\\"$ext_value\\\",key!~\\\"node.kubernetes.io.*\\\"})\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"legendFormat\": \"正常节点\",\r\n          \"range\": false,\r\n          \"refId\": \"B\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": false,\r\n          \"expr\": \"count by(key,origin_prometheus)(kube_node_spec_taint{$ext_key=~\\\"$ext_value\\\",key!~\\\"node.kubernetes.io.*\\\"})\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"legendFormat\": \"{{key}}\",\r\n          \"range\": false,\r\n          \"refId\": \"A\"\r\n        }\r\n      ],\r\n      \"title\": \"\",\r\n      \"transformations\": [\r\n        {\r\n          \"id\": \"renameByRegex\",\r\n          \"options\": {\r\n            \"regex\": \"(node.kubernetes.io/)(.*)\",\r\n            \"renamePattern\": \"异常:$2\"\r\n          }\r\n        }\r\n      ],\r\n      \"type\": \"stat\"\r\n    },\r\n    {\r\n      \"datasource\": {\r\n        \"type\": \"prometheus\",\r\n        \"uid\": \"KubeDoor-Prometheus\"\r\n      },\r\n      \"fieldConfig\": {\r\n        \"defaults\": {\r\n          \"color\": {\r\n            \"mode\": \"palette-classic\"\r\n          },\r\n          \"custom\": {\r\n            \"axisBorderShow\": false,\r\n            \"axisCenteredZero\": false,\r\n            \"axisColorMode\": \"text\",\r\n            \"axisLabel\": \"\",\r\n            \"axisPlacement\": \"auto\",\r\n            \"barAlignment\": 0,\r\n            \"barWidthFactor\": 0.6,\r\n            \"drawStyle\": \"line\",\r\n            \"fillOpacity\": 15,\r\n            \"gradientMode\": \"opacity\",\r\n            \"hideFrom\": {\r\n              \"legend\": false,\r\n              \"tooltip\": false,\r\n              \"viz\": false\r\n            },\r\n            \"insertNulls\": false,\r\n            \"lineInterpolation\": \"linear\",\r\n            \"lineWidth\": 1,\r\n            \"pointSize\": 5,\r\n            \"scaleDistribution\": {\r\n              \"type\": \"linear\"\r\n            },\r\n            \"showPoints\": \"never\",\r\n            \"spanNulls\": false,\r\n            \"stacking\": {\r\n              \"group\": \"A\",\r\n              \"mode\": \"none\"\r\n            },\r\n            \"thresholdsStyle\": {\r\n              \"mode\": \"off\"\r\n            }\r\n          },\r\n          \"mappings\": [],\r\n          \"thresholds\": {\r\n            \"mode\": \"absolute\",\r\n            \"steps\": [\r\n              {\r\n                \"color\": \"green\",\r\n                \"value\": null\r\n              },\r\n              {\r\n                \"color\": \"red\",\r\n                \"value\": 80\r\n              }\r\n            ]\r\n          },\r\n          \"unit\": \"bytes\"\r\n        },\r\n        \"overrides\": [\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"总内存\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"red\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"custom.lineWidth\",\r\n                \"value\": 2\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      },\r\n      \"gridPos\": {\r\n        \"h\": 5,\r\n        \"w\": 8,\r\n        \"x\": 0,\r\n        \"y\": 11\r\n      },\r\n      \"id\": 79,\r\n      \"options\": {\r\n        \"legend\": {\r\n          \"calcs\": [],\r\n          \"displayMode\": \"list\",\r\n          \"placement\": \"bottom\",\r\n          \"showLegend\": false\r\n        },\r\n        \"tooltip\": {\r\n          \"maxHeight\": 600,\r\n          \"mode\": \"multi\",\r\n          \"sort\": \"desc\"\r\n        }\r\n      },\r\n      \"pluginVersion\": \"11.4.0\",\r\n      \"targets\": [\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": true,\r\n          \"expr\": \"sum(kube_node_status_allocatable{$ext_key=~\\\"$ext_value\\\",resource=\\\"memory\\\", unit=\\\"byte\\\", node=~\\\"^$node$\\\"})\",\r\n          \"instant\": false,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"总内存\",\r\n          \"refId\": \"A\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"exemplar\": true,\r\n          \"expr\": \"sum (container_memory_working_set_bytes{$ext_key=~\\\"$ext_value\\\",container!=\\\"\\\",node=~\\\"^$node$\\\"})\",\r\n          \"instant\": false,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"使用量\",\r\n          \"refId\": \"C\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"exemplar\": true,\r\n          \"expr\": \"sum(kube_pod_container_resource_requests{$ext_key=~\\\"$ext_value\\\",resource=\\\"memory\\\", unit=\\\"byte\\\",node=~\\\"^$node$\\\"})\",\r\n          \"hide\": true,\r\n          \"instant\": false,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"请求量\",\r\n          \"refId\": \"D\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"exemplar\": true,\r\n          \"expr\": \"sum(kube_pod_container_resource_limits{$ext_key=~\\\"$ext_value\\\",resource=\\\"memory\\\", unit=\\\"byte\\\",node=~\\\"^$node$\\\"})\",\r\n          \"hide\": true,\r\n          \"instant\": false,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"限制量\",\r\n          \"refId\": \"B\"\r\n        }\r\n      ],\r\n      \"title\": \"内存使用量【$node】\",\r\n      \"type\": \"timeseries\"\r\n    },\r\n    {\r\n      \"datasource\": {\r\n        \"type\": \"prometheus\",\r\n        \"uid\": \"KubeDoor-Prometheus\"\r\n      },\r\n      \"fieldConfig\": {\r\n        \"defaults\": {\r\n          \"color\": {\r\n            \"mode\": \"palette-classic\"\r\n          },\r\n          \"custom\": {\r\n            \"axisBorderShow\": false,\r\n            \"axisCenteredZero\": false,\r\n            \"axisColorMode\": \"text\",\r\n            \"axisLabel\": \"\",\r\n            \"axisPlacement\": \"auto\",\r\n            \"barAlignment\": 0,\r\n            \"barWidthFactor\": 0.6,\r\n            \"drawStyle\": \"line\",\r\n            \"fillOpacity\": 15,\r\n            \"gradientMode\": \"opacity\",\r\n            \"hideFrom\": {\r\n              \"legend\": false,\r\n              \"tooltip\": false,\r\n              \"viz\": false\r\n            },\r\n            \"insertNulls\": false,\r\n            \"lineInterpolation\": \"linear\",\r\n            \"lineWidth\": 1,\r\n            \"pointSize\": 5,\r\n            \"scaleDistribution\": {\r\n              \"type\": \"linear\"\r\n            },\r\n            \"showPoints\": \"never\",\r\n            \"spanNulls\": false,\r\n            \"stacking\": {\r\n              \"group\": \"A\",\r\n              \"mode\": \"none\"\r\n            },\r\n            \"thresholdsStyle\": {\r\n              \"mode\": \"off\"\r\n            }\r\n          },\r\n          \"mappings\": [],\r\n          \"thresholds\": {\r\n            \"mode\": \"absolute\",\r\n            \"steps\": [\r\n              {\r\n                \"color\": \"green\",\r\n                \"value\": null\r\n              },\r\n              {\r\n                \"color\": \"red\",\r\n                \"value\": 80\r\n              }\r\n            ]\r\n          },\r\n          \"unit\": \"none\"\r\n        },\r\n        \"overrides\": [\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"总核数\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"red\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"custom.lineWidth\",\r\n                \"value\": 2\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      },\r\n      \"gridPos\": {\r\n        \"h\": 5,\r\n        \"w\": 8,\r\n        \"x\": 8,\r\n        \"y\": 11\r\n      },\r\n      \"id\": 80,\r\n      \"options\": {\r\n        \"legend\": {\r\n          \"calcs\": [],\r\n          \"displayMode\": \"list\",\r\n          \"placement\": \"bottom\",\r\n          \"showLegend\": false\r\n        },\r\n        \"tooltip\": {\r\n          \"maxHeight\": 600,\r\n          \"mode\": \"multi\",\r\n          \"sort\": \"desc\"\r\n        }\r\n      },\r\n      \"pluginVersion\": \"11.4.0\",\r\n      \"targets\": [\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": true,\r\n          \"expr\": \"sum(kube_node_status_allocatable{$ext_key=~\\\"$ext_value\\\",resource=\\\"cpu\\\", unit=\\\"core\\\", node=~\\\"^$node$\\\"})\",\r\n          \"instant\": false,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"总核数\",\r\n          \"refId\": \"A\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"exemplar\": true,\r\n          \"expr\": \"sum (irate(container_cpu_usage_seconds_total{$ext_key=~\\\"$ext_value\\\",id=\\\"/\\\",node=~\\\"^$node$\\\"}[2m]))\",\r\n          \"instant\": false,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"使用量\",\r\n          \"refId\": \"C\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"exemplar\": true,\r\n          \"expr\": \"sum(kube_pod_container_resource_requests{$ext_key=~\\\"$ext_value\\\",resource=\\\"cpu\\\", unit=\\\"core\\\",node=~\\\"^$node$\\\"})\",\r\n          \"hide\": true,\r\n          \"instant\": false,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"请求量\",\r\n          \"refId\": \"D\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"exemplar\": true,\r\n          \"expr\": \"sum(kube_pod_container_resource_limits{$ext_key=~\\\"$ext_value\\\",resource=\\\"cpu\\\", unit=\\\"core\\\",node=~\\\"^$node$\\\"})\",\r\n          \"hide\": true,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"限制量\",\r\n          \"refId\": \"B\"\r\n        }\r\n      ],\r\n      \"title\": \"CPU使用核【$node】\",\r\n      \"type\": \"timeseries\"\r\n    },\r\n    {\r\n      \"datasource\": {\r\n        \"type\": \"prometheus\",\r\n        \"uid\": \"KubeDoor-Prometheus\"\r\n      },\r\n      \"description\": \"集群节点数，节点POD数，节点POD上限\",\r\n      \"fieldConfig\": {\r\n        \"defaults\": {\r\n          \"color\": {\r\n            \"mode\": \"palette-classic\"\r\n          },\r\n          \"custom\": {\r\n            \"axisBorderShow\": false,\r\n            \"axisCenteredZero\": false,\r\n            \"axisColorMode\": \"series\",\r\n            \"axisLabel\": \"\",\r\n            \"axisPlacement\": \"auto\",\r\n            \"barAlignment\": 0,\r\n            \"barWidthFactor\": 0.6,\r\n            \"drawStyle\": \"line\",\r\n            \"fillOpacity\": 15,\r\n            \"gradientMode\": \"opacity\",\r\n            \"hideFrom\": {\r\n              \"legend\": false,\r\n              \"tooltip\": false,\r\n              \"viz\": false\r\n            },\r\n            \"insertNulls\": false,\r\n            \"lineInterpolation\": \"linear\",\r\n            \"lineWidth\": 1,\r\n            \"pointSize\": 5,\r\n            \"scaleDistribution\": {\r\n              \"type\": \"linear\"\r\n            },\r\n            \"showPoints\": \"never\",\r\n            \"spanNulls\": false,\r\n            \"stacking\": {\r\n              \"group\": \"A\",\r\n              \"mode\": \"none\"\r\n            },\r\n            \"thresholdsStyle\": {\r\n              \"mode\": \"off\"\r\n            }\r\n          },\r\n          \"mappings\": [],\r\n          \"thresholds\": {\r\n            \"mode\": \"absolute\",\r\n            \"steps\": [\r\n              {\r\n                \"color\": \"green\",\r\n                \"value\": null\r\n              },\r\n              {\r\n                \"color\": \"red\",\r\n                \"value\": 80\r\n              }\r\n            ]\r\n          },\r\n          \"unit\": \"none\"\r\n        },\r\n        \"overrides\": [\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"上限Pod\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"red\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"custom.lineWidth\",\r\n                \"value\": 2\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"节点数\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.axisPlacement\",\r\n                \"value\": \"right\"\r\n              },\r\n              {\r\n                \"id\": \"custom.drawStyle\",\r\n                \"value\": \"points\"\r\n              },\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"blue\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"custom.pointSize\",\r\n                \"value\": 3\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      },\r\n      \"gridPos\": {\r\n        \"h\": 5,\r\n        \"w\": 8,\r\n        \"x\": 16,\r\n        \"y\": 11\r\n      },\r\n      \"id\": 81,\r\n      \"options\": {\r\n        \"legend\": {\r\n          \"calcs\": [],\r\n          \"displayMode\": \"list\",\r\n          \"placement\": \"bottom\",\r\n          \"showLegend\": true\r\n        },\r\n        \"tooltip\": {\r\n          \"maxHeight\": 600,\r\n          \"mode\": \"multi\",\r\n          \"sort\": \"desc\"\r\n        }\r\n      },\r\n      \"pluginVersion\": \"11.4.0\",\r\n      \"targets\": [\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"exemplar\": true,\r\n          \"expr\": \"count(kube_node_info{$ext_key=~\\\"$ext_value\\\"})\",\r\n          \"hide\": false,\r\n          \"instant\": false,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"节点数\",\r\n          \"refId\": \"A\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": true,\r\n          \"expr\": \"count(kube_pod_info{$ext_key=~\\\"$ext_value\\\",created_by_kind!~\\\"<none>|Job\\\",node=~\\\"^$node$\\\"})\",\r\n          \"hide\": false,\r\n          \"instant\": false,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"Pod数\",\r\n          \"refId\": \"B\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"exemplar\": true,\r\n          \"expr\": \"sum(kube_node_status_allocatable{$ext_key=~\\\"$ext_value\\\",resource=\\\"pods\\\", unit=\\\"integer\\\",node=~\\\"^$node$\\\"})\",\r\n          \"hide\": false,\r\n          \"instant\": false,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"上限Pod\",\r\n          \"refId\": \"C\"\r\n        }\r\n      ],\r\n      \"title\": \"Pod数与节点数【$node】\",\r\n      \"type\": \"timeseries\"\r\n    },\r\n    {\r\n      \"datasource\": {\r\n        \"type\": \"prometheus\",\r\n        \"uid\": \"KubeDoor-Prometheus\"\r\n      },\r\n      \"fieldConfig\": {\r\n        \"defaults\": {\r\n          \"color\": {\r\n            \"mode\": \"palette-classic\"\r\n          },\r\n          \"custom\": {\r\n            \"axisBorderShow\": false,\r\n            \"axisCenteredZero\": false,\r\n            \"axisColorMode\": \"text\",\r\n            \"axisLabel\": \"\",\r\n            \"axisPlacement\": \"auto\",\r\n            \"barAlignment\": 0,\r\n            \"barWidthFactor\": 0.6,\r\n            \"drawStyle\": \"line\",\r\n            \"fillOpacity\": 0,\r\n            \"gradientMode\": \"none\",\r\n            \"hideFrom\": {\r\n              \"legend\": false,\r\n              \"tooltip\": false,\r\n              \"viz\": false\r\n            },\r\n            \"insertNulls\": false,\r\n            \"lineInterpolation\": \"linear\",\r\n            \"lineWidth\": 1,\r\n            \"pointSize\": 5,\r\n            \"scaleDistribution\": {\r\n              \"type\": \"linear\"\r\n            },\r\n            \"showPoints\": \"never\",\r\n            \"spanNulls\": false,\r\n            \"stacking\": {\r\n              \"group\": \"A\",\r\n              \"mode\": \"none\"\r\n            },\r\n            \"thresholdsStyle\": {\r\n              \"mode\": \"off\"\r\n            }\r\n          },\r\n          \"mappings\": [],\r\n          \"thresholds\": {\r\n            \"mode\": \"absolute\",\r\n            \"steps\": [\r\n              {\r\n                \"color\": \"green\",\r\n                \"value\": null\r\n              },\r\n              {\r\n                \"color\": \"red\",\r\n                \"value\": 80\r\n              }\r\n            ]\r\n          },\r\n          \"unit\": \"percent\"\r\n        },\r\n        \"overrides\": [\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byRegexp\",\r\n              \"options\": \"/总核数.*/\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"#C4162A\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      },\r\n      \"gridPos\": {\r\n        \"h\": 6,\r\n        \"w\": 8,\r\n        \"x\": 0,\r\n        \"y\": 16\r\n      },\r\n      \"id\": 75,\r\n      \"options\": {\r\n        \"legend\": {\r\n          \"calcs\": [\r\n            \"mean\",\r\n            \"lastNotNull\",\r\n            \"max\"\r\n          ],\r\n          \"displayMode\": \"table\",\r\n          \"placement\": \"bottom\",\r\n          \"showLegend\": false\r\n        },\r\n        \"tooltip\": {\r\n          \"maxHeight\": 600,\r\n          \"mode\": \"multi\",\r\n          \"sort\": \"desc\"\r\n        }\r\n      },\r\n      \"pluginVersion\": \"11.4.0\",\r\n      \"targets\": [\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": true,\r\n          \"expr\": \"sum (irate(container_cpu_usage_seconds_total{$ext_key=~\\\"$ext_value\\\",container!=\\\"\\\",node=~\\\"^$node$\\\"}[2m]))by (node) / sum(kube_node_status_allocatable{$ext_key=~\\\"$ext_value\\\",resource=\\\"cpu\\\", unit=\\\"core\\\", node=~\\\"^$node$\\\"})by (node)*100\",\r\n          \"format\": \"time_series\",\r\n          \"hide\": false,\r\n          \"instant\": false,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"{{node}}\",\r\n          \"refId\": \"I\"\r\n        }\r\n      ],\r\n      \"title\": \"$node：节点CPU明细\",\r\n      \"type\": \"timeseries\"\r\n    },\r\n    {\r\n      \"datasource\": {\r\n        \"type\": \"prometheus\",\r\n        \"uid\": \"KubeDoor-Prometheus\"\r\n      },\r\n      \"fieldConfig\": {\r\n        \"defaults\": {\r\n          \"color\": {\r\n            \"mode\": \"palette-classic\"\r\n          },\r\n          \"custom\": {\r\n            \"axisBorderShow\": false,\r\n            \"axisCenteredZero\": false,\r\n            \"axisColorMode\": \"text\",\r\n            \"axisLabel\": \"\",\r\n            \"axisPlacement\": \"auto\",\r\n            \"barAlignment\": 0,\r\n            \"barWidthFactor\": 0.6,\r\n            \"drawStyle\": \"line\",\r\n            \"fillOpacity\": 0,\r\n            \"gradientMode\": \"none\",\r\n            \"hideFrom\": {\r\n              \"legend\": false,\r\n              \"tooltip\": false,\r\n              \"viz\": false\r\n            },\r\n            \"insertNulls\": false,\r\n            \"lineInterpolation\": \"linear\",\r\n            \"lineWidth\": 1,\r\n            \"pointSize\": 5,\r\n            \"scaleDistribution\": {\r\n              \"type\": \"linear\"\r\n            },\r\n            \"showPoints\": \"never\",\r\n            \"spanNulls\": false,\r\n            \"stacking\": {\r\n              \"group\": \"A\",\r\n              \"mode\": \"none\"\r\n            },\r\n            \"thresholdsStyle\": {\r\n              \"mode\": \"off\"\r\n            }\r\n          },\r\n          \"mappings\": [],\r\n          \"thresholds\": {\r\n            \"mode\": \"absolute\",\r\n            \"steps\": [\r\n              {\r\n                \"color\": \"green\",\r\n                \"value\": null\r\n              },\r\n              {\r\n                \"color\": \"red\",\r\n                \"value\": 80\r\n              }\r\n            ]\r\n          },\r\n          \"unit\": \"percent\"\r\n        },\r\n        \"overrides\": []\r\n      },\r\n      \"gridPos\": {\r\n        \"h\": 6,\r\n        \"w\": 8,\r\n        \"x\": 8,\r\n        \"y\": 16\r\n      },\r\n      \"id\": 76,\r\n      \"options\": {\r\n        \"legend\": {\r\n          \"calcs\": [\r\n            \"mean\",\r\n            \"lastNotNull\",\r\n            \"max\"\r\n          ],\r\n          \"displayMode\": \"table\",\r\n          \"placement\": \"bottom\",\r\n          \"showLegend\": false\r\n        },\r\n        \"tooltip\": {\r\n          \"maxHeight\": 600,\r\n          \"mode\": \"multi\",\r\n          \"sort\": \"desc\"\r\n        }\r\n      },\r\n      \"pluginVersion\": \"11.4.0\",\r\n      \"targets\": [\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"exemplar\": true,\r\n          \"expr\": \"sum (container_memory_working_set_bytes{$ext_key=~\\\"$ext_value\\\",container!=\\\"\\\",node=~\\\"^$node$\\\"})by (node) / sum(kube_node_status_allocatable{$ext_key=~\\\"$ext_value\\\",resource=\\\"memory\\\", unit=\\\"byte\\\", node=~\\\"^$node$\\\"})by (node)*100\",\r\n          \"format\": \"time_series\",\r\n          \"hide\": false,\r\n          \"instant\": false,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"{{node}}\",\r\n          \"refId\": \"I\"\r\n        }\r\n      ],\r\n      \"title\": \"$node：节点内存明细\",\r\n      \"type\": \"timeseries\"\r\n    },\r\n    {\r\n      \"datasource\": {\r\n        \"type\": \"prometheus\",\r\n        \"uid\": \"KubeDoor-Prometheus\"\r\n      },\r\n      \"fieldConfig\": {\r\n        \"defaults\": {\r\n          \"color\": {\r\n            \"mode\": \"palette-classic\"\r\n          },\r\n          \"custom\": {\r\n            \"axisBorderShow\": false,\r\n            \"axisCenteredZero\": false,\r\n            \"axisColorMode\": \"series\",\r\n            \"axisLabel\": \"←流入/流出→\",\r\n            \"axisPlacement\": \"auto\",\r\n            \"barAlignment\": 0,\r\n            \"barWidthFactor\": 0.6,\r\n            \"drawStyle\": \"line\",\r\n            \"fillOpacity\": 0,\r\n            \"gradientMode\": \"none\",\r\n            \"hideFrom\": {\r\n              \"legend\": false,\r\n              \"tooltip\": false,\r\n              \"viz\": false\r\n            },\r\n            \"insertNulls\": false,\r\n            \"lineInterpolation\": \"linear\",\r\n            \"lineWidth\": 1,\r\n            \"pointSize\": 5,\r\n            \"scaleDistribution\": {\r\n              \"type\": \"linear\"\r\n            },\r\n            \"showPoints\": \"never\",\r\n            \"spanNulls\": false,\r\n            \"stacking\": {\r\n              \"group\": \"A\",\r\n              \"mode\": \"none\"\r\n            },\r\n            \"thresholdsStyle\": {\r\n              \"mode\": \"off\"\r\n            }\r\n          },\r\n          \"links\": [],\r\n          \"mappings\": [],\r\n          \"thresholds\": {\r\n            \"mode\": \"absolute\",\r\n            \"steps\": [\r\n              {\r\n                \"color\": \"green\",\r\n                \"value\": null\r\n              },\r\n              {\r\n                \"color\": \"red\",\r\n                \"value\": 80\r\n              }\r\n            ]\r\n          },\r\n          \"unit\": \"binbps\"\r\n        },\r\n        \"overrides\": [\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byRegexp\",\r\n              \"options\": \"/流入.*/\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.transform\",\r\n                \"value\": \"negative-Y\"\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      },\r\n      \"gridPos\": {\r\n        \"h\": 6,\r\n        \"w\": 8,\r\n        \"x\": 16,\r\n        \"y\": 16\r\n      },\r\n      \"id\": 78,\r\n      \"options\": {\r\n        \"legend\": {\r\n          \"calcs\": [\r\n            \"mean\",\r\n            \"lastNotNull\",\r\n            \"max\"\r\n          ],\r\n          \"displayMode\": \"table\",\r\n          \"placement\": \"bottom\",\r\n          \"showLegend\": false\r\n        },\r\n        \"tooltip\": {\r\n          \"maxHeight\": 600,\r\n          \"mode\": \"multi\",\r\n          \"sort\": \"desc\"\r\n        }\r\n      },\r\n      \"pluginVersion\": \"11.4.0\",\r\n      \"targets\": [\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"exemplar\": true,\r\n          \"expr\": \"sum (irate(container_network_receive_bytes_total{$ext_key=~\\\"$ext_value\\\",node=~\\\"^$node$\\\"}[2m]))by (node) *8\",\r\n          \"format\": \"time_series\",\r\n          \"interval\": \"\",\r\n          \"intervalFactor\": 1,\r\n          \"legendFormat\": \"流入:{{node}}\",\r\n          \"metric\": \"network\",\r\n          \"refId\": \"A\",\r\n          \"step\": 10\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"exemplar\": true,\r\n          \"expr\": \"sum (irate(container_network_transmit_bytes_total{$ext_key=~\\\"$ext_value\\\",node=~\\\"^$node$\\\"}[2m]))by (node) *8\",\r\n          \"instant\": false,\r\n          \"interval\": \"\",\r\n          \"intervalFactor\": 1,\r\n          \"legendFormat\": \"流出:{{node}}\",\r\n          \"metric\": \"network\",\r\n          \"refId\": \"B\",\r\n          \"step\": 10\r\n        }\r\n      ],\r\n      \"title\": \"$node：节点网络总览\",\r\n      \"type\": \"timeseries\"\r\n    },\r\n    {\r\n      \"datasource\": {\r\n        \"type\": \"prometheus\",\r\n        \"uid\": \"KubeDoor-Prometheus\"\r\n      },\r\n      \"fieldConfig\": {\r\n        \"defaults\": {\r\n          \"color\": {\r\n            \"mode\": \"thresholds\"\r\n          },\r\n          \"custom\": {\r\n            \"align\": \"center\",\r\n            \"cellOptions\": {\r\n              \"type\": \"auto\"\r\n            },\r\n            \"filterable\": false,\r\n            \"inspect\": false\r\n          },\r\n          \"mappings\": [],\r\n          \"max\": 1,\r\n          \"min\": 0,\r\n          \"thresholds\": {\r\n            \"mode\": \"absolute\",\r\n            \"steps\": [\r\n              {\r\n                \"color\": \"green\",\r\n                \"value\": null\r\n              },\r\n              {\r\n                \"color\": \"red\",\r\n                \"value\": 80\r\n              }\r\n            ]\r\n          }\r\n        },\r\n        \"overrides\": [\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"CPU限制\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 76\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"内存使用\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 71\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"内存限制\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 74\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"磁盘使用\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 74\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byRegexp\",\r\n              \"options\": \".*%\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.cellOptions\",\r\n                \"value\": {\r\n                  \"mode\": \"gradient\",\r\n                  \"type\": \"color-background\"\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"mode\": \"continuous-GrYlRd\"\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 85\r\n              },\r\n              {\r\n                \"id\": \"unit\",\r\n                \"value\": \"percentunit\"\r\n              },\r\n              {\r\n                \"id\": \"decimals\",\r\n                \"value\": 0\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byRegexp\",\r\n              \"options\": \"(内存使用|内存总|内存请求|内存限制|磁盘使用|磁盘总)\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"unit\",\r\n                \"value\": \"bytes\"\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"节点\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 96\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"内存请求\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 76\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"CPU请求\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 75\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byRegexp\",\r\n              \"options\": \"(CPU总|内存总|磁盘总|Pod上限)\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.cellOptions\",\r\n                \"value\": {\r\n                  \"mode\": \"gradient\",\r\n                  \"type\": \"color-background\"\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"thresholds\",\r\n                \"value\": {\r\n                  \"mode\": \"absolute\",\r\n                  \"steps\": [\r\n                    {\r\n                      \"color\": \"blue\",\r\n                      \"value\": null\r\n                    }\r\n                  ]\r\n                }\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"Pod上限\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 71\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byRegexp\",\r\n              \"options\": \"CPU核使用$|内存使用$|磁盘使用$|Pod数\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.cellOptions\",\r\n                \"value\": {\r\n                  \"type\": \"color-text\"\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"orange\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byRegexp\",\r\n              \"options\": \"/.*总/\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.cellOptions\",\r\n                \"value\": {\r\n                  \"mode\": \"gradient\",\r\n                  \"type\": \"color-background\"\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"custom.cellOptions\",\r\n                \"value\": {\r\n                  \"mode\": \"gradient\",\r\n                  \"type\": \"color-background\"\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"blue\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"decimals\",\r\n                \"value\": 0\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"Pod数\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 58\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"CPU核总\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 70\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"内存总\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 75\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"磁盘总\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 74\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"CPU核使用\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 80\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"内存使用%\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 96\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"CPU限制%\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 91\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"CPU使用%\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 89\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      },\r\n      \"gridPos\": {\r\n        \"h\": 9,\r\n        \"w\": 24,\r\n        \"x\": 0,\r\n        \"y\": 22\r\n      },\r\n      \"id\": 52,\r\n      \"options\": {\r\n        \"cellHeight\": \"sm\",\r\n        \"footer\": {\r\n          \"countRows\": false,\r\n          \"enablePagination\": false,\r\n          \"fields\": \"\",\r\n          \"reducer\": [\r\n            \"sum\"\r\n          ],\r\n          \"show\": false\r\n        },\r\n        \"showHeader\": true,\r\n        \"sortBy\": [\r\n          {\r\n            \"desc\": true,\r\n            \"displayName\": \"内存请求%\"\r\n          }\r\n        ]\r\n      },\r\n      \"pluginVersion\": \"11.4.0\",\r\n      \"targets\": [\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": false,\r\n          \"expr\": \"count(kube_pod_info{$ext_key=~\\\"$ext_value\\\",created_by_kind!~\\\"<none>|Job\\\",node!=\\\"\\\",node=~\\\"^$node$\\\"}) by (node)\",\r\n          \"format\": \"table\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"pod数\",\r\n          \"refId\": \"A\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"exemplar\": false,\r\n          \"expr\": \"kube_node_status_condition{$ext_key=~\\\"$ext_value\\\",status=\\\"true\\\",node=~\\\"^$node$\\\"}  == 1\",\r\n          \"format\": \"table\",\r\n          \"hide\": true,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"状态\",\r\n          \"refId\": \"B\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"exemplar\": false,\r\n          \"expr\": \"sum (irate(container_cpu_usage_seconds_total{$ext_key=~\\\"$ext_value\\\",container!=\\\"\\\",node=~\\\"^$node$\\\"}[2m])) by (node)\",\r\n          \"format\": \"table\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"\",\r\n          \"refId\": \"I\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"exemplar\": false,\r\n          \"expr\": \"kube_node_status_allocatable{$ext_key=~\\\"$ext_value\\\",resource=\\\"cpu\\\", unit=\\\"core\\\", node=~\\\"^$node$\\\"} - 0\",\r\n          \"format\": \"table\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"\",\r\n          \"refId\": \"C\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": false,\r\n          \"expr\": \"sum(kube_pod_container_resource_requests{$ext_key=~\\\"$ext_value\\\",resource=\\\"cpu\\\", unit=\\\"core\\\",node!=\\\"\\\",node=~\\\"^$node$\\\"}) by (node)\",\r\n          \"format\": \"table\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"\",\r\n          \"refId\": \"E\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": false,\r\n          \"expr\": \"sum(kube_pod_container_resource_limits{$ext_key=~\\\"$ext_value\\\",resource=\\\"cpu\\\", unit=\\\"core\\\",node!=\\\"\\\",node=~\\\"^$node$\\\"}) by (node)\",\r\n          \"format\": \"table\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"\",\r\n          \"refId\": \"F\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"exemplar\": false,\r\n          \"expr\": \"sum (container_memory_working_set_bytes{$ext_key=~\\\"$ext_value\\\",container!=\\\"\\\",node=~\\\"^$node$\\\"}) by (node)\",\r\n          \"format\": \"table\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"\",\r\n          \"refId\": \"J\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"exemplar\": false,\r\n          \"expr\": \"sum(kube_node_status_allocatable{$ext_key=~\\\"$ext_value\\\",resource=\\\"memory\\\", unit=\\\"byte\\\", node=~\\\"^$node$\\\"}) by (node) - 0\",\r\n          \"format\": \"table\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"\",\r\n          \"refId\": \"D\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": false,\r\n          \"expr\": \"sum(kube_pod_container_resource_requests{$ext_key=~\\\"$ext_value\\\",resource=\\\"memory\\\", unit=\\\"byte\\\",node!=\\\"\\\",node=~\\\"^$node$\\\"}) by (node)\",\r\n          \"format\": \"table\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"\",\r\n          \"refId\": \"G\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": false,\r\n          \"expr\": \"sum(kube_pod_container_resource_limits{$ext_key=~\\\"$ext_value\\\",resource=\\\"memory\\\", unit=\\\"byte\\\",node!=\\\"\\\",node=~\\\"^$node$\\\"}) by (node)\",\r\n          \"format\": \"table\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"\",\r\n          \"refId\": \"H\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"exemplar\": false,\r\n          \"expr\": \"sum (container_fs_usage_bytes{$ext_key=~\\\"$ext_value\\\",device=~\\\"^/dev/.*$\\\",id=\\\"/\\\",node=~\\\"^$node$\\\"}) by (node)\",\r\n          \"format\": \"table\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"\",\r\n          \"refId\": \"K\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"exemplar\": false,\r\n          \"expr\": \"sum (container_fs_limit_bytes{$ext_key=~\\\"$ext_value\\\",device=~\\\"^/dev/.*$\\\",id=\\\"/\\\",node=~\\\"^$node$\\\"}) by (node)\",\r\n          \"format\": \"table\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"\",\r\n          \"refId\": \"L\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"exemplar\": false,\r\n          \"expr\": \"sum (container_memory_working_set_bytes{$ext_key=~\\\"$ext_value\\\",container!=\\\"\\\",node=~\\\"^$node$\\\"})by (node) / sum(kube_node_status_allocatable{$ext_key=~\\\"$ext_value\\\",resource=\\\"memory\\\", unit=\\\"byte\\\", node=~\\\"^$node$\\\"})by (node)\",\r\n          \"format\": \"table\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"内存使用%\",\r\n          \"refId\": \"M\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"exemplar\": false,\r\n          \"expr\": \"sum(kube_pod_container_resource_requests{$ext_key=~\\\"$ext_value\\\",resource=\\\"memory\\\", unit=\\\"byte\\\",node=~\\\"^$node$\\\"})by (node) / sum(kube_node_status_allocatable{$ext_key=~\\\"$ext_value\\\",resource=\\\"memory\\\", unit=\\\"byte\\\", node=~\\\"^$node$\\\"})by (node)\",\r\n          \"format\": \"table\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"内存请求%\",\r\n          \"refId\": \"N\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"exemplar\": false,\r\n          \"expr\": \"sum(kube_pod_container_resource_limits{$ext_key=~\\\"$ext_value\\\",resource=\\\"memory\\\", unit=\\\"byte\\\",node=~\\\"^$node$\\\"})by (node) / sum(kube_node_status_allocatable{$ext_key=~\\\"$ext_value\\\",resource=\\\"memory\\\", unit=\\\"byte\\\", node=~\\\"^$node$\\\"})by (node)\",\r\n          \"format\": \"table\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"内存限制%\",\r\n          \"refId\": \"O\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"exemplar\": false,\r\n          \"expr\": \"sum (irate(container_cpu_usage_seconds_total{$ext_key=~\\\"$ext_value\\\",container!=\\\"\\\",node=~\\\"^$node$\\\"}[2m]))by (node) / sum(kube_node_status_allocatable{$ext_key=~\\\"$ext_value\\\",resource=\\\"cpu\\\", unit=\\\"core\\\", node=~\\\"^$node$\\\"})by (node)\",\r\n          \"format\": \"table\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"CPU使用%\",\r\n          \"refId\": \"P\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"exemplar\": false,\r\n          \"expr\": \"sum(kube_pod_container_resource_requests{$ext_key=~\\\"$ext_value\\\",resource=\\\"cpu\\\", unit=\\\"core\\\",node=~\\\"^$node$\\\"})by (node) / sum(kube_node_status_allocatable{$ext_key=~\\\"$ext_value\\\",resource=\\\"cpu\\\", unit=\\\"core\\\", node=~\\\"^$node$\\\"})by (node)\",\r\n          \"format\": \"table\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"CPU请求%\",\r\n          \"refId\": \"Q\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"exemplar\": false,\r\n          \"expr\": \"sum(kube_pod_container_resource_limits{$ext_key=~\\\"$ext_value\\\",resource=\\\"cpu\\\", unit=\\\"core\\\",node=~\\\"^$node$\\\"})by (node) / sum(kube_node_status_allocatable{$ext_key=~\\\"$ext_value\\\",resource=\\\"cpu\\\", unit=\\\"core\\\", node=~\\\"^$node$\\\"})by (node)\",\r\n          \"format\": \"table\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"内存限制%\",\r\n          \"refId\": \"R\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"exemplar\": false,\r\n          \"expr\": \"sum (container_fs_usage_bytes{$ext_key=~\\\"$ext_value\\\",device=~\\\"^/dev/.*$\\\",id=\\\"/\\\",node=~\\\"^$node$\\\"})by (node) / sum (container_fs_limit_bytes{$ext_key=~\\\"$ext_value\\\",device=~\\\"^/dev/.*$\\\",id=\\\"/\\\",node=~\\\"^$node$\\\"})by (node)\",\r\n          \"format\": \"table\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"磁盘使用%\",\r\n          \"refId\": \"S\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"exemplar\": false,\r\n          \"expr\": \"sum(kube_node_status_allocatable{$ext_key=~\\\"$ext_value\\\",resource=\\\"pods\\\", unit=\\\"integer\\\",node=~\\\"^$node$\\\"})by (node)\",\r\n          \"format\": \"table\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"Pod上限\",\r\n          \"refId\": \"T\"\r\n        }\r\n      ],\r\n      \"title\": \"$node：节点信息明细\",\r\n      \"transformations\": [\r\n        {\r\n          \"id\": \"merge\",\r\n          \"options\": {}\r\n        },\r\n        {\r\n          \"id\": \"organize\",\r\n          \"options\": {\r\n            \"excludeByName\": {\r\n              \"Time\": true,\r\n              \"Time 1\": true,\r\n              \"Time 10\": true,\r\n              \"Time 11\": true,\r\n              \"Time 12\": true,\r\n              \"Time 13\": true,\r\n              \"Time 14\": true,\r\n              \"Time 15\": true,\r\n              \"Time 16\": true,\r\n              \"Time 17\": true,\r\n              \"Time 18\": true,\r\n              \"Time 19\": true,\r\n              \"Time 2\": true,\r\n              \"Time 20\": true,\r\n              \"Time 3\": true,\r\n              \"Time 4\": true,\r\n              \"Time 5\": true,\r\n              \"Time 6\": true,\r\n              \"Time 7\": true,\r\n              \"Time 8\": true,\r\n              \"Time 9\": true,\r\n              \"Value #B\": true,\r\n              \"Value #E\": false,\r\n              \"Value #F\": false,\r\n              \"__name__\": true,\r\n              \"app_kubernetes_io_name\": true,\r\n              \"app_kubernetes_io_name 1\": true,\r\n              \"app_kubernetes_io_name 2\": true,\r\n              \"app_kubernetes_io_name 3\": true,\r\n              \"app_kubernetes_io_version\": true,\r\n              \"app_kubernetes_io_version 1\": true,\r\n              \"app_kubernetes_io_version 2\": true,\r\n              \"app_kubernetes_io_version 3\": true,\r\n              \"condition\": true,\r\n              \"instance\": true,\r\n              \"instance 1\": true,\r\n              \"instance 2\": true,\r\n              \"instance 3\": true,\r\n              \"job\": true,\r\n              \"job 1\": true,\r\n              \"job 2\": true,\r\n              \"job 3\": true,\r\n              \"k8s_namespace\": true,\r\n              \"k8s_namespace 1\": true,\r\n              \"k8s_namespace 2\": true,\r\n              \"k8s_namespace 3\": true,\r\n              \"k8s_sname\": true,\r\n              \"k8s_sname 1\": true,\r\n              \"k8s_sname 2\": true,\r\n              \"k8s_sname 3\": true,\r\n              \"origin_prometheus\": true,\r\n              \"origin_prometheus 1\": true,\r\n              \"origin_prometheus 2\": true,\r\n              \"origin_prometheus 3\": true,\r\n              \"resource\": true,\r\n              \"status\": true,\r\n              \"unit\": true\r\n            },\r\n            \"includeByName\": {},\r\n            \"indexByName\": {\r\n              \"Time\": 22,\r\n              \"Value #A\": 2,\r\n              \"Value #C\": 6,\r\n              \"Value #D\": 8,\r\n              \"Value #E\": 16,\r\n              \"Value #F\": 17,\r\n              \"Value #G\": 18,\r\n              \"Value #H\": 19,\r\n              \"Value #I\": 7,\r\n              \"Value #J\": 9,\r\n              \"Value #K\": 11,\r\n              \"Value #L\": 10,\r\n              \"Value #M\": 4,\r\n              \"Value #N\": 13,\r\n              \"Value #O\": 15,\r\n              \"Value #P\": 3,\r\n              \"Value #Q\": 12,\r\n              \"Value #R\": 14,\r\n              \"Value #S\": 5,\r\n              \"Value #T\": 1,\r\n              \"instance\": 23,\r\n              \"job\": 24,\r\n              \"node\": 0,\r\n              \"origin_prometheus\": 25,\r\n              \"resource\": 20,\r\n              \"unit\": 21\r\n            },\r\n            \"renameByName\": {\r\n              \"Value #A\": \"Pod数\",\r\n              \"Value #C\": \"CPU核总\",\r\n              \"Value #D\": \"内存总\",\r\n              \"Value #E\": \"CPU请求\",\r\n              \"Value #F\": \"CPU限制\",\r\n              \"Value #G\": \"内存请求\",\r\n              \"Value #H\": \"内存限制\",\r\n              \"Value #I\": \"CPU核使用\",\r\n              \"Value #J\": \"内存使用\",\r\n              \"Value #K\": \"磁盘使用\",\r\n              \"Value #L\": \"磁盘总\",\r\n              \"Value #M\": \"内存使用%\",\r\n              \"Value #N\": \"内存请求%\",\r\n              \"Value #O\": \"内存限制%\",\r\n              \"Value #P\": \"CPU使用%\",\r\n              \"Value #Q\": \"CPU请求%\",\r\n              \"Value #R\": \"CPU限制%\",\r\n              \"Value #S\": \"磁盘使用%\",\r\n              \"Value #T\": \"Pod上限\",\r\n              \"condition\": \"状态\",\r\n              \"node\": \"节点\"\r\n            }\r\n          }\r\n        },\r\n        {\r\n          \"id\": \"filterFieldsByName\",\r\n          \"options\": {}\r\n        }\r\n      ],\r\n      \"type\": \"table\"\r\n    },\r\n    {\r\n      \"collapsed\": true,\r\n      \"gridPos\": {\r\n        \"h\": 1,\r\n        \"w\": 24,\r\n        \"x\": 0,\r\n        \"y\": 31\r\n      },\r\n      \"id\": 99,\r\n      \"panels\": [\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"fieldConfig\": {\r\n            \"defaults\": {\r\n              \"color\": {\r\n                \"mode\": \"palette-classic\"\r\n              },\r\n              \"custom\": {\r\n                \"axisBorderShow\": false,\r\n                \"axisCenteredZero\": false,\r\n                \"axisColorMode\": \"series\",\r\n                \"axisLabel\": \"\",\r\n                \"axisPlacement\": \"auto\",\r\n                \"barAlignment\": 0,\r\n                \"barWidthFactor\": 0.6,\r\n                \"drawStyle\": \"line\",\r\n                \"fillOpacity\": 0,\r\n                \"gradientMode\": \"none\",\r\n                \"hideFrom\": {\r\n                  \"legend\": false,\r\n                  \"tooltip\": false,\r\n                  \"viz\": false\r\n                },\r\n                \"insertNulls\": false,\r\n                \"lineInterpolation\": \"linear\",\r\n                \"lineWidth\": 1,\r\n                \"pointSize\": 5,\r\n                \"scaleDistribution\": {\r\n                  \"type\": \"linear\"\r\n                },\r\n                \"showPoints\": \"never\",\r\n                \"spanNulls\": false,\r\n                \"stacking\": {\r\n                  \"group\": \"A\",\r\n                  \"mode\": \"none\"\r\n                },\r\n                \"thresholdsStyle\": {\r\n                  \"mode\": \"off\"\r\n                }\r\n              },\r\n              \"links\": [],\r\n              \"mappings\": [],\r\n              \"thresholds\": {\r\n                \"mode\": \"absolute\",\r\n                \"steps\": [\r\n                  {\r\n                    \"color\": \"green\"\r\n                  },\r\n                  {\r\n                    \"color\": \"red\",\r\n                    \"value\": 80\r\n                  }\r\n                ]\r\n              },\r\n              \"unit\": \"none\"\r\n            },\r\n            \"overrides\": [\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byRegexp\",\r\n                  \"options\": \"/.*总核数/\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"color\",\r\n                    \"value\": {\r\n                      \"fixedColor\": \"#C4162A\",\r\n                      \"mode\": \"fixed\"\r\n                    }\r\n                  },\r\n                  {\r\n                    \"id\": \"custom.lineWidth\",\r\n                    \"value\": 2\r\n                  },\r\n                  {\r\n                    \"id\": \"custom.pointSize\",\r\n                    \"value\": 5\r\n                  },\r\n                  {\r\n                    \"id\": \"custom.showPoints\",\r\n                    \"value\": \"always\"\r\n                  },\r\n                  {\r\n                    \"id\": \"custom.hideFrom\",\r\n                    \"value\": {\r\n                      \"legend\": false,\r\n                      \"tooltip\": false,\r\n                      \"viz\": false\r\n                    }\r\n                  }\r\n                ]\r\n              }\r\n            ]\r\n          },\r\n          \"gridPos\": {\r\n            \"h\": 8,\r\n            \"w\": 12,\r\n            \"x\": 0,\r\n            \"y\": 32\r\n          },\r\n          \"id\": 93,\r\n          \"options\": {\r\n            \"legend\": {\r\n              \"calcs\": [\r\n                \"last\",\r\n                \"mean\",\r\n                \"max\"\r\n              ],\r\n              \"displayMode\": \"table\",\r\n              \"placement\": \"right\",\r\n              \"showLegend\": true,\r\n              \"sortBy\": \"Mean\",\r\n              \"sortDesc\": true\r\n            },\r\n            \"tooltip\": {\r\n              \"maxHeight\": 600,\r\n              \"mode\": \"single\",\r\n              \"sort\": \"desc\"\r\n            }\r\n          },\r\n          \"pluginVersion\": \"11.4.0\",\r\n          \"targets\": [\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"exemplar\": true,\r\n              \"expr\": \"max(node_load1{$ext_key=~\\\"$ext_value\\\",instance=~\\\"$node\\\"})by(instance,nodeAppType)\",\r\n              \"format\": \"time_series\",\r\n              \"instant\": false,\r\n              \"interval\": \"\",\r\n              \"intervalFactor\": 1,\r\n              \"legendFormat\": \"{{nodeAppType}} {{instance}} \",\r\n              \"metric\": \"\",\r\n              \"refId\": \"A\",\r\n              \"step\": 20,\r\n              \"target\": \"\"\r\n            },\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"expr\": \"max(node_load5{$ext_key=~\\\"$ext_value\\\",instance=~\\\"$node\\\"})by(instance)\",\r\n              \"format\": \"time_series\",\r\n              \"hide\": true,\r\n              \"instant\": false,\r\n              \"interval\": \"\",\r\n              \"intervalFactor\": 1,\r\n              \"legendFormat\": \"5分钟负载 {{instance}}\",\r\n              \"refId\": \"B\",\r\n              \"step\": 20\r\n            },\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"expr\": \"max(node_load15{$ext_key=~\\\"$ext_value\\\",instance=~\\\"$node\\\"})by(instance)\",\r\n              \"format\": \"time_series\",\r\n              \"hide\": true,\r\n              \"instant\": false,\r\n              \"interval\": \"\",\r\n              \"intervalFactor\": 1,\r\n              \"legendFormat\": \"15分钟负载 {{instance}}\",\r\n              \"refId\": \"C\",\r\n              \"step\": 20\r\n            },\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"exemplar\": true,\r\n              \"expr\": \"min(count(node_cpu_seconds_total{$ext_key=~\\\"$ext_value\\\",instance=~\\\"$node\\\", mode='system'}) by (instance,nodeAppType))by(nodeAppType)\",\r\n              \"format\": \"time_series\",\r\n              \"instant\": false,\r\n              \"interval\": \"2m\",\r\n              \"intervalFactor\": 1,\r\n              \"legendFormat\": \"CPU总核数 {{nodeAppType}}\",\r\n              \"refId\": \"D\",\r\n              \"step\": 20\r\n            }\r\n          ],\r\n          \"title\": \"node-exporter：节点1分钟负载\",\r\n          \"type\": \"timeseries\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"description\": \"\",\r\n          \"fieldConfig\": {\r\n            \"defaults\": {\r\n              \"color\": {\r\n                \"mode\": \"palette-classic\"\r\n              },\r\n              \"custom\": {\r\n                \"axisBorderShow\": false,\r\n                \"axisCenteredZero\": false,\r\n                \"axisColorMode\": \"series\",\r\n                \"axisLabel\": \"\",\r\n                \"axisPlacement\": \"auto\",\r\n                \"barAlignment\": 0,\r\n                \"barWidthFactor\": 0.6,\r\n                \"drawStyle\": \"line\",\r\n                \"fillOpacity\": 0,\r\n                \"gradientMode\": \"none\",\r\n                \"hideFrom\": {\r\n                  \"legend\": false,\r\n                  \"tooltip\": false,\r\n                  \"viz\": false\r\n                },\r\n                \"insertNulls\": false,\r\n                \"lineInterpolation\": \"linear\",\r\n                \"lineWidth\": 1,\r\n                \"pointSize\": 5,\r\n                \"scaleDistribution\": {\r\n                  \"type\": \"linear\"\r\n                },\r\n                \"showPoints\": \"never\",\r\n                \"spanNulls\": false,\r\n                \"stacking\": {\r\n                  \"group\": \"A\",\r\n                  \"mode\": \"none\"\r\n                },\r\n                \"thresholdsStyle\": {\r\n                  \"mode\": \"off\"\r\n                }\r\n              },\r\n              \"links\": [],\r\n              \"mappings\": [],\r\n              \"thresholds\": {\r\n                \"mode\": \"absolute\",\r\n                \"steps\": [\r\n                  {\r\n                    \"color\": \"green\"\r\n                  },\r\n                  {\r\n                    \"color\": \"red\",\r\n                    \"value\": 80\r\n                  }\r\n                ]\r\n              },\r\n              \"unit\": \"percent\"\r\n            },\r\n            \"overrides\": [\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byRegexp\",\r\n                  \"options\": \"/总.*/\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.lineWidth\",\r\n                    \"value\": 1\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byRegexp\",\r\n                  \"options\": \"/IO.*/\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"color\",\r\n                    \"value\": {\r\n                      \"fixedColor\": \"#0ad4ff\",\r\n                      \"mode\": \"fixed\"\r\n                    }\r\n                  }\r\n                ]\r\n              }\r\n            ]\r\n          },\r\n          \"gridPos\": {\r\n            \"h\": 8,\r\n            \"w\": 12,\r\n            \"x\": 12,\r\n            \"y\": 32\r\n          },\r\n          \"id\": 94,\r\n          \"options\": {\r\n            \"legend\": {\r\n              \"calcs\": [\r\n                \"last\",\r\n                \"mean\",\r\n                \"max\"\r\n              ],\r\n              \"displayMode\": \"table\",\r\n              \"placement\": \"right\",\r\n              \"showLegend\": true,\r\n              \"sortBy\": \"Mean\",\r\n              \"sortDesc\": true\r\n            },\r\n            \"tooltip\": {\r\n              \"maxHeight\": 600,\r\n              \"mode\": \"single\",\r\n              \"sort\": \"desc\"\r\n            }\r\n          },\r\n          \"pluginVersion\": \"11.4.0\",\r\n          \"targets\": [\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"expr\": \"(1 - avg(irate(node_cpu_seconds_total{$ext_key=~\\\"$ext_value\\\",instance=~\\\"$node\\\",mode=\\\"idle\\\"}[2m])) by (instance,nodeAppType))*100\",\r\n              \"format\": \"time_series\",\r\n              \"hide\": false,\r\n              \"interval\": \"\",\r\n              \"intervalFactor\": 1,\r\n              \"legendFormat\": \"总{{nodeAppType}} {{instance}}\",\r\n              \"range\": true,\r\n              \"refId\": \"F\",\r\n              \"step\": 240\r\n            },\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"expr\": \"avg(irate(node_cpu_seconds_total{$ext_key=~\\\"$ext_value\\\",instance=~\\\"$node\\\",mode=\\\"system\\\"}[2m])) by (instance) *100\",\r\n              \"format\": \"time_series\",\r\n              \"hide\": true,\r\n              \"instant\": false,\r\n              \"interval\": \"\",\r\n              \"intervalFactor\": 1,\r\n              \"legendFormat\": \"系统使用率\",\r\n              \"refId\": \"A\",\r\n              \"step\": 20\r\n            },\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"expr\": \"avg(irate(node_cpu_seconds_total{$ext_key=~\\\"$ext_value\\\",instance=~\\\"$node\\\",mode=\\\"user\\\"}[2m])) by (instance) *100\",\r\n              \"format\": \"time_series\",\r\n              \"hide\": true,\r\n              \"interval\": \"\",\r\n              \"intervalFactor\": 1,\r\n              \"legendFormat\": \"用户使用率\",\r\n              \"range\": true,\r\n              \"refId\": \"B\",\r\n              \"step\": 240\r\n            },\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"expr\": \"avg(irate(node_cpu_seconds_total{$ext_key=~\\\"$ext_value\\\",instance=~\\\"$node\\\",mode=\\\"iowait\\\"}[2m])) by (instance,nodeAppType) *100\",\r\n              \"format\": \"time_series\",\r\n              \"hide\": false,\r\n              \"instant\": false,\r\n              \"interval\": \"\",\r\n              \"intervalFactor\": 1,\r\n              \"legendFormat\": \"IO {{nodeAppType}} {{instance}}\",\r\n              \"refId\": \"D\",\r\n              \"step\": 240\r\n            }\r\n          ],\r\n          \"title\": \"node-exporter：节点CPU使用率\",\r\n          \"type\": \"timeseries\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"fieldConfig\": {\r\n            \"defaults\": {\r\n              \"color\": {\r\n                \"mode\": \"palette-classic\"\r\n              },\r\n              \"custom\": {\r\n                \"axisBorderShow\": false,\r\n                \"axisCenteredZero\": false,\r\n                \"axisColorMode\": \"text\",\r\n                \"axisLabel\": \"\",\r\n                \"axisPlacement\": \"left\",\r\n                \"barAlignment\": 0,\r\n                \"barWidthFactor\": 0.6,\r\n                \"drawStyle\": \"line\",\r\n                \"fillOpacity\": 0,\r\n                \"gradientMode\": \"none\",\r\n                \"hideFrom\": {\r\n                  \"legend\": false,\r\n                  \"tooltip\": false,\r\n                  \"viz\": false\r\n                },\r\n                \"insertNulls\": false,\r\n                \"lineInterpolation\": \"linear\",\r\n                \"lineWidth\": 1,\r\n                \"pointSize\": 5,\r\n                \"scaleDistribution\": {\r\n                  \"type\": \"linear\"\r\n                },\r\n                \"showPoints\": \"never\",\r\n                \"spanNulls\": false,\r\n                \"stacking\": {\r\n                  \"group\": \"A\",\r\n                  \"mode\": \"none\"\r\n                },\r\n                \"thresholdsStyle\": {\r\n                  \"mode\": \"off\"\r\n                }\r\n              },\r\n              \"links\": [],\r\n              \"mappings\": [],\r\n              \"thresholds\": {\r\n                \"mode\": \"absolute\",\r\n                \"steps\": [\r\n                  {\r\n                    \"color\": \"green\"\r\n                  },\r\n                  {\r\n                    \"color\": \"red\",\r\n                    \"value\": 80\r\n                  }\r\n                ]\r\n              },\r\n              \"unit\": \"bytes\"\r\n            },\r\n            \"overrides\": [\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byRegexp\",\r\n                  \"options\": \"/总内存.*/\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"color\",\r\n                    \"value\": {\r\n                      \"fixedColor\": \"dark-red\",\r\n                      \"mode\": \"fixed\"\r\n                    }\r\n                  },\r\n                  {\r\n                    \"id\": \"custom.lineWidth\",\r\n                    \"value\": 2\r\n                  },\r\n                  {\r\n                    \"id\": \"custom.pointSize\",\r\n                    \"value\": 5\r\n                  },\r\n                  {\r\n                    \"id\": \"custom.showPoints\",\r\n                    \"value\": \"always\"\r\n                  },\r\n                  {\r\n                    \"id\": \"custom.hideFrom\",\r\n                    \"value\": {\r\n                      \"legend\": false,\r\n                      \"tooltip\": false,\r\n                      \"viz\": false\r\n                    }\r\n                  }\r\n                ]\r\n              }\r\n            ]\r\n          },\r\n          \"gridPos\": {\r\n            \"h\": 8,\r\n            \"w\": 12,\r\n            \"x\": 0,\r\n            \"y\": 40\r\n          },\r\n          \"id\": 95,\r\n          \"options\": {\r\n            \"legend\": {\r\n              \"calcs\": [\r\n                \"last\",\r\n                \"mean\",\r\n                \"max\"\r\n              ],\r\n              \"displayMode\": \"table\",\r\n              \"placement\": \"right\",\r\n              \"showLegend\": true,\r\n              \"sortBy\": \"Mean\",\r\n              \"sortDesc\": true\r\n            },\r\n            \"tooltip\": {\r\n              \"maxHeight\": 600,\r\n              \"mode\": \"single\",\r\n              \"sort\": \"desc\"\r\n            }\r\n          },\r\n          \"pluginVersion\": \"11.4.0\",\r\n          \"targets\": [\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"exemplar\": true,\r\n              \"expr\": \"min(node_memory_MemTotal_bytes{$ext_key=~\\\"$ext_value\\\",instance=~\\\"$node\\\"})by(nodeAppType)\",\r\n              \"format\": \"time_series\",\r\n              \"hide\": false,\r\n              \"instant\": false,\r\n              \"interval\": \"2m\",\r\n              \"intervalFactor\": 1,\r\n              \"legendFormat\": \"总内存 {{nodeAppType}}\",\r\n              \"refId\": \"A\",\r\n              \"step\": 4\r\n            },\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"expr\": \"max(node_memory_MemTotal_bytes{$ext_key=~\\\"$ext_value\\\",instance=~\\\"$node\\\"} - node_memory_MemAvailable_bytes{$ext_key=~\\\"$ext_value\\\",instance=~\\\"$node\\\"})by(instance,nodeAppType)\",\r\n              \"format\": \"time_series\",\r\n              \"hide\": false,\r\n              \"interval\": \"\",\r\n              \"intervalFactor\": 1,\r\n              \"legendFormat\": \"{{nodeAppType}} {{instance}}\",\r\n              \"range\": true,\r\n              \"refId\": \"B\",\r\n              \"step\": 4\r\n            }\r\n          ],\r\n          \"title\": \"node-exporter：节点内存使用量\",\r\n          \"type\": \"timeseries\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"fieldConfig\": {\r\n            \"defaults\": {\r\n              \"color\": {\r\n                \"mode\": \"palette-classic\"\r\n              },\r\n              \"custom\": {\r\n                \"axisBorderShow\": false,\r\n                \"axisCenteredZero\": false,\r\n                \"axisColorMode\": \"text\",\r\n                \"axisLabel\": \"\",\r\n                \"axisPlacement\": \"left\",\r\n                \"barAlignment\": 0,\r\n                \"barWidthFactor\": 0.6,\r\n                \"drawStyle\": \"line\",\r\n                \"fillOpacity\": 0,\r\n                \"gradientMode\": \"none\",\r\n                \"hideFrom\": {\r\n                  \"legend\": false,\r\n                  \"tooltip\": false,\r\n                  \"viz\": false\r\n                },\r\n                \"insertNulls\": false,\r\n                \"lineInterpolation\": \"linear\",\r\n                \"lineWidth\": 1,\r\n                \"pointSize\": 5,\r\n                \"scaleDistribution\": {\r\n                  \"type\": \"linear\"\r\n                },\r\n                \"showPoints\": \"never\",\r\n                \"spanNulls\": false,\r\n                \"stacking\": {\r\n                  \"group\": \"A\",\r\n                  \"mode\": \"none\"\r\n                },\r\n                \"thresholdsStyle\": {\r\n                  \"mode\": \"off\"\r\n                }\r\n              },\r\n              \"links\": [],\r\n              \"mappings\": [],\r\n              \"max\": 1,\r\n              \"min\": 0,\r\n              \"thresholds\": {\r\n                \"mode\": \"absolute\",\r\n                \"steps\": [\r\n                  {\r\n                    \"color\": \"green\"\r\n                  },\r\n                  {\r\n                    \"color\": \"red\",\r\n                    \"value\": 80\r\n                  }\r\n                ]\r\n              },\r\n              \"unit\": \"percentunit\"\r\n            },\r\n            \"overrides\": []\r\n          },\r\n          \"gridPos\": {\r\n            \"h\": 8,\r\n            \"w\": 12,\r\n            \"x\": 12,\r\n            \"y\": 40\r\n          },\r\n          \"id\": 98,\r\n          \"options\": {\r\n            \"legend\": {\r\n              \"calcs\": [\r\n                \"last\",\r\n                \"mean\",\r\n                \"max\"\r\n              ],\r\n              \"displayMode\": \"table\",\r\n              \"placement\": \"right\",\r\n              \"showLegend\": true,\r\n              \"sortBy\": \"Last\",\r\n              \"sortDesc\": true\r\n            },\r\n            \"tooltip\": {\r\n              \"maxHeight\": 600,\r\n              \"mode\": \"single\",\r\n              \"sort\": \"desc\"\r\n            }\r\n          },\r\n          \"pluginVersion\": \"11.4.0\",\r\n          \"targets\": [\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"expr\": \"max(node_memory_MemTotal_bytes{$ext_key=~\\\"$ext_value\\\",instance=~\\\"$node\\\"} - node_memory_MemAvailable_bytes{$ext_key=~\\\"$ext_value\\\",instance=~\\\"$node\\\"})by(instance,nodeAppType)/min(node_memory_MemTotal_bytes{$ext_key=~\\\"$ext_value\\\",instance=~\\\"$node\\\"})by(instance,nodeAppType)\",\r\n              \"format\": \"time_series\",\r\n              \"hide\": false,\r\n              \"interval\": \"\",\r\n              \"intervalFactor\": 1,\r\n              \"legendFormat\": \"{{nodeAppType}} {{instance}} \",\r\n              \"range\": true,\r\n              \"refId\": \"B\",\r\n              \"step\": 4\r\n            }\r\n          ],\r\n          \"title\": \"node-exporter：节点内存使用率\",\r\n          \"type\": \"timeseries\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"fieldConfig\": {\r\n            \"defaults\": {\r\n              \"color\": {\r\n                \"mode\": \"palette-classic\"\r\n              },\r\n              \"custom\": {\r\n                \"axisBorderShow\": false,\r\n                \"axisCenteredZero\": false,\r\n                \"axisColorMode\": \"text\",\r\n                \"axisLabel\": \"\",\r\n                \"axisPlacement\": \"auto\",\r\n                \"barAlignment\": 0,\r\n                \"barWidthFactor\": 0.6,\r\n                \"drawStyle\": \"bars\",\r\n                \"fillOpacity\": 20,\r\n                \"gradientMode\": \"none\",\r\n                \"hideFrom\": {\r\n                  \"legend\": false,\r\n                  \"tooltip\": false,\r\n                  \"viz\": false\r\n                },\r\n                \"insertNulls\": false,\r\n                \"lineInterpolation\": \"linear\",\r\n                \"lineWidth\": 1,\r\n                \"pointSize\": 5,\r\n                \"scaleDistribution\": {\r\n                  \"type\": \"linear\"\r\n                },\r\n                \"showPoints\": \"never\",\r\n                \"spanNulls\": false,\r\n                \"stacking\": {\r\n                  \"group\": \"A\",\r\n                  \"mode\": \"none\"\r\n                },\r\n                \"thresholdsStyle\": {\r\n                  \"mode\": \"off\"\r\n                }\r\n              },\r\n              \"links\": [],\r\n              \"mappings\": [],\r\n              \"thresholds\": {\r\n                \"mode\": \"absolute\",\r\n                \"steps\": [\r\n                  {\r\n                    \"color\": \"green\"\r\n                  },\r\n                  {\r\n                    \"color\": \"red\",\r\n                    \"value\": 80\r\n                  }\r\n                ]\r\n              },\r\n              \"unit\": \"bytes\"\r\n            },\r\n            \"overrides\": [\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byValue\",\r\n                  \"options\": {\r\n                    \"op\": \"gte\",\r\n                    \"reducer\": \"allIsZero\",\r\n                    \"value\": 0\r\n                  }\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.hideFrom\",\r\n                    \"value\": {\r\n                      \"legend\": true,\r\n                      \"tooltip\": true,\r\n                      \"viz\": true\r\n                    }\r\n                  }\r\n                ]\r\n              }\r\n            ]\r\n          },\r\n          \"gridPos\": {\r\n            \"h\": 8,\r\n            \"w\": 12,\r\n            \"x\": 0,\r\n            \"y\": 48\r\n          },\r\n          \"id\": 96,\r\n          \"options\": {\r\n            \"legend\": {\r\n              \"calcs\": [\r\n                \"last\",\r\n                \"mean\",\r\n                \"max\"\r\n              ],\r\n              \"displayMode\": \"table\",\r\n              \"placement\": \"right\",\r\n              \"showLegend\": true,\r\n              \"sortBy\": \"Last\",\r\n              \"sortDesc\": true\r\n            },\r\n            \"tooltip\": {\r\n              \"maxHeight\": 600,\r\n              \"mode\": \"single\",\r\n              \"sort\": \"desc\"\r\n            }\r\n          },\r\n          \"pluginVersion\": \"11.4.0\",\r\n          \"targets\": [\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"exemplar\": false,\r\n              \"expr\": \"max(increase(node_network_receive_bytes_total{$ext_key=~\\\"$ext_value\\\",instance=~\\\"$node\\\"}[1m]))by(nodeAppType,instance)\",\r\n              \"interval\": \"1m\",\r\n              \"intervalFactor\": 1,\r\n              \"legendFormat\": \"下载 {{nodeAppType}} {{instance}}\",\r\n              \"metric\": \"\",\r\n              \"range\": true,\r\n              \"refId\": \"A\",\r\n              \"step\": 600,\r\n              \"target\": \"\"\r\n            }\r\n          ],\r\n          \"title\": \"node-exporter：节点每分钟流入流量\",\r\n          \"type\": \"timeseries\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"fieldConfig\": {\r\n            \"defaults\": {\r\n              \"color\": {\r\n                \"mode\": \"palette-classic\"\r\n              },\r\n              \"custom\": {\r\n                \"axisBorderShow\": false,\r\n                \"axisCenteredZero\": false,\r\n                \"axisColorMode\": \"text\",\r\n                \"axisLabel\": \"\",\r\n                \"axisPlacement\": \"auto\",\r\n                \"barAlignment\": 0,\r\n                \"barWidthFactor\": 0.6,\r\n                \"drawStyle\": \"bars\",\r\n                \"fillOpacity\": 20,\r\n                \"gradientMode\": \"none\",\r\n                \"hideFrom\": {\r\n                  \"legend\": false,\r\n                  \"tooltip\": false,\r\n                  \"viz\": false\r\n                },\r\n                \"insertNulls\": false,\r\n                \"lineInterpolation\": \"linear\",\r\n                \"lineWidth\": 1,\r\n                \"pointSize\": 5,\r\n                \"scaleDistribution\": {\r\n                  \"type\": \"linear\"\r\n                },\r\n                \"showPoints\": \"never\",\r\n                \"spanNulls\": false,\r\n                \"stacking\": {\r\n                  \"group\": \"A\",\r\n                  \"mode\": \"none\"\r\n                },\r\n                \"thresholdsStyle\": {\r\n                  \"mode\": \"off\"\r\n                }\r\n              },\r\n              \"links\": [],\r\n              \"mappings\": [],\r\n              \"thresholds\": {\r\n                \"mode\": \"absolute\",\r\n                \"steps\": [\r\n                  {\r\n                    \"color\": \"green\"\r\n                  },\r\n                  {\r\n                    \"color\": \"red\",\r\n                    \"value\": 80\r\n                  }\r\n                ]\r\n              },\r\n              \"unit\": \"bytes\"\r\n            },\r\n            \"overrides\": [\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byValue\",\r\n                  \"options\": {\r\n                    \"op\": \"gte\",\r\n                    \"reducer\": \"allIsZero\",\r\n                    \"value\": 0\r\n                  }\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.hideFrom\",\r\n                    \"value\": {\r\n                      \"legend\": true,\r\n                      \"tooltip\": true,\r\n                      \"viz\": true\r\n                    }\r\n                  }\r\n                ]\r\n              }\r\n            ]\r\n          },\r\n          \"gridPos\": {\r\n            \"h\": 8,\r\n            \"w\": 12,\r\n            \"x\": 12,\r\n            \"y\": 48\r\n          },\r\n          \"id\": 97,\r\n          \"options\": {\r\n            \"legend\": {\r\n              \"calcs\": [\r\n                \"last\",\r\n                \"mean\",\r\n                \"max\"\r\n              ],\r\n              \"displayMode\": \"table\",\r\n              \"placement\": \"right\",\r\n              \"showLegend\": true,\r\n              \"sortBy\": \"Mean\",\r\n              \"sortDesc\": true\r\n            },\r\n            \"tooltip\": {\r\n              \"maxHeight\": 600,\r\n              \"mode\": \"single\",\r\n              \"sort\": \"desc\"\r\n            }\r\n          },\r\n          \"pluginVersion\": \"11.4.0\",\r\n          \"targets\": [\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"exemplar\": true,\r\n              \"expr\": \"max(increase(node_network_transmit_bytes_total{$ext_key=~\\\"$ext_value\\\",instance=~\\\"$node\\\"}[1m]))by(nodeAppType,instance)\",\r\n              \"hide\": false,\r\n              \"interval\": \"1m\",\r\n              \"intervalFactor\": 1,\r\n              \"legendFormat\": \"上传 {{nodeAppType}} {{instance}} \",\r\n              \"range\": true,\r\n              \"refId\": \"B\",\r\n              \"step\": 600\r\n            }\r\n          ],\r\n          \"title\": \"node-exporter：节点每分钟流出流量\",\r\n          \"type\": \"timeseries\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"fieldConfig\": {\r\n            \"defaults\": {\r\n              \"color\": {\r\n                \"mode\": \"palette-classic\"\r\n              },\r\n              \"custom\": {\r\n                \"align\": \"center\",\r\n                \"cellOptions\": {\r\n                  \"type\": \"color-background\"\r\n                },\r\n                \"inspect\": false\r\n              },\r\n              \"decimals\": 0,\r\n              \"links\": [],\r\n              \"mappings\": [\r\n                {\r\n                  \"options\": {\r\n                    \"0\": {\r\n                      \"color\": \"red\",\r\n                      \"index\": 0\r\n                    }\r\n                  },\r\n                  \"type\": \"value\"\r\n                },\r\n                {\r\n                  \"options\": {\r\n                    \"match\": \"null\",\r\n                    \"result\": {\r\n                      \"color\": \"red\",\r\n                      \"index\": 1\r\n                    }\r\n                  },\r\n                  \"type\": \"special\"\r\n                }\r\n              ],\r\n              \"noValue\": \"0\",\r\n              \"thresholds\": {\r\n                \"mode\": \"absolute\",\r\n                \"steps\": [\r\n                  {\r\n                    \"color\": \"green\"\r\n                  }\r\n                ]\r\n              },\r\n              \"unit\": \"bytes\"\r\n            },\r\n            \"overrides\": [\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"使用率\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"unit\",\r\n                    \"value\": \"percent\"\r\n                  },\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 61\r\n                  },\r\n                  {\r\n                    \"id\": \"color\",\r\n                    \"value\": {\r\n                      \"fixedColor\": \"purple\",\r\n                      \"mode\": \"fixed\"\r\n                    }\r\n                  },\r\n                  {\r\n                    \"id\": \"decimals\"\r\n                  },\r\n                  {\r\n                    \"id\": \"mappings\",\r\n                    \"value\": [\r\n                      {\r\n                        \"options\": {\r\n                          \"from\": 75,\r\n                          \"result\": {\r\n                            \"color\": \"semi-dark-red\",\r\n                            \"index\": 0\r\n                          },\r\n                          \"to\": 110\r\n                        },\r\n                        \"type\": \"range\"\r\n                      }\r\n                    ]\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"挂载Pod数\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"unit\",\r\n                    \"value\": \"none\"\r\n                  },\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 70\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"命名空间\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 74\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"PVC\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 99\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"使用量\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 61\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"总量\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 59\r\n                  }\r\n                ]\r\n              }\r\n            ]\r\n          },\r\n          \"gridPos\": {\r\n            \"h\": 8,\r\n            \"w\": 6,\r\n            \"x\": 0,\r\n            \"y\": 56\r\n          },\r\n          \"id\": 92,\r\n          \"options\": {\r\n            \"cellHeight\": \"sm\",\r\n            \"footer\": {\r\n              \"countRows\": false,\r\n              \"fields\": \"\",\r\n              \"reducer\": [\r\n                \"sum\"\r\n              ],\r\n              \"show\": false\r\n            },\r\n            \"showHeader\": true,\r\n            \"sortBy\": [\r\n              {\r\n                \"desc\": true,\r\n                \"displayName\": \"使用率\"\r\n              }\r\n            ]\r\n          },\r\n          \"pluginVersion\": \"11.4.0\",\r\n          \"targets\": [\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"exemplar\": false,\r\n              \"expr\": \"max by (namespace,persistentvolumeclaim) (kubelet_volume_stats_used_bytes{$ext_key=~\\\"$ext_value\\\"})\",\r\n              \"format\": \"table\",\r\n              \"instant\": true,\r\n              \"interval\": \"\",\r\n              \"intervalFactor\": 1,\r\n              \"legendFormat\": \"{{namespace}}:{{ persistentvolumeclaim }}\",\r\n              \"metric\": \"container_memory_usage:sort_desc\",\r\n              \"range\": false,\r\n              \"refId\": \"A\",\r\n              \"step\": 10\r\n            },\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"exemplar\": false,\r\n              \"expr\": \"min by (namespace,persistentvolumeclaim) (kubelet_volume_stats_available_bytes{$ext_key=~\\\"$ext_value\\\"}) + max by (namespace,persistentvolumeclaim) (kubelet_volume_stats_used_bytes{$ext_key=~\\\"$ext_value\\\"})\",\r\n              \"format\": \"table\",\r\n              \"hide\": false,\r\n              \"instant\": true,\r\n              \"interval\": \"\",\r\n              \"intervalFactor\": 1,\r\n              \"legendFormat\": \"__auto\",\r\n              \"metric\": \"container_memory_usage:sort_desc\",\r\n              \"range\": false,\r\n              \"refId\": \"B\",\r\n              \"step\": 10\r\n            },\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"exemplar\": false,\r\n              \"expr\": \"max by (namespace,persistentvolumeclaim) (kubelet_volume_stats_used_bytes{$ext_key=~\\\"$ext_value\\\"}) /(min by (namespace,persistentvolumeclaim) (kubelet_volume_stats_available_bytes{$ext_key=~\\\"$ext_value\\\"}) + max by (namespace,persistentvolumeclaim) (kubelet_volume_stats_used_bytes{$ext_key=~\\\"$ext_value\\\"}))*100\",\r\n              \"format\": \"table\",\r\n              \"hide\": false,\r\n              \"instant\": true,\r\n              \"interval\": \"\",\r\n              \"intervalFactor\": 1,\r\n              \"legendFormat\": \"{{namespace}}:{{ persistentvolumeclaim }}\",\r\n              \"metric\": \"container_memory_usage:sort_desc\",\r\n              \"range\": false,\r\n              \"refId\": \"C\",\r\n              \"step\": 10\r\n            },\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"exemplar\": false,\r\n              \"expr\": \"count by (namespace,persistentvolumeclaim)(kube_pod_spec_volumes_persistentvolumeclaims_info{$ext_key=~\\\"$ext_value\\\"})\",\r\n              \"format\": \"table\",\r\n              \"hide\": false,\r\n              \"instant\": true,\r\n              \"interval\": \"\",\r\n              \"intervalFactor\": 1,\r\n              \"legendFormat\": \"__auto\",\r\n              \"metric\": \"container_memory_usage:sort_desc\",\r\n              \"range\": false,\r\n              \"refId\": \"D\",\r\n              \"step\": 10\r\n            }\r\n          ],\r\n          \"title\": \"PVC存储使用情况\",\r\n          \"transformations\": [\r\n            {\r\n              \"id\": \"merge\",\r\n              \"options\": {}\r\n            },\r\n            {\r\n              \"id\": \"organize\",\r\n              \"options\": {\r\n                \"excludeByName\": {\r\n                  \"Time\": true\r\n                },\r\n                \"includeByName\": {},\r\n                \"indexByName\": {},\r\n                \"renameByName\": {\r\n                  \"Value #A\": \"使用量\",\r\n                  \"Value #B\": \"总量\",\r\n                  \"Value #C\": \"使用率\",\r\n                  \"Value #D\": \"挂载Pod数\",\r\n                  \"namespace\": \"命名空间\",\r\n                  \"persistentvolumeclaim\": \"PVC\"\r\n                }\r\n              }\r\n            }\r\n          ],\r\n          \"type\": \"table\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"fieldConfig\": {\r\n            \"defaults\": {\r\n              \"color\": {\r\n                \"mode\": \"palette-classic\"\r\n              },\r\n              \"custom\": {\r\n                \"axisBorderShow\": false,\r\n                \"axisCenteredZero\": false,\r\n                \"axisColorMode\": \"text\",\r\n                \"axisLabel\": \"\",\r\n                \"axisPlacement\": \"auto\",\r\n                \"barAlignment\": 0,\r\n                \"barWidthFactor\": 0.6,\r\n                \"drawStyle\": \"line\",\r\n                \"fillOpacity\": 0,\r\n                \"gradientMode\": \"none\",\r\n                \"hideFrom\": {\r\n                  \"legend\": false,\r\n                  \"tooltip\": false,\r\n                  \"viz\": false\r\n                },\r\n                \"insertNulls\": false,\r\n                \"lineInterpolation\": \"linear\",\r\n                \"lineWidth\": 1,\r\n                \"pointSize\": 5,\r\n                \"scaleDistribution\": {\r\n                  \"type\": \"linear\"\r\n                },\r\n                \"showPoints\": \"never\",\r\n                \"spanNulls\": false,\r\n                \"stacking\": {\r\n                  \"group\": \"A\",\r\n                  \"mode\": \"none\"\r\n                },\r\n                \"thresholdsStyle\": {\r\n                  \"mode\": \"off\"\r\n                }\r\n              },\r\n              \"links\": [],\r\n              \"mappings\": [],\r\n              \"thresholds\": {\r\n                \"mode\": \"absolute\",\r\n                \"steps\": [\r\n                  {\r\n                    \"color\": \"green\"\r\n                  },\r\n                  {\r\n                    \"color\": \"red\",\r\n                    \"value\": 80\r\n                  }\r\n                ]\r\n              },\r\n              \"unit\": \"none\"\r\n            },\r\n            \"overrides\": []\r\n          },\r\n          \"gridPos\": {\r\n            \"h\": 8,\r\n            \"w\": 9,\r\n            \"x\": 6,\r\n            \"y\": 56\r\n          },\r\n          \"id\": 86,\r\n          \"options\": {\r\n            \"legend\": {\r\n              \"calcs\": [\r\n                \"last\",\r\n                \"max\"\r\n              ],\r\n              \"displayMode\": \"table\",\r\n              \"placement\": \"right\",\r\n              \"showLegend\": true,\r\n              \"sortBy\": \"Max\",\r\n              \"sortDesc\": true\r\n            },\r\n            \"tooltip\": {\r\n              \"maxHeight\": 600,\r\n              \"mode\": \"multi\",\r\n              \"sort\": \"desc\"\r\n            }\r\n          },\r\n          \"pluginVersion\": \"11.4.0\",\r\n          \"targets\": [\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"exemplar\": true,\r\n              \"expr\": \"sum(irate(container_cpu_usage_seconds_total{$ext_key=~\\\"$ext_value\\\",container!=\\\"\\\",container!=\\\"POD\\\"}[2m])) by (namespace)>0.1\",\r\n              \"hide\": false,\r\n              \"instant\": false,\r\n              \"interval\": \"\",\r\n              \"intervalFactor\": 1,\r\n              \"legendFormat\": \"{{ namespace }}\",\r\n              \"metric\": \"container_cpu\",\r\n              \"refId\": \"A\",\r\n              \"step\": 10\r\n            }\r\n          ],\r\n          \"title\": \"各命名空间CPU使用核(>0.1)\",\r\n          \"type\": \"timeseries\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"fieldConfig\": {\r\n            \"defaults\": {\r\n              \"color\": {\r\n                \"mode\": \"palette-classic\"\r\n              },\r\n              \"custom\": {\r\n                \"axisBorderShow\": false,\r\n                \"axisCenteredZero\": false,\r\n                \"axisColorMode\": \"text\",\r\n                \"axisLabel\": \"\",\r\n                \"axisPlacement\": \"auto\",\r\n                \"barAlignment\": 0,\r\n                \"barWidthFactor\": 0.6,\r\n                \"drawStyle\": \"line\",\r\n                \"fillOpacity\": 0,\r\n                \"gradientMode\": \"none\",\r\n                \"hideFrom\": {\r\n                  \"legend\": false,\r\n                  \"tooltip\": false,\r\n                  \"viz\": false\r\n                },\r\n                \"insertNulls\": false,\r\n                \"lineInterpolation\": \"linear\",\r\n                \"lineWidth\": 1,\r\n                \"pointSize\": 5,\r\n                \"scaleDistribution\": {\r\n                  \"type\": \"linear\"\r\n                },\r\n                \"showPoints\": \"never\",\r\n                \"spanNulls\": false,\r\n                \"stacking\": {\r\n                  \"group\": \"A\",\r\n                  \"mode\": \"none\"\r\n                },\r\n                \"thresholdsStyle\": {\r\n                  \"mode\": \"off\"\r\n                }\r\n              },\r\n              \"decimals\": 0,\r\n              \"links\": [],\r\n              \"mappings\": [],\r\n              \"thresholds\": {\r\n                \"mode\": \"absolute\",\r\n                \"steps\": [\r\n                  {\r\n                    \"color\": \"green\"\r\n                  },\r\n                  {\r\n                    \"color\": \"red\",\r\n                    \"value\": 80\r\n                  }\r\n                ]\r\n              },\r\n              \"unit\": \"bytes\"\r\n            },\r\n            \"overrides\": []\r\n          },\r\n          \"gridPos\": {\r\n            \"h\": 8,\r\n            \"w\": 9,\r\n            \"x\": 15,\r\n            \"y\": 56\r\n          },\r\n          \"id\": 85,\r\n          \"options\": {\r\n            \"legend\": {\r\n              \"calcs\": [\r\n                \"last\",\r\n                \"max\"\r\n              ],\r\n              \"displayMode\": \"table\",\r\n              \"placement\": \"right\",\r\n              \"showLegend\": true,\r\n              \"sortBy\": \"Max\",\r\n              \"sortDesc\": true\r\n            },\r\n            \"tooltip\": {\r\n              \"maxHeight\": 600,\r\n              \"mode\": \"multi\",\r\n              \"sort\": \"desc\"\r\n            }\r\n          },\r\n          \"pluginVersion\": \"11.4.0\",\r\n          \"targets\": [\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"exemplar\": true,\r\n              \"expr\": \"sum (container_memory_working_set_bytes{$ext_key=~\\\"$ext_value\\\",container!=\\\"\\\",container!=\\\"POD\\\"}) by (namespace) > 1*1024*1024*1024\",\r\n              \"interval\": \"\",\r\n              \"intervalFactor\": 1,\r\n              \"legendFormat\": \"{{namespace} {{ pod }}\",\r\n              \"metric\": \"container_memory_usage:sort_desc\",\r\n              \"range\": true,\r\n              \"refId\": \"A\",\r\n              \"step\": 10\r\n            }\r\n          ],\r\n          \"title\": \"命名空间WSS内存使用(>1G)\",\r\n          \"type\": \"timeseries\"\r\n        }\r\n      ],\r\n      \"title\": \"node-exporter资源信息\",\r\n      \"type\": \"row\"\r\n    },\r\n    {\r\n      \"collapsed\": true,\r\n      \"gridPos\": {\r\n        \"h\": 1,\r\n        \"w\": 24,\r\n        \"x\": 0,\r\n        \"y\": 32\r\n      },\r\n      \"id\": 49,\r\n      \"panels\": [\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"fieldConfig\": {\r\n            \"defaults\": {\r\n              \"color\": {\r\n                \"mode\": \"thresholds\"\r\n              },\r\n              \"custom\": {\r\n                \"align\": \"center\",\r\n                \"cellOptions\": {\r\n                  \"type\": \"auto\"\r\n                },\r\n                \"filterable\": false,\r\n                \"inspect\": false\r\n              },\r\n              \"displayName\": \"\",\r\n              \"mappings\": [],\r\n              \"max\": 100,\r\n              \"min\": 0,\r\n              \"thresholds\": {\r\n                \"mode\": \"percentage\",\r\n                \"steps\": [\r\n                  {\r\n                    \"color\": \"green\"\r\n                  },\r\n                  {\r\n                    \"color\": \"#EAB839\",\r\n                    \"value\": 80\r\n                  },\r\n                  {\r\n                    \"color\": \"red\",\r\n                    \"value\": 90\r\n                  }\r\n                ]\r\n              },\r\n              \"unit\": \"short\"\r\n            },\r\n            \"overrides\": [\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"命名空间\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 96\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"Pod名称\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 158\r\n                  },\r\n                  {\r\n                    \"id\": \"custom.align\",\r\n                    \"value\": \"right\"\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"使用核数\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 71\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"重启\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 38\r\n                  },\r\n                  {\r\n                    \"id\": \"thresholds\",\r\n                    \"value\": {\r\n                      \"mode\": \"absolute\",\r\n                      \"steps\": [\r\n                        {\r\n                          \"color\": \"green\"\r\n                        },\r\n                        {\r\n                          \"color\": \"#EAB839\",\r\n                          \"value\": 1\r\n                        },\r\n                        {\r\n                          \"color\": \"red\",\r\n                          \"value\": 3\r\n                        }\r\n                      ]\r\n                    }\r\n                  },\r\n                  {\r\n                    \"id\": \"custom.cellOptions\",\r\n                    \"value\": {\r\n                      \"mode\": \"gradient\",\r\n                      \"type\": \"color-background\"\r\n                    }\r\n                  },\r\n                  {\r\n                    \"id\": \"decimals\"\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byRegexp\",\r\n                  \"options\": \".*%\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"unit\",\r\n                    \"value\": \"percentunit\"\r\n                  },\r\n                  {\r\n                    \"id\": \"custom.cellOptions\",\r\n                    \"value\": {\r\n                      \"type\": \"color-background\"\r\n                    }\r\n                  },\r\n                  {\r\n                    \"id\": \"color\",\r\n                    \"value\": {\r\n                      \"mode\": \"continuous-GrYlRd\"\r\n                    }\r\n                  },\r\n                  {\r\n                    \"id\": \"decimals\",\r\n                    \"value\": 1\r\n                  },\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 55\r\n                  },\r\n                  {\r\n                    \"id\": \"min\",\r\n                    \"value\": 0\r\n                  },\r\n                  {\r\n                    \"id\": \"max\",\r\n                    \"value\": 1\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byRegexp\",\r\n                  \"options\": \".*限制\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"color\",\r\n                    \"value\": {\r\n                      \"fixedColor\": \"blue\",\r\n                      \"mode\": \"fixed\"\r\n                    }\r\n                  },\r\n                  {\r\n                    \"id\": \"custom.cellOptions\",\r\n                    \"value\": {\r\n                      \"mode\": \"gradient\",\r\n                      \"type\": \"color-background\"\r\n                    }\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"节点\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 100\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byRegexp\",\r\n                  \"options\": \"使用核$|WSS$|RSS$|存活|流入|流出\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.cellOptions\",\r\n                    \"value\": {\r\n                      \"type\": \"color-text\"\r\n                    }\r\n                  },\r\n                  {\r\n                    \"id\": \"color\",\r\n                    \"value\": {\r\n                      \"fixedColor\": \"orange\",\r\n                      \"mode\": \"fixed\"\r\n                    }\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"容器名\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 194\r\n                  },\r\n                  {\r\n                    \"id\": \"custom.align\",\r\n                    \"value\": \"left\"\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"存活\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"unit\",\r\n                    \"value\": \"s\"\r\n                  },\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 80\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"使用核\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 64\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"CPU限制\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 58\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"内存限制\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 76\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"内存需求\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 88\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byRegexp\",\r\n                  \"options\": \"WSS$|RSS$|内存需求$|内存限制$|磁盘.*$\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"unit\",\r\n                    \"value\": \"bytes\"\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"WSS\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 81\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"RSS\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 74\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"CPU需求\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 81\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"磁盘限制\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 83\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"磁盘使用\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 72\r\n                  },\r\n                  {\r\n                    \"id\": \"custom.cellOptions\",\r\n                    \"value\": {\r\n                      \"type\": \"color-background\"\r\n                    }\r\n                  },\r\n                  {\r\n                    \"id\": \"thresholds\",\r\n                    \"value\": {\r\n                      \"mode\": \"absolute\",\r\n                      \"steps\": [\r\n                        {\r\n                          \"color\": \"green\"\r\n                        },\r\n                        {\r\n                          \"color\": \"orange\",\r\n                          \"value\": 10737418240\r\n                        },\r\n                        {\r\n                          \"color\": \"red\",\r\n                          \"value\": 16106127360\r\n                        }\r\n                      ]\r\n                    }\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"WSS%\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 82\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byRegexp\",\r\n                  \"options\": \"/流入|流出/\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"unit\",\r\n                    \"value\": \"binbps\"\r\n                  },\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 80\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"CPU%\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 60\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"RSS%\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 71\r\n                  }\r\n                ]\r\n              }\r\n            ]\r\n          },\r\n          \"gridPos\": {\r\n            \"h\": 10,\r\n            \"w\": 24,\r\n            \"x\": 0,\r\n            \"y\": 491\r\n          },\r\n          \"id\": 47,\r\n          \"options\": {\r\n            \"cellHeight\": \"sm\",\r\n            \"footer\": {\r\n              \"countRows\": false,\r\n              \"enablePagination\": true,\r\n              \"fields\": \"\",\r\n              \"reducer\": [\r\n                \"sum\"\r\n              ],\r\n              \"show\": false\r\n            },\r\n            \"showHeader\": true,\r\n            \"sortBy\": [\r\n              {\r\n                \"desc\": true,\r\n                \"displayName\": \"WSS%\"\r\n              }\r\n            ]\r\n          },\r\n          \"pluginVersion\": \"11.4.0\",\r\n          \"targets\": [\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"exemplar\": false,\r\n              \"expr\": \"sum(irate(container_cpu_usage_seconds_total{$ext_key=~\\\"$ext_value\\\",pod=~\\\"$pod\\\",container=~\\\"$container\\\",container!=\\\"\\\",container!=\\\"POD\\\",node=~\\\"^$node$\\\",namespace=~\\\"$namespace\\\"}[2m])) by (container, pod,node,namespace) / (sum(container_spec_cpu_quota{$ext_key=~\\\"$ext_value\\\",pod=~\\\"$pod\\\",container=~\\\"$container\\\",container!=\\\"\\\",container!=\\\"POD\\\",node=~\\\"^$node$\\\",namespace=~\\\"$namespace\\\"}/100000) by (container, pod,node,namespace)) \",\r\n              \"format\": \"table\",\r\n              \"hide\": false,\r\n              \"instant\": true,\r\n              \"interval\": \"\",\r\n              \"legendFormat\": \"\",\r\n              \"refId\": \"A\"\r\n            },\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"exemplar\": false,\r\n              \"expr\": \"sum(irate(container_cpu_usage_seconds_total{$ext_key=~\\\"$ext_value\\\",pod=~\\\"$pod\\\",container=~\\\"$container\\\",container!=\\\"\\\",container!=\\\"POD\\\",node=~\\\"^$node$\\\",namespace=~\\\"$namespace\\\"}[2m])) by (container, pod,node,namespace)\",\r\n              \"format\": \"table\",\r\n              \"hide\": false,\r\n              \"instant\": true,\r\n              \"interval\": \"\",\r\n              \"legendFormat\": \"CPU核数使用\",\r\n              \"refId\": \"Q\"\r\n            },\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"exemplar\": false,\r\n              \"expr\": \"sum(kube_pod_container_resource_requests{$ext_key=~\\\"$ext_value\\\",resource=\\\"cpu\\\", unit=\\\"core\\\",pod=~\\\"$pod\\\",container=~\\\"$container\\\",node=~\\\"^$node$\\\",namespace=~\\\"$namespace\\\"}) by (container,pod,node,namespace)\",\r\n              \"format\": \"table\",\r\n              \"hide\": false,\r\n              \"instant\": true,\r\n              \"interval\": \"\",\r\n              \"legendFormat\": \"\",\r\n              \"refId\": \"B\"\r\n            },\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"exemplar\": false,\r\n              \"expr\": \"sum(kube_pod_container_resource_limits{$ext_key=~\\\"$ext_value\\\",resource=\\\"cpu\\\", unit=\\\"core\\\",pod=~\\\"$pod\\\",container=~\\\"$container\\\",node=~\\\"^$node$\\\",namespace=~\\\"$namespace\\\"}) by (container,pod,node,namespace)\",\r\n              \"format\": \"table\",\r\n              \"instant\": true,\r\n              \"interval\": \"\",\r\n              \"legendFormat\": \"\",\r\n              \"refId\": \"C\"\r\n            },\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"exemplar\": false,\r\n              \"expr\": \"sum (container_memory_working_set_bytes{$ext_key=~\\\"$ext_value\\\",pod=~\\\"$pod\\\",container=~\\\"$container\\\",container!=\\\"\\\",container!=\\\"POD\\\",node=~\\\"^$node$\\\",namespace=~\\\"$namespace\\\"}) by (container, pod,node,namespace)/ sum(container_spec_memory_limit_bytes{$ext_key=~\\\"$ext_value\\\",pod=~\\\"$pod\\\",container=~\\\"$container\\\",container!=\\\"\\\",container!=\\\"POD\\\",node=~\\\"^$node$\\\",namespace=~\\\"$namespace\\\"}) by (container, pod,node,namespace)\",\r\n              \"format\": \"table\",\r\n              \"hide\": false,\r\n              \"instant\": true,\r\n              \"interval\": \"\",\r\n              \"legendFormat\": \"wss%\",\r\n              \"refId\": \"I\"\r\n            },\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"exemplar\": false,\r\n              \"expr\": \"sum (container_memory_working_set_bytes{$ext_key=~\\\"$ext_value\\\",pod=~\\\"$pod\\\",container=~\\\"$container\\\",container!=\\\"\\\",container!=\\\"POD\\\",node=~\\\"^$node$\\\",namespace=~\\\"$namespace\\\"}) by (container, pod,node,namespace)\",\r\n              \"format\": \"table\",\r\n              \"hide\": false,\r\n              \"instant\": true,\r\n              \"interval\": \"\",\r\n              \"legendFormat\": \"wss\",\r\n              \"refId\": \"D\"\r\n            },\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"exemplar\": false,\r\n              \"expr\": \"sum (container_memory_rss{$ext_key=~\\\"$ext_value\\\",pod=~\\\"$pod\\\",container=~\\\"$container\\\",container!=\\\"\\\",container!=\\\"POD\\\",node=~\\\"^$node$\\\",namespace=~\\\"$namespace\\\"}) by (container, pod,node,namespace)/ sum(container_spec_memory_limit_bytes{$ext_key=~\\\"$ext_value\\\",pod=~\\\"$pod\\\",container=~\\\"$container\\\",container!=\\\"\\\",container!=\\\"POD\\\",node=~\\\"^$node$\\\",namespace=~\\\"$namespace\\\"}) by (container, pod,node,namespace)\",\r\n              \"format\": \"table\",\r\n              \"hide\": false,\r\n              \"instant\": true,\r\n              \"interval\": \"\",\r\n              \"legendFormat\": \"rss%\",\r\n              \"refId\": \"L\"\r\n            },\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"exemplar\": false,\r\n              \"expr\": \"sum (container_memory_rss{$ext_key=~\\\"$ext_value\\\",pod=~\\\"$pod\\\",container=~\\\"$container\\\",container!=\\\"\\\",container!=\\\"POD\\\",node=~\\\"^$node$\\\",namespace=~\\\"$namespace\\\"}) by (container, pod,node,namespace)\",\r\n              \"format\": \"table\",\r\n              \"hide\": false,\r\n              \"instant\": true,\r\n              \"interval\": \"\",\r\n              \"legendFormat\": \"rss\",\r\n              \"refId\": \"K\"\r\n            },\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"exemplar\": false,\r\n              \"expr\": \"sum(kube_pod_container_resource_requests{$ext_key=~\\\"$ext_value\\\",resource=\\\"memory\\\", unit=\\\"byte\\\",pod=~\\\"$pod\\\",container=~\\\"$container\\\",node=~\\\"^$node$\\\",namespace=~\\\"$namespace\\\"}) by (container,pod,node,namespace)\",\r\n              \"format\": \"table\",\r\n              \"hide\": false,\r\n              \"instant\": true,\r\n              \"interval\": \"\",\r\n              \"legendFormat\": \"\",\r\n              \"refId\": \"E\"\r\n            },\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"exemplar\": false,\r\n              \"expr\": \"sum(kube_pod_container_resource_limits{$ext_key=~\\\"$ext_value\\\",resource=\\\"memory\\\", unit=\\\"byte\\\",pod=~\\\"$pod\\\",container=~\\\"$container\\\",node=~\\\"^$node$\\\",namespace=~\\\"$namespace\\\"}) by (container,pod,node,namespace)\",\r\n              \"format\": \"table\",\r\n              \"hide\": false,\r\n              \"instant\": true,\r\n              \"interval\": \"\",\r\n              \"legendFormat\": \"\",\r\n              \"refId\": \"F\"\r\n            },\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"exemplar\": false,\r\n              \"expr\": \"sum(container_fs_usage_bytes{$ext_key=~\\\"$ext_value\\\",pod=~\\\"$pod\\\",container=~\\\"$container\\\",container!=\\\"\\\",container!=\\\"POD\\\",node=~\\\"^$node$\\\",namespace=~\\\"$namespace\\\"}) by (container,pod,node,namespace)\",\r\n              \"format\": \"table\",\r\n              \"instant\": true,\r\n              \"interval\": \"\",\r\n              \"legendFormat\": \"\",\r\n              \"refId\": \"J\"\r\n            },\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"exemplar\": false,\r\n              \"expr\": \"kube_pod_container_status_restarts_total{$ext_key=~\\\"$ext_value\\\",pod=~\\\"$pod\\\",container=~\\\"$container\\\",container!=\\\"\\\",container!=\\\"POD\\\",namespace=~\\\"$namespace\\\"} * on (pod) group_left(node) kube_pod_info{$ext_key=~\\\"$ext_value\\\",pod=~\\\"$pod\\\",node=~\\\"^$node$\\\",namespace=~\\\"$namespace\\\"}\",\r\n              \"format\": \"table\",\r\n              \"hide\": false,\r\n              \"instant\": true,\r\n              \"interval\": \"\",\r\n              \"legendFormat\": \"\",\r\n              \"refId\": \"H\"\r\n            },\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"exemplar\": false,\r\n              \"expr\": \"time() - kube_pod_created{$ext_key=~\\\"$ext_value\\\",pod=~\\\"$pod\\\",namespace=~\\\"$namespace\\\"} * on(pod) group_right kube_pod_container_info{$ext_key=~\\\"$ext_value\\\",pod=~\\\"$pod\\\",namespace=~\\\"$namespace\\\",container=~\\\"$container\\\"}\",\r\n              \"format\": \"table\",\r\n              \"hide\": false,\r\n              \"instant\": true,\r\n              \"interval\": \"\",\r\n              \"legendFormat\": \"__auto\",\r\n              \"refId\": \"R\"\r\n            },\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"exemplar\": false,\r\n              \"expr\": \"sum(container_fs_limit_bytes{$ext_key=~\\\"$ext_value\\\",pod=~\\\"$pod\\\",container=~\\\"$container\\\",container!=\\\"\\\",container!=\\\"POD\\\",node=~\\\"^$node$\\\",namespace=~\\\"$namespace\\\"}) by (container,pod,node,namespace)\",\r\n              \"format\": \"table\",\r\n              \"hide\": false,\r\n              \"instant\": true,\r\n              \"interval\": \"\",\r\n              \"legendFormat\": \"\",\r\n              \"refId\": \"S\"\r\n            },\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"exemplar\": false,\r\n              \"expr\": \"sum(sum(irate(container_network_receive_bytes_total{$ext_key=~\\\"$ext_value\\\",pod=~\\\"$pod\\\",node=~\\\"^$node$\\\",namespace=~\\\"$namespace\\\"}[2m])) by (pod)* on(pod) group_right kube_pod_container_info{$ext_key=~\\\"$ext_value\\\",pod=~\\\"$pod\\\",namespace=~\\\"$namespace\\\",container=~\\\"$container\\\"}) by(pod) *8\",\r\n              \"format\": \"table\",\r\n              \"hide\": false,\r\n              \"instant\": true,\r\n              \"interval\": \"\",\r\n              \"legendFormat\": \"__auto\",\r\n              \"refId\": \"T\"\r\n            },\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"exemplar\": false,\r\n              \"expr\": \"sum(sum(irate(container_network_transmit_bytes_total{$ext_key=~\\\"$ext_value\\\",pod=~\\\"$pod\\\",node=~\\\"^$node$\\\",namespace=~\\\"$namespace\\\"}[2m])) by (pod)* on(pod) group_right kube_pod_container_info{$ext_key=~\\\"$ext_value\\\",pod=~\\\"$pod\\\",namespace=~\\\"$namespace\\\",container=~\\\"$container\\\"}) by(pod) *8\",\r\n              \"format\": \"table\",\r\n              \"hide\": false,\r\n              \"instant\": true,\r\n              \"interval\": \"\",\r\n              \"legendFormat\": \"__auto\",\r\n              \"refId\": \"U\"\r\n            }\r\n          ],\r\n          \"title\": \"$node：Pod资源明细(可关联节点) $container\",\r\n          \"transformations\": [\r\n            {\r\n              \"id\": \"merge\",\r\n              \"options\": {}\r\n            },\r\n            {\r\n              \"id\": \"organize\",\r\n              \"options\": {\r\n                \"excludeByName\": {\r\n                  \"Time\": true,\r\n                  \"Time 1\": true,\r\n                  \"Time 10\": true,\r\n                  \"Time 11\": true,\r\n                  \"Time 12\": true,\r\n                  \"Time 13\": true,\r\n                  \"Time 2\": true,\r\n                  \"Time 3\": true,\r\n                  \"Time 4\": true,\r\n                  \"Time 5\": true,\r\n                  \"Time 6\": true,\r\n                  \"Time 7\": true,\r\n                  \"Time 8\": true,\r\n                  \"Time 9\": true,\r\n                  \"Value #G\": false,\r\n                  \"__name__\": true,\r\n                  \"app_kubernetes_io_name\": true,\r\n                  \"app_kubernetes_io_name 1\": true,\r\n                  \"app_kubernetes_io_name 2\": true,\r\n                  \"app_kubernetes_io_version\": true,\r\n                  \"app_kubernetes_io_version 1\": true,\r\n                  \"app_kubernetes_io_version 2\": true,\r\n                  \"container 1\": true,\r\n                  \"container 10\": true,\r\n                  \"container 11\": true,\r\n                  \"container 12\": true,\r\n                  \"container 2\": true,\r\n                  \"container 3\": true,\r\n                  \"container 4\": true,\r\n                  \"container 5\": true,\r\n                  \"container 6\": true,\r\n                  \"container 7\": true,\r\n                  \"container 8\": true,\r\n                  \"container 9\": true,\r\n                  \"created_by_kind\": true,\r\n                  \"created_by_name\": true,\r\n                  \"host_ip\": true,\r\n                  \"instance\": true,\r\n                  \"instance 1\": true,\r\n                  \"instance 2\": true,\r\n                  \"job\": true,\r\n                  \"job 1\": true,\r\n                  \"job 2\": true,\r\n                  \"k8s_namespace\": true,\r\n                  \"k8s_namespace 1\": true,\r\n                  \"k8s_namespace 2\": true,\r\n                  \"k8s_sname\": true,\r\n                  \"k8s_sname 1\": true,\r\n                  \"k8s_sname 2\": true,\r\n                  \"namespace\": false,\r\n                  \"namespace 1\": true,\r\n                  \"namespace 10\": true,\r\n                  \"namespace 11\": true,\r\n                  \"namespace 12\": false,\r\n                  \"namespace 2\": true,\r\n                  \"namespace 3\": true,\r\n                  \"namespace 4\": true,\r\n                  \"namespace 5\": true,\r\n                  \"namespace 6\": true,\r\n                  \"namespace 7\": true,\r\n                  \"namespace 8\": true,\r\n                  \"namespace 9\": true,\r\n                  \"node 1\": true,\r\n                  \"node 10\": true,\r\n                  \"node 11\": false,\r\n                  \"node 12\": true,\r\n                  \"node 2\": true,\r\n                  \"node 3\": true,\r\n                  \"node 4\": true,\r\n                  \"node 5\": true,\r\n                  \"node 6\": true,\r\n                  \"node 7\": true,\r\n                  \"node 8\": true,\r\n                  \"node 9\": true,\r\n                  \"origin_prometheus\": true,\r\n                  \"origin_prometheus 1\": true,\r\n                  \"origin_prometheus 2\": true,\r\n                  \"phase\": true,\r\n                  \"pod_ip\": true,\r\n                  \"priority_class\": true,\r\n                  \"uid\": true\r\n                },\r\n                \"includeByName\": {},\r\n                \"indexByName\": {\r\n                  \"Time\": 21,\r\n                  \"Value #A\": 4,\r\n                  \"Value #B\": 16,\r\n                  \"Value #C\": 7,\r\n                  \"Value #D\": 10,\r\n                  \"Value #E\": 17,\r\n                  \"Value #F\": 9,\r\n                  \"Value #G\": 23,\r\n                  \"Value #H\": 14,\r\n                  \"Value #I\": 5,\r\n                  \"Value #J\": 13,\r\n                  \"Value #K\": 11,\r\n                  \"Value #L\": 6,\r\n                  \"Value #M\": 24,\r\n                  \"Value #N\": 25,\r\n                  \"Value #O\": 26,\r\n                  \"Value #P\": 27,\r\n                  \"Value #Q\": 8,\r\n                  \"Value #R\": 15,\r\n                  \"Value #S\": 12,\r\n                  \"container\": 2,\r\n                  \"instance\": 18,\r\n                  \"ip\": 28,\r\n                  \"job\": 19,\r\n                  \"namespace\": 1,\r\n                  \"node\": 0,\r\n                  \"origin_prometheus\": 20,\r\n                  \"pod\": 3,\r\n                  \"uid\": 22\r\n                },\r\n                \"renameByName\": {\r\n                  \"Value #A\": \"CPU%\",\r\n                  \"Value #B\": \"CPU需求\",\r\n                  \"Value #C\": \"CPU限制\",\r\n                  \"Value #D\": \"WSS\",\r\n                  \"Value #E\": \"内存需求\",\r\n                  \"Value #F\": \"内存限制\",\r\n                  \"Value #H\": \"重启\",\r\n                  \"Value #I\": \"WSS%\",\r\n                  \"Value #J\": \"磁盘使用\",\r\n                  \"Value #K\": \"RSS\",\r\n                  \"Value #L\": \"RSS%\",\r\n                  \"Value #M\": \"堆内存\",\r\n                  \"Value #N\": \"max堆\",\r\n                  \"Value #O\": \"非堆\",\r\n                  \"Value #P\": \"max非堆\",\r\n                  \"Value #Q\": \"使用核\",\r\n                  \"Value #R\": \"存活\",\r\n                  \"Value #S\": \"磁盘限制\",\r\n                  \"Value #T\": \"流入\",\r\n                  \"Value #U\": \"流出\",\r\n                  \"container\": \"容器名\",\r\n                  \"instance\": \"\",\r\n                  \"ip\": \"POD IP\",\r\n                  \"namespace\": \"命名空间\",\r\n                  \"namespace 1\": \"\",\r\n                  \"namespace 12\": \"命名空间\",\r\n                  \"node\": \"节点\",\r\n                  \"node 1\": \"\",\r\n                  \"node 11\": \"节点\",\r\n                  \"pod\": \"Pod名称\",\r\n                  \"priority_class\": \"\"\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"id\": \"filterFieldsByName\",\r\n              \"options\": {\r\n                \"include\": {\r\n                  \"names\": [\r\n                    \"节点\",\r\n                    \"命名空间\",\r\n                    \"容器名\",\r\n                    \"Pod名称\",\r\n                    \"CPU%\",\r\n                    \"WSS%\",\r\n                    \"RSS%\",\r\n                    \"CPU限制\",\r\n                    \"使用核\",\r\n                    \"内存限制\",\r\n                    \"WSS\",\r\n                    \"RSS\",\r\n                    \"磁盘限制\",\r\n                    \"磁盘使用\",\r\n                    \"重启\",\r\n                    \"CPU需求\",\r\n                    \"内存需求\",\r\n                    \"流入\",\r\n                    \"流出\",\r\n                    \"存活\"\r\n                  ]\r\n                }\r\n              }\r\n            }\r\n          ],\r\n          \"type\": \"table\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"fieldConfig\": {\r\n            \"defaults\": {\r\n              \"color\": {\r\n                \"mode\": \"palette-classic\"\r\n              },\r\n              \"custom\": {\r\n                \"axisBorderShow\": false,\r\n                \"axisCenteredZero\": false,\r\n                \"axisColorMode\": \"text\",\r\n                \"axisLabel\": \"\",\r\n                \"axisPlacement\": \"auto\",\r\n                \"barAlignment\": 0,\r\n                \"barWidthFactor\": 0.6,\r\n                \"drawStyle\": \"line\",\r\n                \"fillOpacity\": 0,\r\n                \"gradientMode\": \"none\",\r\n                \"hideFrom\": {\r\n                  \"legend\": false,\r\n                  \"tooltip\": false,\r\n                  \"viz\": false\r\n                },\r\n                \"insertNulls\": false,\r\n                \"lineInterpolation\": \"linear\",\r\n                \"lineWidth\": 1,\r\n                \"pointSize\": 5,\r\n                \"scaleDistribution\": {\r\n                  \"type\": \"linear\"\r\n                },\r\n                \"showPoints\": \"never\",\r\n                \"spanNulls\": false,\r\n                \"stacking\": {\r\n                  \"group\": \"A\",\r\n                  \"mode\": \"none\"\r\n                },\r\n                \"thresholdsStyle\": {\r\n                  \"mode\": \"off\"\r\n                }\r\n              },\r\n              \"links\": [],\r\n              \"mappings\": [],\r\n              \"thresholds\": {\r\n                \"mode\": \"absolute\",\r\n                \"steps\": [\r\n                  {\r\n                    \"color\": \"green\"\r\n                  },\r\n                  {\r\n                    \"color\": \"red\",\r\n                    \"value\": 80\r\n                  }\r\n                ]\r\n              },\r\n              \"unit\": \"percent\"\r\n            },\r\n            \"overrides\": []\r\n          },\r\n          \"gridPos\": {\r\n            \"h\": 9,\r\n            \"w\": 8,\r\n            \"x\": 0,\r\n            \"y\": 551\r\n          },\r\n          \"id\": 58,\r\n          \"options\": {\r\n            \"legend\": {\r\n              \"calcs\": [\r\n                \"mean\",\r\n                \"max\"\r\n              ],\r\n              \"displayMode\": \"table\",\r\n              \"placement\": \"bottom\",\r\n              \"showLegend\": true,\r\n              \"sortBy\": \"Mean\",\r\n              \"sortDesc\": true\r\n            },\r\n            \"tooltip\": {\r\n              \"mode\": \"multi\",\r\n              \"sort\": \"desc\"\r\n            }\r\n          },\r\n          \"pluginVersion\": \"11.4.0\",\r\n          \"targets\": [\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"exemplar\": true,\r\n              \"expr\": \"max(irate(container_cpu_usage_seconds_total{$ext_key=~\\\"$ext_value\\\",pod=~\\\"$pod\\\",container=~\\\"$container\\\",container!=\\\"\\\",container!=\\\"POD\\\",node=~\\\"^$node$\\\",namespace=~\\\"$namespace\\\"}[2m])) by (container, pod) / (max(container_spec_cpu_quota{$ext_key=~\\\"$ext_value\\\",pod=~\\\"$pod\\\",container=~\\\"$container\\\",container!=\\\"\\\",container!=\\\"POD\\\",node=~\\\"^$node$\\\",namespace=~\\\"$namespace\\\"}/100000) by (container, pod)) * 100\",\r\n              \"hide\": false,\r\n              \"instant\": false,\r\n              \"interval\": \"\",\r\n              \"intervalFactor\": 1,\r\n              \"legendFormat\": \"{{ pod }}\",\r\n              \"metric\": \"container_cpu\",\r\n              \"refId\": \"A\",\r\n              \"step\": 10\r\n            }\r\n          ],\r\n          \"title\": \"Pod容器CPU使用率(最大100%可关联节点)\",\r\n          \"type\": \"timeseries\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"fieldConfig\": {\r\n            \"defaults\": {\r\n              \"color\": {\r\n                \"mode\": \"palette-classic\"\r\n              },\r\n              \"custom\": {\r\n                \"axisBorderShow\": false,\r\n                \"axisCenteredZero\": false,\r\n                \"axisColorMode\": \"text\",\r\n                \"axisLabel\": \"\",\r\n                \"axisPlacement\": \"auto\",\r\n                \"barAlignment\": 0,\r\n                \"barWidthFactor\": 0.6,\r\n                \"drawStyle\": \"line\",\r\n                \"fillOpacity\": 0,\r\n                \"gradientMode\": \"none\",\r\n                \"hideFrom\": {\r\n                  \"legend\": false,\r\n                  \"tooltip\": false,\r\n                  \"viz\": false\r\n                },\r\n                \"insertNulls\": false,\r\n                \"lineInterpolation\": \"linear\",\r\n                \"lineWidth\": 1,\r\n                \"pointSize\": 5,\r\n                \"scaleDistribution\": {\r\n                  \"type\": \"linear\"\r\n                },\r\n                \"showPoints\": \"never\",\r\n                \"spanNulls\": false,\r\n                \"stacking\": {\r\n                  \"group\": \"A\",\r\n                  \"mode\": \"none\"\r\n                },\r\n                \"thresholdsStyle\": {\r\n                  \"mode\": \"off\"\r\n                }\r\n              },\r\n              \"links\": [],\r\n              \"mappings\": [],\r\n              \"thresholds\": {\r\n                \"mode\": \"absolute\",\r\n                \"steps\": [\r\n                  {\r\n                    \"color\": \"green\"\r\n                  },\r\n                  {\r\n                    \"color\": \"red\",\r\n                    \"value\": 80\r\n                  }\r\n                ]\r\n              },\r\n              \"unit\": \"percent\"\r\n            },\r\n            \"overrides\": []\r\n          },\r\n          \"gridPos\": {\r\n            \"h\": 9,\r\n            \"w\": 8,\r\n            \"x\": 8,\r\n            \"y\": 551\r\n          },\r\n          \"id\": 27,\r\n          \"options\": {\r\n            \"legend\": {\r\n              \"calcs\": [\r\n                \"mean\",\r\n                \"max\"\r\n              ],\r\n              \"displayMode\": \"table\",\r\n              \"placement\": \"bottom\",\r\n              \"showLegend\": true\r\n            },\r\n            \"tooltip\": {\r\n              \"maxHeight\": 600,\r\n              \"mode\": \"multi\",\r\n              \"sort\": \"desc\"\r\n            }\r\n          },\r\n          \"pluginVersion\": \"11.4.0\",\r\n          \"targets\": [\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"exemplar\": false,\r\n              \"expr\": \"max (container_memory_working_set_bytes{$ext_key=~\\\"$ext_value\\\",pod=~\\\"$pod\\\",container=~\\\"$container\\\",container!=\\\"\\\",container!=\\\"POD\\\",node=~\\\"^$node$\\\",namespace=~\\\"$namespace\\\"}) by (container, pod)/ max(container_spec_memory_limit_bytes{$ext_key=~\\\"$ext_value\\\",pod=~\\\"$pod\\\",container=~\\\"$container\\\",container!=\\\"\\\",container!=\\\"POD\\\",node=~\\\"^$node$\\\",namespace=~\\\"$namespace\\\"}) by (container, pod) * 100\",\r\n              \"interval\": \"\",\r\n              \"intervalFactor\": 1,\r\n              \"legendFormat\": \"WSS：{{ pod }}\",\r\n              \"metric\": \"container_memory_usage:sort_desc\",\r\n              \"range\": true,\r\n              \"refId\": \"A\",\r\n              \"step\": 10\r\n            },\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"exemplar\": false,\r\n              \"expr\": \"max (container_memory_rss{$ext_key=~\\\"$ext_value\\\",pod=~\\\"$pod\\\",container=~\\\"$container\\\",container!=\\\"\\\",container!=\\\"POD\\\",node=~\\\"^$node$\\\",namespace=~\\\"$namespace\\\"}) by (container, pod)/ max(container_spec_memory_limit_bytes{$ext_key=~\\\"$ext_value\\\",pod=~\\\"$pod\\\",container=~\\\"$container\\\",container!=\\\"\\\",container!=\\\"POD\\\",node=~\\\"^$node$\\\",namespace=~\\\"$namespace\\\"}) by (container, pod) * 100\",\r\n              \"interval\": \"\",\r\n              \"intervalFactor\": 1,\r\n              \"legendFormat\": \"RSS：{{ pod }}\",\r\n              \"metric\": \"container_memory_usage:sort_desc\",\r\n              \"range\": true,\r\n              \"refId\": \"B\",\r\n              \"step\": 10\r\n            },\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"exemplar\": true,\r\n              \"expr\": \"(cass_jvm_heap{service=~\\\"$container\\\"} * on (pod_ip) group_right(service) kube_pod_info{$ext_key=~\\\"$ext_value\\\",pod=~\\\"$pod\\\",namespace=~\\\"$namespace\\\"}) / (cass_jvm_heap_max{service=~\\\"$container\\\"} * on (pod_ip) group_right(service) kube_pod_info{$ext_key=~\\\"$ext_value\\\",pod=~\\\"$pod\\\",namespace=~\\\"$namespace\\\"}) * 100\",\r\n              \"hide\": true,\r\n              \"instant\": false,\r\n              \"interval\": \"\",\r\n              \"intervalFactor\": 1,\r\n              \"legendFormat\": \"Heap：{{ pod }}\",\r\n              \"metric\": \"container_memory_usage:sort_desc\",\r\n              \"refId\": \"C\",\r\n              \"step\": 10\r\n            }\r\n          ],\r\n          \"title\": \"Pod容器内存使用率(可关联节点)\",\r\n          \"type\": \"timeseries\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"fieldConfig\": {\r\n            \"defaults\": {\r\n              \"color\": {\r\n                \"mode\": \"palette-classic\"\r\n              },\r\n              \"custom\": {\r\n                \"axisBorderShow\": false,\r\n                \"axisCenteredZero\": false,\r\n                \"axisColorMode\": \"text\",\r\n                \"axisLabel\": \"\",\r\n                \"axisPlacement\": \"auto\",\r\n                \"barAlignment\": 0,\r\n                \"barWidthFactor\": 0.6,\r\n                \"drawStyle\": \"line\",\r\n                \"fillOpacity\": 0,\r\n                \"gradientMode\": \"none\",\r\n                \"hideFrom\": {\r\n                  \"legend\": false,\r\n                  \"tooltip\": false,\r\n                  \"viz\": false\r\n                },\r\n                \"insertNulls\": false,\r\n                \"lineInterpolation\": \"linear\",\r\n                \"lineWidth\": 1,\r\n                \"pointSize\": 5,\r\n                \"scaleDistribution\": {\r\n                  \"type\": \"linear\"\r\n                },\r\n                \"showPoints\": \"never\",\r\n                \"spanNulls\": false,\r\n                \"stacking\": {\r\n                  \"group\": \"A\",\r\n                  \"mode\": \"none\"\r\n                },\r\n                \"thresholdsStyle\": {\r\n                  \"mode\": \"off\"\r\n                }\r\n              },\r\n              \"links\": [],\r\n              \"mappings\": [],\r\n              \"thresholds\": {\r\n                \"mode\": \"absolute\",\r\n                \"steps\": [\r\n                  {\r\n                    \"color\": \"green\"\r\n                  },\r\n                  {\r\n                    \"color\": \"red\",\r\n                    \"value\": 80\r\n                  }\r\n                ]\r\n              },\r\n              \"unit\": \"binbps\"\r\n            },\r\n            \"overrides\": []\r\n          },\r\n          \"gridPos\": {\r\n            \"h\": 9,\r\n            \"w\": 8,\r\n            \"x\": 16,\r\n            \"y\": 551\r\n          },\r\n          \"id\": 77,\r\n          \"options\": {\r\n            \"legend\": {\r\n              \"calcs\": [\r\n                \"mean\",\r\n                \"max\"\r\n              ],\r\n              \"displayMode\": \"table\",\r\n              \"placement\": \"bottom\",\r\n              \"showLegend\": true\r\n            },\r\n            \"tooltip\": {\r\n              \"maxHeight\": 600,\r\n              \"mode\": \"multi\",\r\n              \"sort\": \"desc\"\r\n            }\r\n          },\r\n          \"pluginVersion\": \"11.4.0\",\r\n          \"targets\": [\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"exemplar\": false,\r\n              \"expr\": \"max(max(irate(container_network_receive_bytes_total{$ext_key=~\\\"$ext_value\\\",pod=~\\\"$pod\\\",node=~\\\"^$node$\\\",namespace=~\\\"$namespace\\\"}[2m])) by (pod)* on(pod) group_right kube_pod_container_info{$ext_key=~\\\"$ext_value\\\",pod=~\\\"$pod\\\",namespace=~\\\"$namespace\\\",container=~\\\"$container\\\"}) by(pod) *8\",\r\n              \"hide\": false,\r\n              \"interval\": \"\",\r\n              \"intervalFactor\": 1,\r\n              \"legendFormat\": \"流入:{{ pod}}\",\r\n              \"metric\": \"network\",\r\n              \"range\": true,\r\n              \"refId\": \"A\",\r\n              \"step\": 10\r\n            },\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"exemplar\": false,\r\n              \"expr\": \"max(max(irate(container_network_transmit_bytes_total{$ext_key=~\\\"$ext_value\\\",pod=~\\\"$pod\\\",node=~\\\"^$node$\\\",namespace=~\\\"$namespace\\\"}[2m])) by (pod)* on(pod) group_right kube_pod_container_info{$ext_key=~\\\"$ext_value\\\",pod=~\\\"$pod\\\",namespace=~\\\"$namespace\\\",container=~\\\"$container\\\"}) by(pod) *8\",\r\n              \"interval\": \"\",\r\n              \"intervalFactor\": 1,\r\n              \"legendFormat\": \"流出:{{ pod}}\",\r\n              \"metric\": \"network\",\r\n              \"range\": true,\r\n              \"refId\": \"B\",\r\n              \"step\": 10\r\n            },\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"expr\": \"sum(sum(irate(container_network_receive_bytes_total{$ext_key=~\\\"$ext_value\\\",pod=~\\\"$pod\\\",image!=\\\"\\\",name=~\\\"^k8s_.*\\\",node=~\\\"^$node$\\\",namespace=~\\\"$namespace\\\",pod=~\\\".*$container.*\\\"}[2m])) by (pod)* on(pod) group_right kube_pod_container_info) by(pod) *8\",\r\n              \"hide\": true,\r\n              \"interval\": \"\",\r\n              \"intervalFactor\": 1,\r\n              \"legendFormat\": \"__auto\",\r\n              \"metric\": \"network\",\r\n              \"range\": true,\r\n              \"refId\": \"C\",\r\n              \"step\": 10\r\n            },\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"expr\": \"sum(sum(irate(container_network_transmit_bytes_total{$ext_key=~\\\"$ext_value\\\",pod=~\\\"$pod\\\",image!=\\\"\\\",name=~\\\"^k8s_.*\\\",node=~\\\"^$node$\\\",namespace=~\\\"$namespace\\\",pod=~\\\".*$container.*\\\"}[2m])) by (pod)* on(pod) group_right kube_pod_container_info) by(pod) *8\",\r\n              \"hide\": true,\r\n              \"interval\": \"\",\r\n              \"intervalFactor\": 1,\r\n              \"legendFormat\": \"__auto\",\r\n              \"metric\": \"network\",\r\n              \"range\": true,\r\n              \"refId\": \"D\",\r\n              \"step\": 10\r\n            }\r\n          ],\r\n          \"title\": \"Pod每秒网络带宽 (可关联节点)\",\r\n          \"type\": \"timeseries\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"fieldConfig\": {\r\n            \"defaults\": {\r\n              \"color\": {\r\n                \"mode\": \"palette-classic\"\r\n              },\r\n              \"custom\": {\r\n                \"axisBorderShow\": false,\r\n                \"axisCenteredZero\": false,\r\n                \"axisColorMode\": \"text\",\r\n                \"axisLabel\": \"\",\r\n                \"axisPlacement\": \"auto\",\r\n                \"barAlignment\": 0,\r\n                \"barWidthFactor\": 0.6,\r\n                \"drawStyle\": \"line\",\r\n                \"fillOpacity\": 0,\r\n                \"gradientMode\": \"none\",\r\n                \"hideFrom\": {\r\n                  \"legend\": false,\r\n                  \"tooltip\": false,\r\n                  \"viz\": false\r\n                },\r\n                \"insertNulls\": false,\r\n                \"lineInterpolation\": \"linear\",\r\n                \"lineWidth\": 1,\r\n                \"pointSize\": 5,\r\n                \"scaleDistribution\": {\r\n                  \"type\": \"linear\"\r\n                },\r\n                \"showPoints\": \"never\",\r\n                \"spanNulls\": false,\r\n                \"stacking\": {\r\n                  \"group\": \"A\",\r\n                  \"mode\": \"none\"\r\n                },\r\n                \"thresholdsStyle\": {\r\n                  \"mode\": \"off\"\r\n                }\r\n              },\r\n              \"links\": [],\r\n              \"mappings\": [],\r\n              \"thresholds\": {\r\n                \"mode\": \"absolute\",\r\n                \"steps\": [\r\n                  {\r\n                    \"color\": \"green\"\r\n                  },\r\n                  {\r\n                    \"color\": \"red\",\r\n                    \"value\": 80\r\n                  }\r\n                ]\r\n              },\r\n              \"unit\": \"none\"\r\n            },\r\n            \"overrides\": [\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byRegexp\",\r\n                  \"options\": \"/限制.*/\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"color\",\r\n                    \"value\": {\r\n                      \"fixedColor\": \"red\",\r\n                      \"mode\": \"fixed\"\r\n                    }\r\n                  },\r\n                  {\r\n                    \"id\": \"custom.hideFrom\",\r\n                    \"value\": {\r\n                      \"legend\": true,\r\n                      \"tooltip\": true,\r\n                      \"viz\": false\r\n                    }\r\n                  }\r\n                ]\r\n              }\r\n            ]\r\n          },\r\n          \"gridPos\": {\r\n            \"h\": 9,\r\n            \"w\": 8,\r\n            \"x\": 0,\r\n            \"y\": 560\r\n          },\r\n          \"id\": 82,\r\n          \"options\": {\r\n            \"legend\": {\r\n              \"calcs\": [\r\n                \"mean\",\r\n                \"max\"\r\n              ],\r\n              \"displayMode\": \"table\",\r\n              \"placement\": \"bottom\",\r\n              \"showLegend\": true,\r\n              \"sortBy\": \"Max\",\r\n              \"sortDesc\": true\r\n            },\r\n            \"tooltip\": {\r\n              \"maxHeight\": 600,\r\n              \"mode\": \"multi\",\r\n              \"sort\": \"desc\"\r\n            }\r\n          },\r\n          \"pluginVersion\": \"11.4.0\",\r\n          \"targets\": [\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"exemplar\": true,\r\n              \"expr\": \"max(irate(container_cpu_usage_seconds_total{$ext_key=~\\\"$ext_value\\\",pod=~\\\"$pod\\\",container=~\\\"$container\\\",container!=\\\"\\\",container!=\\\"POD\\\",node=~\\\"^$node$\\\",namespace=~\\\"$namespace\\\"}[2m])) by (container, pod,node,namespace)\",\r\n              \"hide\": false,\r\n              \"instant\": false,\r\n              \"interval\": \"\",\r\n              \"intervalFactor\": 1,\r\n              \"legendFormat\": \"CPU使用：{{ pod }}\",\r\n              \"metric\": \"container_cpu\",\r\n              \"refId\": \"A\",\r\n              \"step\": 10\r\n            },\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"exemplar\": true,\r\n              \"expr\": \"max(max(kube_pod_container_resource_limits{$ext_key=~\\\"$ext_value\\\",resource=\\\"cpu\\\", unit=\\\"core\\\",pod=~\\\"$pod\\\",container=~\\\"$container\\\",node=~\\\"^$node$\\\",namespace=~\\\"$namespace\\\"}) by (container,pod,node,namespace)) by(container)\",\r\n              \"hide\": false,\r\n              \"instant\": false,\r\n              \"interval\": \"\",\r\n              \"intervalFactor\": 1,\r\n              \"legendFormat\": \"Pod CPU限制：{{ container}}\",\r\n              \"metric\": \"container_cpu\",\r\n              \"refId\": \"B\",\r\n              \"step\": 10\r\n            }\r\n          ],\r\n          \"title\": \"Pod容器CPU核使用\",\r\n          \"type\": \"timeseries\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"fieldConfig\": {\r\n            \"defaults\": {\r\n              \"color\": {\r\n                \"mode\": \"palette-classic\"\r\n              },\r\n              \"custom\": {\r\n                \"axisBorderShow\": false,\r\n                \"axisCenteredZero\": false,\r\n                \"axisColorMode\": \"text\",\r\n                \"axisLabel\": \"\",\r\n                \"axisPlacement\": \"auto\",\r\n                \"barAlignment\": 0,\r\n                \"barWidthFactor\": 0.6,\r\n                \"drawStyle\": \"line\",\r\n                \"fillOpacity\": 0,\r\n                \"gradientMode\": \"none\",\r\n                \"hideFrom\": {\r\n                  \"legend\": false,\r\n                  \"tooltip\": false,\r\n                  \"viz\": false\r\n                },\r\n                \"insertNulls\": false,\r\n                \"lineInterpolation\": \"linear\",\r\n                \"lineWidth\": 1,\r\n                \"pointSize\": 5,\r\n                \"scaleDistribution\": {\r\n                  \"type\": \"linear\"\r\n                },\r\n                \"showPoints\": \"never\",\r\n                \"spanNulls\": false,\r\n                \"stacking\": {\r\n                  \"group\": \"A\",\r\n                  \"mode\": \"none\"\r\n                },\r\n                \"thresholdsStyle\": {\r\n                  \"mode\": \"off\"\r\n                }\r\n              },\r\n              \"links\": [],\r\n              \"mappings\": [],\r\n              \"thresholds\": {\r\n                \"mode\": \"absolute\",\r\n                \"steps\": [\r\n                  {\r\n                    \"color\": \"green\"\r\n                  },\r\n                  {\r\n                    \"color\": \"red\",\r\n                    \"value\": 80\r\n                  }\r\n                ]\r\n              },\r\n              \"unit\": \"bytes\"\r\n            },\r\n            \"overrides\": [\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byRegexp\",\r\n                  \"options\": \"/.*限制/\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"color\",\r\n                    \"value\": {\r\n                      \"fixedColor\": \"red\",\r\n                      \"mode\": \"fixed\"\r\n                    }\r\n                  }\r\n                ]\r\n              }\r\n            ]\r\n          },\r\n          \"gridPos\": {\r\n            \"h\": 9,\r\n            \"w\": 8,\r\n            \"x\": 8,\r\n            \"y\": 560\r\n          },\r\n          \"id\": 84,\r\n          \"options\": {\r\n            \"legend\": {\r\n              \"calcs\": [\r\n                \"mean\",\r\n                \"max\"\r\n              ],\r\n              \"displayMode\": \"table\",\r\n              \"placement\": \"bottom\",\r\n              \"showLegend\": true,\r\n              \"sortBy\": \"Max\",\r\n              \"sortDesc\": true\r\n            },\r\n            \"tooltip\": {\r\n              \"maxHeight\": 600,\r\n              \"mode\": \"multi\",\r\n              \"sort\": \"desc\"\r\n            }\r\n          },\r\n          \"pluginVersion\": \"11.4.0\",\r\n          \"targets\": [\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"exemplar\": false,\r\n              \"expr\": \"max (container_memory_working_set_bytes{$ext_key=~\\\"$ext_value\\\",pod=~\\\"$pod\\\",container=~\\\"$container\\\",container!=\\\"\\\",container!=\\\"POD\\\",node=~\\\"^$node$\\\",namespace=~\\\"$namespace\\\"}) by (container, pod,node,namespace)\",\r\n              \"interval\": \"\",\r\n              \"intervalFactor\": 1,\r\n              \"legendFormat\": \"WSS：{{ pod }}\",\r\n              \"metric\": \"container_memory_usage:sort_desc\",\r\n              \"range\": true,\r\n              \"refId\": \"A\",\r\n              \"step\": 10\r\n            },\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"exemplar\": false,\r\n              \"expr\": \"max(max(kube_pod_container_resource_limits{$ext_key=~\\\"$ext_value\\\",resource=\\\"memory\\\", unit=\\\"byte\\\",pod=~\\\"$pod\\\",container=~\\\"$container\\\",node=~\\\"^$node$\\\",namespace=~\\\"$namespace\\\"}) by (container,pod,node,namespace)) by(container)\",\r\n              \"hide\": false,\r\n              \"interval\": \"\",\r\n              \"intervalFactor\": 1,\r\n              \"legendFormat\": \"Pod内存限制：{{ container}}\",\r\n              \"metric\": \"container_memory_usage:sort_desc\",\r\n              \"range\": true,\r\n              \"refId\": \"B\",\r\n              \"step\": 10\r\n            }\r\n          ],\r\n          \"title\": \"Pod容器WSS内存使用(可关联节点)\",\r\n          \"type\": \"timeseries\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"fieldConfig\": {\r\n            \"defaults\": {\r\n              \"color\": {\r\n                \"mode\": \"palette-classic\"\r\n              },\r\n              \"custom\": {\r\n                \"axisBorderShow\": false,\r\n                \"axisCenteredZero\": false,\r\n                \"axisColorMode\": \"text\",\r\n                \"axisLabel\": \"\",\r\n                \"axisPlacement\": \"auto\",\r\n                \"barAlignment\": 0,\r\n                \"barWidthFactor\": 0.6,\r\n                \"drawStyle\": \"line\",\r\n                \"fillOpacity\": 0,\r\n                \"gradientMode\": \"none\",\r\n                \"hideFrom\": {\r\n                  \"legend\": false,\r\n                  \"tooltip\": false,\r\n                  \"viz\": false\r\n                },\r\n                \"insertNulls\": false,\r\n                \"lineInterpolation\": \"linear\",\r\n                \"lineWidth\": 1,\r\n                \"pointSize\": 5,\r\n                \"scaleDistribution\": {\r\n                  \"type\": \"linear\"\r\n                },\r\n                \"showPoints\": \"never\",\r\n                \"spanNulls\": false,\r\n                \"stacking\": {\r\n                  \"group\": \"A\",\r\n                  \"mode\": \"none\"\r\n                },\r\n                \"thresholdsStyle\": {\r\n                  \"mode\": \"off\"\r\n                }\r\n              },\r\n              \"links\": [],\r\n              \"mappings\": [],\r\n              \"thresholds\": {\r\n                \"mode\": \"absolute\",\r\n                \"steps\": [\r\n                  {\r\n                    \"color\": \"green\"\r\n                  },\r\n                  {\r\n                    \"color\": \"red\",\r\n                    \"value\": 80\r\n                  }\r\n                ]\r\n              },\r\n              \"unit\": \"bytes\"\r\n            },\r\n            \"overrides\": []\r\n          },\r\n          \"gridPos\": {\r\n            \"h\": 9,\r\n            \"w\": 8,\r\n            \"x\": 16,\r\n            \"y\": 560\r\n          },\r\n          \"id\": 83,\r\n          \"options\": {\r\n            \"legend\": {\r\n              \"calcs\": [\r\n                \"mean\",\r\n                \"max\"\r\n              ],\r\n              \"displayMode\": \"table\",\r\n              \"placement\": \"bottom\",\r\n              \"showLegend\": true\r\n            },\r\n            \"tooltip\": {\r\n              \"maxHeight\": 600,\r\n              \"mode\": \"multi\",\r\n              \"sort\": \"desc\"\r\n            }\r\n          },\r\n          \"pluginVersion\": \"11.4.0\",\r\n          \"targets\": [\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"exemplar\": true,\r\n              \"expr\": \"max (container_memory_rss{$ext_key=~\\\"$ext_value\\\",pod=~\\\"$pod\\\",container=~\\\"$container\\\",container!=\\\"\\\",container!=\\\"POD\\\",node=~\\\"^$node$\\\",namespace=~\\\"$namespace\\\"}) by (container, pod,node,namespace)\",\r\n              \"interval\": \"\",\r\n              \"intervalFactor\": 1,\r\n              \"legendFormat\": \"RSS：{{ pod }}\",\r\n              \"metric\": \"container_memory_usage:sort_desc\",\r\n              \"range\": true,\r\n              \"refId\": \"A\",\r\n              \"step\": 10\r\n            }\r\n          ],\r\n          \"title\": \"Pod容器RSS内存使用(可关联节点)\",\r\n          \"type\": \"timeseries\"\r\n        }\r\n      ],\r\n      \"title\": \"Pod资源总览：所选Pod:【$pod】\",\r\n      \"type\": \"row\"\r\n    },\r\n    {\r\n      \"collapsed\": true,\r\n      \"gridPos\": {\r\n        \"h\": 1,\r\n        \"w\": 24,\r\n        \"x\": 0,\r\n        \"y\": 33\r\n      },\r\n      \"id\": 61,\r\n      \"panels\": [\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"fieldConfig\": {\r\n            \"defaults\": {\r\n              \"color\": {\r\n                \"mode\": \"thresholds\"\r\n              },\r\n              \"custom\": {\r\n                \"align\": \"center\",\r\n                \"cellOptions\": {\r\n                  \"type\": \"auto\"\r\n                },\r\n                \"filterable\": false,\r\n                \"inspect\": false\r\n              },\r\n              \"displayName\": \"\",\r\n              \"mappings\": [],\r\n              \"thresholds\": {\r\n                \"mode\": \"percentage\",\r\n                \"steps\": [\r\n                  {\r\n                    \"color\": \"green\"\r\n                  }\r\n                ]\r\n              },\r\n              \"unit\": \"none\"\r\n            },\r\n            \"overrides\": [\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byRegexp\",\r\n                  \"options\": \".*%\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"unit\",\r\n                    \"value\": \"percentunit\"\r\n                  },\r\n                  {\r\n                    \"id\": \"custom.cellOptions\",\r\n                    \"value\": {\r\n                      \"mode\": \"gradient\",\r\n                      \"type\": \"gauge\",\r\n                      \"valueDisplayMode\": \"color\"\r\n                    }\r\n                  },\r\n                  {\r\n                    \"id\": \"max\",\r\n                    \"value\": 1\r\n                  },\r\n                  {\r\n                    \"id\": \"min\",\r\n                    \"value\": 0\r\n                  },\r\n                  {\r\n                    \"id\": \"color\",\r\n                    \"value\": {\r\n                      \"mode\": \"continuous-GrYlRd\"\r\n                    }\r\n                  },\r\n                  {\r\n                    \"id\": \"decimals\",\r\n                    \"value\": 0\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byRegexp\",\r\n                  \"options\": \".*内存使用$|.*内存限制$|.*内存需求$|.*磁盘使用$|.*磁盘限制$\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"unit\",\r\n                    \"value\": \"bytes\"\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"命名空间\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 92\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"容器名\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 190\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"总CPU核使用\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 100\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"Pod\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 51\r\n                  },\r\n                  {\r\n                    \"id\": \"custom.cellOptions\",\r\n                    \"value\": {\r\n                      \"type\": \"color-background\"\r\n                    }\r\n                  },\r\n                  {\r\n                    \"id\": \"color\",\r\n                    \"value\": {\r\n                      \"fixedColor\": \"blue\",\r\n                      \"mode\": \"fixed\"\r\n                    }\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"平均CPU使用%\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 116\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"平均RSS内存使用%\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 141\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"平均WSS内存使用%\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 165\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"总CPU限制\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 86\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"总内存限制\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 86\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byRegexp\",\r\n                  \"options\": \"/.*限制$/\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"color\",\r\n                    \"value\": {\r\n                      \"fixedColor\": \"blue\",\r\n                      \"mode\": \"fixed\"\r\n                    }\r\n                  },\r\n                  {\r\n                    \"id\": \"custom.cellOptions\",\r\n                    \"value\": {\r\n                      \"type\": \"color-background\"\r\n                    }\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byRegexp\",\r\n                  \"options\": \"/.*内存使用$|.*核使用$/\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.cellOptions\",\r\n                    \"value\": {\r\n                      \"type\": \"color-text\"\r\n                    }\r\n                  },\r\n                  {\r\n                    \"id\": \"color\",\r\n                    \"value\": {\r\n                      \"fixedColor\": \"orange\",\r\n                      \"mode\": \"fixed\"\r\n                    }\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"总RSS内存使用\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 113\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"总WSS内存使用\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 113\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"平均磁盘使用\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 108\r\n                  },\r\n                  {\r\n                    \"id\": \"custom.cellOptions\",\r\n                    \"value\": {\r\n                      \"type\": \"color-background\"\r\n                    }\r\n                  },\r\n                  {\r\n                    \"id\": \"thresholds\",\r\n                    \"value\": {\r\n                      \"mode\": \"absolute\",\r\n                      \"steps\": [\r\n                        {\r\n                          \"color\": \"green\"\r\n                        },\r\n                        {\r\n                          \"color\": \"orange\",\r\n                          \"value\": 10737418240\r\n                        },\r\n                        {\r\n                          \"color\": \"red\",\r\n                          \"value\": 16106127360\r\n                        }\r\n                      ]\r\n                    }\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"平均磁盘限制\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 104\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"总CPU需求\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 86\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byName\",\r\n                  \"options\": \"总内存需求\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"custom.width\",\r\n                    \"value\": 94\r\n                  }\r\n                ]\r\n              }\r\n            ]\r\n          },\r\n          \"gridPos\": {\r\n            \"h\": 10,\r\n            \"w\": 24,\r\n            \"x\": 0,\r\n            \"y\": 492\r\n          },\r\n          \"id\": 87,\r\n          \"options\": {\r\n            \"cellHeight\": \"sm\",\r\n            \"footer\": {\r\n              \"countRows\": false,\r\n              \"enablePagination\": true,\r\n              \"fields\": \"\",\r\n              \"reducer\": [\r\n                \"sum\"\r\n              ],\r\n              \"show\": false\r\n            },\r\n            \"showHeader\": true,\r\n            \"sortBy\": [\r\n              {\r\n                \"desc\": true,\r\n                \"displayName\": \"平均WSS内存使用%\"\r\n              }\r\n            ]\r\n          },\r\n          \"pluginVersion\": \"11.4.0\",\r\n          \"targets\": [\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"exemplar\": false,\r\n              \"expr\": \"sum(irate(container_cpu_usage_seconds_total{$ext_key=~\\\"$ext_value\\\",container=~\\\"$container\\\",container!=\\\"\\\",container!=\\\"POD\\\",namespace=~\\\"$namespace\\\"}[2m])) by (container) / (sum(container_spec_cpu_quota{$ext_key=~\\\"$ext_value\\\",container=~\\\"$container\\\",container!=\\\"\\\",container!=\\\"POD\\\",namespace=~\\\"$namespace\\\"}/100000) by (container))\",\r\n              \"format\": \"table\",\r\n              \"hide\": false,\r\n              \"instant\": true,\r\n              \"interval\": \"\",\r\n              \"legendFormat\": \"\",\r\n              \"refId\": \"A\"\r\n            },\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"exemplar\": false,\r\n              \"expr\": \"sum(irate(container_cpu_usage_seconds_total{$ext_key=~\\\"$ext_value\\\",container=~\\\"$container\\\",container!=\\\"\\\",container!=\\\"POD\\\",namespace=~\\\"$namespace\\\"}[2m])) by (container)\",\r\n              \"format\": \"table\",\r\n              \"hide\": false,\r\n              \"instant\": true,\r\n              \"interval\": \"\",\r\n              \"legendFormat\": \"总核数使用\",\r\n              \"refId\": \"L\"\r\n            },\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"exemplar\": false,\r\n              \"expr\": \"sum(kube_pod_container_resource_requests{$ext_key=~\\\"$ext_value\\\",resource=\\\"cpu\\\", unit=\\\"core\\\",container=~\\\"$container\\\",container!=\\\"\\\",container!=\\\"POD\\\",namespace=~\\\"$namespace\\\"}) by (container)\",\r\n              \"format\": \"table\",\r\n              \"hide\": false,\r\n              \"instant\": true,\r\n              \"interval\": \"\",\r\n              \"legendFormat\": \"\",\r\n              \"refId\": \"B\"\r\n            },\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"exemplar\": false,\r\n              \"expr\": \"sum(kube_pod_container_resource_limits{$ext_key=~\\\"$ext_value\\\",resource=\\\"cpu\\\", unit=\\\"core\\\",container=~\\\"$container\\\",container!=\\\"\\\",container!=\\\"POD\\\",namespace=~\\\"$namespace\\\"}) by (container)\",\r\n              \"format\": \"table\",\r\n              \"instant\": true,\r\n              \"interval\": \"\",\r\n              \"legendFormat\": \"\",\r\n              \"refId\": \"C\"\r\n            },\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"exemplar\": false,\r\n              \"expr\": \"sum (container_memory_working_set_bytes{$ext_key=~\\\"$ext_value\\\",container=~\\\"$container\\\",container!=\\\"\\\",container!=\\\"POD\\\",namespace=~\\\"$namespace\\\"}) by (container)/ sum(container_spec_memory_limit_bytes{$ext_key=~\\\"$ext_value\\\",container=~\\\"$container\\\",container!=\\\"\\\",container!=\\\"POD\\\",namespace=~\\\"$namespace\\\"}) by (container)\",\r\n              \"format\": \"table\",\r\n              \"hide\": false,\r\n              \"instant\": true,\r\n              \"interval\": \"\",\r\n              \"legendFormat\": \"\",\r\n              \"refId\": \"I\"\r\n            },\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"exemplar\": false,\r\n              \"expr\": \"sum (container_memory_working_set_bytes{$ext_key=~\\\"$ext_value\\\",container=~\\\"$container\\\",container!=\\\"\\\",container!=\\\"POD\\\",namespace=~\\\"$namespace\\\"}) by (container)\",\r\n              \"format\": \"table\",\r\n              \"hide\": false,\r\n              \"instant\": true,\r\n              \"interval\": \"\",\r\n              \"legendFormat\": \"\",\r\n              \"refId\": \"D\"\r\n            },\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"exemplar\": false,\r\n              \"expr\": \"sum (container_memory_rss{$ext_key=~\\\"$ext_value\\\",container=~\\\"$container\\\",container!=\\\"\\\",container!=\\\"POD\\\",namespace=~\\\"$namespace\\\"}) by (container)/ sum(container_spec_memory_limit_bytes{$ext_key=~\\\"$ext_value\\\",container=~\\\"$container\\\",container!=\\\"\\\",container!=\\\"POD\\\",namespace=~\\\"$namespace\\\"}) by (container)\",\r\n              \"format\": \"table\",\r\n              \"hide\": false,\r\n              \"instant\": true,\r\n              \"interval\": \"\",\r\n              \"legendFormat\": \"平均内存%(RSS)\",\r\n              \"refId\": \"H\"\r\n            },\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"exemplar\": false,\r\n              \"expr\": \"sum (container_memory_rss{$ext_key=~\\\"$ext_value\\\",container=~\\\"$container\\\",container!=\\\"\\\",container!=\\\"POD\\\",namespace=~\\\"$namespace\\\"}) by (container)\",\r\n              \"format\": \"table\",\r\n              \"hide\": false,\r\n              \"instant\": true,\r\n              \"interval\": \"\",\r\n              \"legendFormat\": \"总内存使用(RSS) \",\r\n              \"refId\": \"K\"\r\n            },\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"exemplar\": false,\r\n              \"expr\": \"sum by(container) (kube_pod_container_resource_requests{$ext_key=~\\\"$ext_value\\\",resource=\\\"memory\\\", unit=\\\"byte\\\",container=~\\\"$container\\\",container!=\\\"\\\",container!=\\\"POD\\\",namespace=~\\\"$namespace\\\"})\",\r\n              \"format\": \"table\",\r\n              \"hide\": false,\r\n              \"instant\": true,\r\n              \"interval\": \"\",\r\n              \"legendFormat\": \"\",\r\n              \"refId\": \"E\"\r\n            },\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"exemplar\": false,\r\n              \"expr\": \"sum(kube_pod_container_resource_limits{$ext_key=~\\\"$ext_value\\\",resource=\\\"memory\\\", unit=\\\"byte\\\",container=~\\\"$container\\\",container!=\\\"\\\",container!=\\\"POD\\\",namespace=~\\\"$namespace\\\"}) by (container)\",\r\n              \"format\": \"table\",\r\n              \"hide\": false,\r\n              \"instant\": true,\r\n              \"interval\": \"\",\r\n              \"legendFormat\": \"\",\r\n              \"refId\": \"F\"\r\n            },\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"exemplar\": false,\r\n              \"expr\": \"avg(container_fs_usage_bytes{$ext_key=~\\\"$ext_value\\\",container=~\\\"$container\\\",container!=\\\"\\\",container!=\\\"POD\\\",namespace=~\\\"$namespace\\\"}) by (container)\",\r\n              \"format\": \"table\",\r\n              \"instant\": true,\r\n              \"interval\": \"\",\r\n              \"legendFormat\": \"\",\r\n              \"refId\": \"J\"\r\n            },\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"exemplar\": false,\r\n              \"expr\": \"count(kube_pod_container_info{$ext_key=~\\\"$ext_value\\\",container=~\\\"$container\\\",container!=\\\"\\\",container!=\\\"POD\\\",namespace=~\\\"$namespace\\\"}) by(container,namespace)\",\r\n              \"format\": \"table\",\r\n              \"instant\": true,\r\n              \"interval\": \"\",\r\n              \"legendFormat\": \"\",\r\n              \"refId\": \"G\"\r\n            },\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"exemplar\": false,\r\n              \"expr\": \"avg(container_fs_limit_bytes{$ext_key=~\\\"$ext_value\\\",container=~\\\"$container\\\",container!=\\\"\\\",container!=\\\"POD\\\",namespace=~\\\"$namespace\\\"}) by (container)\",\r\n              \"format\": \"table\",\r\n              \"hide\": false,\r\n              \"instant\": true,\r\n              \"interval\": \"\",\r\n              \"legendFormat\": \"\",\r\n              \"refId\": \"M\"\r\n            }\r\n          ],\r\n          \"title\": \"微服务(容器名)资源统计\",\r\n          \"transformations\": [\r\n            {\r\n              \"id\": \"merge\",\r\n              \"options\": {}\r\n            },\r\n            {\r\n              \"id\": \"organize\",\r\n              \"options\": {\r\n                \"excludeByName\": {\r\n                  \"Time\": true,\r\n                  \"Time 1\": true,\r\n                  \"Time 10\": true,\r\n                  \"Time 11\": true,\r\n                  \"Time 12\": true,\r\n                  \"Time 2\": true,\r\n                  \"Time 3\": true,\r\n                  \"Time 4\": true,\r\n                  \"Time 5\": true,\r\n                  \"Time 6\": true,\r\n                  \"Time 7\": true,\r\n                  \"Time 8\": true,\r\n                  \"Time 9\": true\r\n                },\r\n                \"includeByName\": {},\r\n                \"indexByName\": {\r\n                  \"Time\": 15,\r\n                  \"Value #A\": 3,\r\n                  \"Value #B\": 13,\r\n                  \"Value #C\": 6,\r\n                  \"Value #D\": 9,\r\n                  \"Value #E\": 14,\r\n                  \"Value #F\": 8,\r\n                  \"Value #G\": 2,\r\n                  \"Value #H\": 5,\r\n                  \"Value #I\": 4,\r\n                  \"Value #J\": 12,\r\n                  \"Value #K\": 10,\r\n                  \"Value #L\": 7,\r\n                  \"Value #M\": 11,\r\n                  \"container\": 1,\r\n                  \"namespace\": 0\r\n                },\r\n                \"renameByName\": {\r\n                  \"Time 1\": \"\",\r\n                  \"Value #A\": \"平均CPU使用%\",\r\n                  \"Value #B\": \"总CPU需求\",\r\n                  \"Value #C\": \"总CPU限制\",\r\n                  \"Value #D\": \"总WSS内存使用\",\r\n                  \"Value #E\": \"总内存需求\",\r\n                  \"Value #F\": \"总内存限制\",\r\n                  \"Value #G\": \"Pod\",\r\n                  \"Value #H\": \"平均RSS内存使用%\",\r\n                  \"Value #I\": \"平均WSS内存使用%\",\r\n                  \"Value #J\": \"平均磁盘使用\",\r\n                  \"Value #K\": \"总RSS内存使用\",\r\n                  \"Value #L\": \"总CPU核使用\",\r\n                  \"Value #M\": \"平均磁盘限制\",\r\n                  \"container\": \"容器名\",\r\n                  \"namespace\": \"命名空间\"\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"id\": \"filterFieldsByName\",\r\n              \"options\": {}\r\n            }\r\n          ],\r\n          \"type\": \"table\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"fieldConfig\": {\r\n            \"defaults\": {\r\n              \"color\": {\r\n                \"mode\": \"palette-classic\"\r\n              },\r\n              \"custom\": {\r\n                \"axisBorderShow\": false,\r\n                \"axisCenteredZero\": false,\r\n                \"axisColorMode\": \"text\",\r\n                \"axisLabel\": \"\",\r\n                \"axisPlacement\": \"auto\",\r\n                \"barAlignment\": 0,\r\n                \"barWidthFactor\": 0.6,\r\n                \"drawStyle\": \"line\",\r\n                \"fillOpacity\": 0,\r\n                \"gradientMode\": \"none\",\r\n                \"hideFrom\": {\r\n                  \"legend\": false,\r\n                  \"tooltip\": false,\r\n                  \"viz\": false\r\n                },\r\n                \"insertNulls\": false,\r\n                \"lineInterpolation\": \"linear\",\r\n                \"lineWidth\": 1,\r\n                \"pointSize\": 5,\r\n                \"scaleDistribution\": {\r\n                  \"type\": \"linear\"\r\n                },\r\n                \"showPoints\": \"never\",\r\n                \"spanNulls\": false,\r\n                \"stacking\": {\r\n                  \"group\": \"A\",\r\n                  \"mode\": \"none\"\r\n                },\r\n                \"thresholdsStyle\": {\r\n                  \"mode\": \"off\"\r\n                }\r\n              },\r\n              \"links\": [],\r\n              \"mappings\": [],\r\n              \"thresholds\": {\r\n                \"mode\": \"absolute\",\r\n                \"steps\": [\r\n                  {\r\n                    \"color\": \"green\"\r\n                  },\r\n                  {\r\n                    \"color\": \"red\",\r\n                    \"value\": 80\r\n                  }\r\n                ]\r\n              },\r\n              \"unit\": \"percent\"\r\n            },\r\n            \"overrides\": []\r\n          },\r\n          \"gridPos\": {\r\n            \"h\": 7,\r\n            \"w\": 8,\r\n            \"x\": 0,\r\n            \"y\": 502\r\n          },\r\n          \"id\": 24,\r\n          \"options\": {\r\n            \"legend\": {\r\n              \"calcs\": [\r\n                \"mean\",\r\n                \"max\"\r\n              ],\r\n              \"displayMode\": \"table\",\r\n              \"placement\": \"bottom\",\r\n              \"showLegend\": true\r\n            },\r\n            \"tooltip\": {\r\n              \"maxHeight\": 600,\r\n              \"mode\": \"multi\",\r\n              \"sort\": \"desc\"\r\n            }\r\n          },\r\n          \"pluginVersion\": \"11.4.0\",\r\n          \"targets\": [\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"exemplar\": true,\r\n              \"expr\": \"sum(irate(container_cpu_usage_seconds_total{$ext_key=~\\\"$ext_value\\\",container=~\\\"$container\\\",container!=\\\"\\\",container!=\\\"POD\\\",namespace=~\\\"$namespace\\\"}[2m])) by (container) / (sum(container_spec_cpu_quota{$ext_key=~\\\"$ext_value\\\",container=~\\\"$container\\\",container!=\\\"\\\",container!=\\\"POD\\\",namespace=~\\\"$namespace\\\"}/100000) by (container)) * 100\",\r\n              \"hide\": false,\r\n              \"instant\": false,\r\n              \"interval\": \"\",\r\n              \"intervalFactor\": 1,\r\n              \"legendFormat\": \"{{ container}}\",\r\n              \"metric\": \"container_cpu\",\r\n              \"refId\": \"A\",\r\n              \"step\": 10\r\n            }\r\n          ],\r\n          \"title\": \"微服务(容器名)平均CPU使用率(最大100%)\",\r\n          \"type\": \"timeseries\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"fieldConfig\": {\r\n            \"defaults\": {\r\n              \"color\": {\r\n                \"mode\": \"palette-classic\"\r\n              },\r\n              \"custom\": {\r\n                \"axisBorderShow\": false,\r\n                \"axisCenteredZero\": false,\r\n                \"axisColorMode\": \"text\",\r\n                \"axisLabel\": \"\",\r\n                \"axisPlacement\": \"auto\",\r\n                \"barAlignment\": 0,\r\n                \"barWidthFactor\": 0.6,\r\n                \"drawStyle\": \"line\",\r\n                \"fillOpacity\": 0,\r\n                \"gradientMode\": \"none\",\r\n                \"hideFrom\": {\r\n                  \"legend\": false,\r\n                  \"tooltip\": false,\r\n                  \"viz\": false\r\n                },\r\n                \"insertNulls\": false,\r\n                \"lineInterpolation\": \"linear\",\r\n                \"lineWidth\": 1,\r\n                \"pointSize\": 5,\r\n                \"scaleDistribution\": {\r\n                  \"type\": \"linear\"\r\n                },\r\n                \"showPoints\": \"never\",\r\n                \"spanNulls\": false,\r\n                \"stacking\": {\r\n                  \"group\": \"A\",\r\n                  \"mode\": \"none\"\r\n                },\r\n                \"thresholdsStyle\": {\r\n                  \"mode\": \"off\"\r\n                }\r\n              },\r\n              \"links\": [],\r\n              \"mappings\": [],\r\n              \"thresholds\": {\r\n                \"mode\": \"absolute\",\r\n                \"steps\": [\r\n                  {\r\n                    \"color\": \"green\"\r\n                  },\r\n                  {\r\n                    \"color\": \"red\",\r\n                    \"value\": 80\r\n                  }\r\n                ]\r\n              },\r\n              \"unit\": \"percent\"\r\n            },\r\n            \"overrides\": []\r\n          },\r\n          \"gridPos\": {\r\n            \"h\": 7,\r\n            \"w\": 8,\r\n            \"x\": 8,\r\n            \"y\": 502\r\n          },\r\n          \"id\": 89,\r\n          \"options\": {\r\n            \"legend\": {\r\n              \"calcs\": [\r\n                \"mean\",\r\n                \"max\"\r\n              ],\r\n              \"displayMode\": \"table\",\r\n              \"placement\": \"bottom\",\r\n              \"showLegend\": true\r\n            },\r\n            \"tooltip\": {\r\n              \"maxHeight\": 600,\r\n              \"mode\": \"multi\",\r\n              \"sort\": \"desc\"\r\n            }\r\n          },\r\n          \"pluginVersion\": \"11.4.0\",\r\n          \"targets\": [\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"expr\": \"sum (container_memory_working_set_bytes{$ext_key=~\\\"$ext_value\\\",container=~\\\"$container\\\",container!=\\\"\\\",container!=\\\"POD\\\",namespace=~\\\"$namespace\\\"}) by (container)/ sum(container_spec_memory_limit_bytes{$ext_key=~\\\"$ext_value\\\",container=~\\\"$container\\\",container!=\\\"\\\",container!=\\\"POD\\\",namespace=~\\\"$namespace\\\"}) by (container) * 100\",\r\n              \"interval\": \"\",\r\n              \"intervalFactor\": 1,\r\n              \"legendFormat\": \"WSS：{{ container }}\",\r\n              \"metric\": \"container_memory_usage:sort_desc\",\r\n              \"refId\": \"A\",\r\n              \"step\": 10\r\n            },\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"expr\": \"sum (container_memory_rss{$ext_key=~\\\"$ext_value\\\",container=~\\\"$container\\\",container!=\\\"\\\",container!=\\\"POD\\\",namespace=~\\\"$namespace\\\"}) by (container)/ sum(container_spec_memory_limit_bytes{$ext_key=~\\\"$ext_value\\\",container=~\\\"$container\\\",container!=\\\"\\\",container!=\\\"POD\\\",namespace=~\\\"$namespace\\\"}) by (container) * 100\",\r\n              \"interval\": \"\",\r\n              \"intervalFactor\": 1,\r\n              \"legendFormat\": \"RSS：{{ container }}\",\r\n              \"metric\": \"container_memory_usage:sort_desc\",\r\n              \"refId\": \"B\",\r\n              \"step\": 10\r\n            }\r\n          ],\r\n          \"title\": \"微服务(容器名)平均内存使用率\",\r\n          \"type\": \"timeseries\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"fieldConfig\": {\r\n            \"defaults\": {\r\n              \"color\": {\r\n                \"mode\": \"palette-classic\"\r\n              },\r\n              \"custom\": {\r\n                \"axisBorderShow\": false,\r\n                \"axisCenteredZero\": false,\r\n                \"axisColorMode\": \"text\",\r\n                \"axisLabel\": \"\",\r\n                \"axisPlacement\": \"auto\",\r\n                \"barAlignment\": 0,\r\n                \"barWidthFactor\": 0.6,\r\n                \"drawStyle\": \"line\",\r\n                \"fillOpacity\": 0,\r\n                \"gradientMode\": \"none\",\r\n                \"hideFrom\": {\r\n                  \"legend\": false,\r\n                  \"tooltip\": false,\r\n                  \"viz\": false\r\n                },\r\n                \"insertNulls\": false,\r\n                \"lineInterpolation\": \"linear\",\r\n                \"lineWidth\": 1,\r\n                \"pointSize\": 5,\r\n                \"scaleDistribution\": {\r\n                  \"type\": \"linear\"\r\n                },\r\n                \"showPoints\": \"never\",\r\n                \"spanNulls\": false,\r\n                \"stacking\": {\r\n                  \"group\": \"A\",\r\n                  \"mode\": \"none\"\r\n                },\r\n                \"thresholdsStyle\": {\r\n                  \"mode\": \"off\"\r\n                }\r\n              },\r\n              \"links\": [],\r\n              \"mappings\": [],\r\n              \"thresholds\": {\r\n                \"mode\": \"absolute\",\r\n                \"steps\": [\r\n                  {\r\n                    \"color\": \"green\"\r\n                  },\r\n                  {\r\n                    \"color\": \"red\",\r\n                    \"value\": 80\r\n                  }\r\n                ]\r\n              },\r\n              \"unit\": \"binbps\"\r\n            },\r\n            \"overrides\": []\r\n          },\r\n          \"gridPos\": {\r\n            \"h\": 7,\r\n            \"w\": 8,\r\n            \"x\": 16,\r\n            \"y\": 502\r\n          },\r\n          \"id\": 16,\r\n          \"options\": {\r\n            \"legend\": {\r\n              \"calcs\": [\r\n                \"mean\",\r\n                \"max\"\r\n              ],\r\n              \"displayMode\": \"table\",\r\n              \"placement\": \"bottom\",\r\n              \"showLegend\": true\r\n            },\r\n            \"tooltip\": {\r\n              \"maxHeight\": 600,\r\n              \"mode\": \"multi\",\r\n              \"sort\": \"desc\"\r\n            }\r\n          },\r\n          \"pluginVersion\": \"11.4.0\",\r\n          \"targets\": [\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"exemplar\": true,\r\n              \"expr\": \"sum(sum(irate(container_network_receive_bytes_total{$ext_key=~\\\"$ext_value\\\",node=~\\\"^$node$\\\",namespace=~\\\"$namespace\\\"}[2m])) by (pod)* on(pod) group_right kube_pod_container_info{$ext_key=~\\\"$ext_value\\\",namespace=~\\\"$namespace\\\",container=~\\\"$container\\\"}) by(container) *8\",\r\n              \"hide\": false,\r\n              \"interval\": \"\",\r\n              \"intervalFactor\": 1,\r\n              \"legendFormat\": \"流入:{{ container }}\",\r\n              \"metric\": \"network\",\r\n              \"range\": true,\r\n              \"refId\": \"A\",\r\n              \"step\": 10\r\n            },\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"exemplar\": true,\r\n              \"expr\": \"sum(sum(irate(container_network_transmit_bytes_total{$ext_key=~\\\"$ext_value\\\",node=~\\\"^$node$\\\",namespace=~\\\"$namespace\\\"}[2m])) by (pod)* on(pod) group_right kube_pod_container_info{$ext_key=~\\\"$ext_value\\\",namespace=~\\\"$namespace\\\",container=~\\\"$container\\\"}) by(container) *8\",\r\n              \"interval\": \"\",\r\n              \"intervalFactor\": 1,\r\n              \"legendFormat\": \"流出:{{ container }}\",\r\n              \"metric\": \"network\",\r\n              \"range\": true,\r\n              \"refId\": \"B\",\r\n              \"step\": 10\r\n            },\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"expr\": \"sum (rate (container_network_receive_bytes_total{$ext_key=~\\\"$ext_value\\\",pod=~\\\"$pod\\\",image!=\\\"\\\",name=~\\\"^k8s_.*\\\",node=~\\\"^$node$\\\",namespace=~\\\"$namespace\\\",pod=~\\\".*$container.*\\\"}[2m])) by (pod)\",\r\n              \"hide\": true,\r\n              \"interval\": \"\",\r\n              \"intervalFactor\": 1,\r\n              \"legendFormat\": \"-> {{ pod }}\",\r\n              \"metric\": \"network\",\r\n              \"refId\": \"C\",\r\n              \"step\": 10\r\n            },\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"expr\": \"- sum (rate (container_network_transmit_bytes_total{$ext_key=~\\\"$ext_value\\\",pod=~\\\"$pod\\\",image!=\\\"\\\",name=~\\\"^k8s_.*\\\",node=~\\\"^$node$\\\",namespace=~\\\"$namespace\\\",pod=~\\\".*$container.*\\\"}[2m])) by (pod)\",\r\n              \"hide\": true,\r\n              \"interval\": \"\",\r\n              \"intervalFactor\": 1,\r\n              \"legendFormat\": \"<- {{ pod }}\",\r\n              \"metric\": \"network\",\r\n              \"refId\": \"D\",\r\n              \"step\": 10\r\n            }\r\n          ],\r\n          \"title\": \"微服务(容器名)每秒网络带宽 (可关联节点)\",\r\n          \"type\": \"timeseries\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"fieldConfig\": {\r\n            \"defaults\": {\r\n              \"color\": {\r\n                \"mode\": \"palette-classic\"\r\n              },\r\n              \"custom\": {\r\n                \"axisBorderShow\": false,\r\n                \"axisCenteredZero\": false,\r\n                \"axisColorMode\": \"text\",\r\n                \"axisLabel\": \"\",\r\n                \"axisPlacement\": \"auto\",\r\n                \"barAlignment\": 0,\r\n                \"barWidthFactor\": 0.6,\r\n                \"drawStyle\": \"line\",\r\n                \"fillOpacity\": 0,\r\n                \"gradientMode\": \"none\",\r\n                \"hideFrom\": {\r\n                  \"legend\": false,\r\n                  \"tooltip\": false,\r\n                  \"viz\": false\r\n                },\r\n                \"insertNulls\": false,\r\n                \"lineInterpolation\": \"linear\",\r\n                \"lineWidth\": 1,\r\n                \"pointSize\": 5,\r\n                \"scaleDistribution\": {\r\n                  \"type\": \"linear\"\r\n                },\r\n                \"showPoints\": \"never\",\r\n                \"spanNulls\": false,\r\n                \"stacking\": {\r\n                  \"group\": \"A\",\r\n                  \"mode\": \"none\"\r\n                },\r\n                \"thresholdsStyle\": {\r\n                  \"mode\": \"off\"\r\n                }\r\n              },\r\n              \"links\": [],\r\n              \"mappings\": [],\r\n              \"thresholds\": {\r\n                \"mode\": \"absolute\",\r\n                \"steps\": [\r\n                  {\r\n                    \"color\": \"green\"\r\n                  },\r\n                  {\r\n                    \"color\": \"red\",\r\n                    \"value\": 80\r\n                  }\r\n                ]\r\n              },\r\n              \"unit\": \"none\"\r\n            },\r\n            \"overrides\": [\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byRegexp\",\r\n                  \"options\": \"/CPU限制.*/\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"color\",\r\n                    \"value\": {\r\n                      \"fixedColor\": \"red\",\r\n                      \"mode\": \"fixed\"\r\n                    }\r\n                  },\r\n                  {\r\n                    \"id\": \"custom.hideFrom\",\r\n                    \"value\": {\r\n                      \"legend\": true,\r\n                      \"tooltip\": true,\r\n                      \"viz\": false\r\n                    }\r\n                  }\r\n                ]\r\n              }\r\n            ]\r\n          },\r\n          \"gridPos\": {\r\n            \"h\": 8,\r\n            \"w\": 8,\r\n            \"x\": 0,\r\n            \"y\": 509\r\n          },\r\n          \"id\": 91,\r\n          \"options\": {\r\n            \"legend\": {\r\n              \"calcs\": [\r\n                \"mean\",\r\n                \"max\"\r\n              ],\r\n              \"displayMode\": \"table\",\r\n              \"placement\": \"bottom\",\r\n              \"showLegend\": true,\r\n              \"sortBy\": \"Max\",\r\n              \"sortDesc\": true\r\n            },\r\n            \"tooltip\": {\r\n              \"maxHeight\": 600,\r\n              \"mode\": \"multi\",\r\n              \"sort\": \"desc\"\r\n            }\r\n          },\r\n          \"pluginVersion\": \"11.4.0\",\r\n          \"targets\": [\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"exemplar\": true,\r\n              \"expr\": \"sum(kube_pod_container_resource_limits{$ext_key=~\\\"$ext_value\\\",resource=\\\"cpu\\\", unit=\\\"core\\\",container=~\\\"$container\\\",container!=\\\"\\\",container!=\\\"POD\\\",namespace=~\\\"$namespace\\\"}) by (container)\",\r\n              \"hide\": false,\r\n              \"instant\": false,\r\n              \"interval\": \"\",\r\n              \"intervalFactor\": 1,\r\n              \"legendFormat\": \"CPU限制：{{ container}}\",\r\n              \"metric\": \"container_cpu\",\r\n              \"refId\": \"A\",\r\n              \"step\": 10\r\n            },\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"exemplar\": true,\r\n              \"expr\": \"sum(irate(container_cpu_usage_seconds_total{$ext_key=~\\\"$ext_value\\\",container=~\\\"$container\\\",container!=\\\"\\\",container!=\\\"POD\\\",namespace=~\\\"$namespace\\\"}[2m])) by (container)\",\r\n              \"hide\": false,\r\n              \"instant\": false,\r\n              \"interval\": \"\",\r\n              \"intervalFactor\": 1,\r\n              \"legendFormat\": \"CPU核使用：{{ container}}\",\r\n              \"metric\": \"container_cpu\",\r\n              \"refId\": \"B\",\r\n              \"step\": 10\r\n            }\r\n          ],\r\n          \"title\": \"微服务(容器名)整体CPU使用核\",\r\n          \"type\": \"timeseries\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"fieldConfig\": {\r\n            \"defaults\": {\r\n              \"color\": {\r\n                \"mode\": \"palette-classic\"\r\n              },\r\n              \"custom\": {\r\n                \"axisBorderShow\": false,\r\n                \"axisCenteredZero\": false,\r\n                \"axisColorMode\": \"text\",\r\n                \"axisLabel\": \"\",\r\n                \"axisPlacement\": \"auto\",\r\n                \"barAlignment\": 0,\r\n                \"barWidthFactor\": 0.6,\r\n                \"drawStyle\": \"line\",\r\n                \"fillOpacity\": 0,\r\n                \"gradientMode\": \"none\",\r\n                \"hideFrom\": {\r\n                  \"legend\": false,\r\n                  \"tooltip\": false,\r\n                  \"viz\": false\r\n                },\r\n                \"insertNulls\": false,\r\n                \"lineInterpolation\": \"linear\",\r\n                \"lineWidth\": 1,\r\n                \"pointSize\": 5,\r\n                \"scaleDistribution\": {\r\n                  \"type\": \"linear\"\r\n                },\r\n                \"showPoints\": \"never\",\r\n                \"spanNulls\": false,\r\n                \"stacking\": {\r\n                  \"group\": \"A\",\r\n                  \"mode\": \"none\"\r\n                },\r\n                \"thresholdsStyle\": {\r\n                  \"mode\": \"off\"\r\n                }\r\n              },\r\n              \"links\": [],\r\n              \"mappings\": [],\r\n              \"thresholds\": {\r\n                \"mode\": \"absolute\",\r\n                \"steps\": [\r\n                  {\r\n                    \"color\": \"green\"\r\n                  },\r\n                  {\r\n                    \"color\": \"red\",\r\n                    \"value\": 80\r\n                  }\r\n                ]\r\n              },\r\n              \"unit\": \"bytes\"\r\n            },\r\n            \"overrides\": [\r\n              {\r\n                \"matcher\": {\r\n                  \"id\": \"byRegexp\",\r\n                  \"options\": \"/内存限制.*/\"\r\n                },\r\n                \"properties\": [\r\n                  {\r\n                    \"id\": \"color\",\r\n                    \"value\": {\r\n                      \"fixedColor\": \"red\",\r\n                      \"mode\": \"fixed\"\r\n                    }\r\n                  }\r\n                ]\r\n              }\r\n            ]\r\n          },\r\n          \"gridPos\": {\r\n            \"h\": 8,\r\n            \"w\": 8,\r\n            \"x\": 8,\r\n            \"y\": 509\r\n          },\r\n          \"id\": 90,\r\n          \"options\": {\r\n            \"legend\": {\r\n              \"calcs\": [\r\n                \"mean\",\r\n                \"max\"\r\n              ],\r\n              \"displayMode\": \"table\",\r\n              \"placement\": \"bottom\",\r\n              \"showLegend\": true,\r\n              \"sortBy\": \"Max\",\r\n              \"sortDesc\": true\r\n            },\r\n            \"tooltip\": {\r\n              \"maxHeight\": 600,\r\n              \"mode\": \"multi\",\r\n              \"sort\": \"desc\"\r\n            }\r\n          },\r\n          \"pluginVersion\": \"11.4.0\",\r\n          \"targets\": [\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"expr\": \"sum (container_memory_working_set_bytes{$ext_key=~\\\"$ext_value\\\",container=~\\\"$container\\\",container!=\\\"\\\",container!=\\\"POD\\\",namespace=~\\\"$namespace\\\"}) by (container)\",\r\n              \"interval\": \"\",\r\n              \"intervalFactor\": 1,\r\n              \"legendFormat\": \"WSS：{{ container }}\",\r\n              \"metric\": \"container_memory_usage:sort_desc\",\r\n              \"range\": true,\r\n              \"refId\": \"A\",\r\n              \"step\": 10\r\n            },\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"expr\": \"sum(container_spec_memory_limit_bytes{$ext_key=~\\\"$ext_value\\\",container=~\\\"$container\\\",container!=\\\"\\\",container!=\\\"POD\\\",namespace=~\\\"$namespace\\\"}) by (container)\",\r\n              \"interval\": \"\",\r\n              \"intervalFactor\": 1,\r\n              \"legendFormat\": \"内存限制：{{ container }}\",\r\n              \"metric\": \"container_memory_usage:sort_desc\",\r\n              \"range\": true,\r\n              \"refId\": \"B\",\r\n              \"step\": 10\r\n            },\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"expr\": \"sum (container_memory_rss{$ext_key=~\\\"$ext_value\\\",container=~\\\"$container\\\",container!=\\\"\\\",container!=\\\"POD\\\",namespace=~\\\"$namespace\\\"}) by (container)\",\r\n              \"hide\": false,\r\n              \"interval\": \"\",\r\n              \"intervalFactor\": 1,\r\n              \"legendFormat\": \"RSS：{{ container }}\",\r\n              \"metric\": \"container_memory_usage:sort_desc\",\r\n              \"range\": true,\r\n              \"refId\": \"C\",\r\n              \"step\": 10\r\n            }\r\n          ],\r\n          \"title\": \"微服务(容器名)整体内存使用量\",\r\n          \"type\": \"timeseries\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"fieldConfig\": {\r\n            \"defaults\": {\r\n              \"color\": {\r\n                \"mode\": \"palette-classic\"\r\n              },\r\n              \"custom\": {\r\n                \"axisBorderShow\": false,\r\n                \"axisCenteredZero\": false,\r\n                \"axisColorMode\": \"text\",\r\n                \"axisLabel\": \"\",\r\n                \"axisPlacement\": \"auto\",\r\n                \"barAlignment\": 0,\r\n                \"barWidthFactor\": 0.6,\r\n                \"drawStyle\": \"line\",\r\n                \"fillOpacity\": 0,\r\n                \"gradientMode\": \"none\",\r\n                \"hideFrom\": {\r\n                  \"legend\": false,\r\n                  \"tooltip\": false,\r\n                  \"viz\": false\r\n                },\r\n                \"insertNulls\": false,\r\n                \"lineInterpolation\": \"linear\",\r\n                \"lineWidth\": 1,\r\n                \"pointSize\": 5,\r\n                \"scaleDistribution\": {\r\n                  \"type\": \"linear\"\r\n                },\r\n                \"showPoints\": \"never\",\r\n                \"spanNulls\": false,\r\n                \"stacking\": {\r\n                  \"group\": \"A\",\r\n                  \"mode\": \"none\"\r\n                },\r\n                \"thresholdsStyle\": {\r\n                  \"mode\": \"off\"\r\n                }\r\n              },\r\n              \"links\": [],\r\n              \"mappings\": [],\r\n              \"thresholds\": {\r\n                \"mode\": \"absolute\",\r\n                \"steps\": [\r\n                  {\r\n                    \"color\": \"green\"\r\n                  },\r\n                  {\r\n                    \"color\": \"red\",\r\n                    \"value\": 80\r\n                  }\r\n                ]\r\n              },\r\n              \"unit\": \"none\"\r\n            },\r\n            \"overrides\": []\r\n          },\r\n          \"gridPos\": {\r\n            \"h\": 8,\r\n            \"w\": 8,\r\n            \"x\": 16,\r\n            \"y\": 509\r\n          },\r\n          \"id\": 59,\r\n          \"options\": {\r\n            \"legend\": {\r\n              \"calcs\": [\r\n                \"mean\",\r\n                \"max\"\r\n              ],\r\n              \"displayMode\": \"table\",\r\n              \"placement\": \"bottom\",\r\n              \"showLegend\": true\r\n            },\r\n            \"tooltip\": {\r\n              \"maxHeight\": 600,\r\n              \"mode\": \"multi\",\r\n              \"sort\": \"desc\"\r\n            }\r\n          },\r\n          \"pluginVersion\": \"11.4.0\",\r\n          \"targets\": [\r\n            {\r\n              \"datasource\": {\r\n                \"type\": \"prometheus\",\r\n                \"uid\": \"KubeDoor-Prometheus\"\r\n              },\r\n              \"editorMode\": \"code\",\r\n              \"expr\": \"count(kube_pod_container_info{$ext_key=~\\\"$ext_value\\\",container=~\\\"$container\\\",container!=\\\"\\\",container!=\\\"POD\\\",namespace=~\\\"$namespace\\\"}) by(container,namespace)\",\r\n              \"interval\": \"\",\r\n              \"intervalFactor\": 1,\r\n              \"legendFormat\": \"{{namespace}}：{{ container }}\",\r\n              \"metric\": \"container_memory_usage:sort_desc\",\r\n              \"range\": true,\r\n              \"refId\": \"A\",\r\n              \"step\": 10\r\n            }\r\n          ],\r\n          \"title\": \"微服务(容器名)Pod数\",\r\n          \"type\": \"timeseries\"\r\n        }\r\n      ],\r\n      \"title\": \"微服务(容器名)资源总览：所选微服务:【$container】\",\r\n      \"type\": \"row\"\r\n    }\r\n  ],\r\n  \"preload\": false,\r\n  \"refresh\": \"1m\",\r\n  \"schemaVersion\": 40,\r\n  \"tags\": [\r\n    \"StarsL.cn\",\r\n    \"Kubernetes\",\r\n    \"KubeDoor\"\r\n  ],\r\n  \"templating\": {\r\n    \"list\": [\r\n      {\r\n        \"current\": {\r\n          \"text\": \"`}}{{ .Values.tsdb.external_labels_key | default "origin_prometheus" }}{{`\",\r\n          \"value\": \"`}}{{ .Values.tsdb.external_labels_key | default "origin_prometheus" }}{{`\"\r\n        },\r\n        \"description\": \"\",\r\n        \"hide\": 2,\r\n        \"label\": \"external_labels_key\",\r\n        \"name\": \"ext_key\",\r\n        \"options\": [\r\n          {\r\n            \"selected\": true,\r\n            \"text\": \"`}}{{ .Values.tsdb.external_labels_key | default "origin_prometheus" }}{{`\",\r\n            \"value\": \"`}}{{ .Values.tsdb.external_labels_key | default "origin_prometheus" }}{{`\"\r\n          }\r\n        ],\r\n        \"query\": \"`}}{{ .Values.tsdb.external_labels_key | default "origin_prometheus" }}{{`\",\r\n        \"type\": \"custom\"\r\n      },\r\n      {\r\n        \"current\": {\r\n          \"text\": \"cassbeta-penglai\",\r\n          \"value\": \"cassbeta-penglai\"\r\n        },\r\n        \"datasource\": {\r\n          \"type\": \"prometheus\",\r\n          \"uid\": \"KubeDoor-Prometheus\"\r\n        },\r\n        \"definition\": \"label_values(kube_node_info,$ext_key)\",\r\n        \"includeAll\": false,\r\n        \"label\": \"K8S\",\r\n        \"name\": \"ext_value\",\r\n        \"options\": [],\r\n        \"query\": {\r\n          \"qryType\": 1,\r\n          \"query\": \"label_values(kube_node_info,$ext_key)\",\r\n          \"refId\": \"PrometheusVariableQueryEditor-VariableQuery\"\r\n        },\r\n        \"refresh\": 2,\r\n        \"regex\": \"\",\r\n        \"sort\": 5,\r\n        \"type\": \"query\"\r\n      },\r\n      {\r\n        \"allValue\": \".*\",\r\n        \"current\": {\r\n          \"text\": \"All\",\r\n          \"value\": \"$__all\"\r\n        },\r\n        \"datasource\": {\r\n          \"type\": \"prometheus\",\r\n          \"uid\": \"KubeDoor-Prometheus\"\r\n        },\r\n        \"definition\": \"label_values(kube_node_info{$ext_key=~\\\"$ext_value\\\"},node)\",\r\n        \"includeAll\": true,\r\n        \"label\": \"节点\",\r\n        \"name\": \"node\",\r\n        \"options\": [],\r\n        \"query\": {\r\n          \"qryType\": 1,\r\n          \"query\": \"label_values(kube_node_info{$ext_key=~\\\"$ext_value\\\"},node)\",\r\n          \"refId\": \"PrometheusVariableQueryEditor-VariableQuery\"\r\n        },\r\n        \"refresh\": 2,\r\n        \"regex\": \"\",\r\n        \"sort\": 5,\r\n        \"type\": \"query\"\r\n      },\r\n      {\r\n        \"allValue\": \".*\",\r\n        \"current\": {\r\n          \"text\": \"All\",\r\n          \"value\": \"$__all\"\r\n        },\r\n        \"datasource\": {\r\n          \"type\": \"prometheus\",\r\n          \"uid\": \"KubeDoor-Prometheus\"\r\n        },\r\n        \"definition\": \"label_values(kube_namespace_created{$ext_key=~\\\"$ext_value\\\"},namespace)\",\r\n        \"includeAll\": true,\r\n        \"label\": \"命名空间\",\r\n        \"name\": \"namespace\",\r\n        \"options\": [],\r\n        \"query\": {\r\n          \"qryType\": 1,\r\n          \"query\": \"label_values(kube_namespace_created{$ext_key=~\\\"$ext_value\\\"},namespace)\",\r\n          \"refId\": \"PrometheusVariableQueryEditor-VariableQuery\"\r\n        },\r\n        \"refresh\": 2,\r\n        \"regex\": \"\",\r\n        \"sort\": 5,\r\n        \"type\": \"query\"\r\n      },\r\n      {\r\n        \"allValue\": \".*\",\r\n        \"current\": {\r\n          \"text\": \"All\",\r\n          \"value\": \"$__all\"\r\n        },\r\n        \"datasource\": {\r\n          \"type\": \"prometheus\",\r\n          \"uid\": \"KubeDoor-Prometheus\"\r\n        },\r\n        \"definition\": \"label_values(kube_pod_container_info{$ext_key=~\\\"$ext_value\\\", namespace=~\\\"$namespace\\\"},container)\",\r\n        \"includeAll\": true,\r\n        \"label\": \"微服务(容器名)\",\r\n        \"name\": \"container\",\r\n        \"options\": [],\r\n        \"query\": {\r\n          \"qryType\": 1,\r\n          \"query\": \"label_values(kube_pod_container_info{$ext_key=~\\\"$ext_value\\\", namespace=~\\\"$namespace\\\"},container)\",\r\n          \"refId\": \"PrometheusVariableQueryEditor-VariableQuery\"\r\n        },\r\n        \"refresh\": 2,\r\n        \"regex\": \"\",\r\n        \"sort\": 5,\r\n        \"type\": \"query\"\r\n      },\r\n      {\r\n        \"allValue\": \".*\",\r\n        \"current\": {\r\n          \"text\": \"All\",\r\n          \"value\": \"$__all\"\r\n        },\r\n        \"datasource\": {\r\n          \"type\": \"prometheus\",\r\n          \"uid\": \"KubeDoor-Prometheus\"\r\n        },\r\n        \"definition\": \"label_values(kube_pod_container_info{$ext_key=~\\\"$ext_value\\\", namespace=~\\\"$namespace\\\", container=~\\\"$container\\\"},pod)\",\r\n        \"includeAll\": true,\r\n        \"label\": \"Pod\",\r\n        \"name\": \"pod\",\r\n        \"options\": [],\r\n        \"query\": {\r\n          \"qryType\": 1,\r\n          \"query\": \"label_values(kube_pod_container_info{$ext_key=~\\\"$ext_value\\\", namespace=~\\\"$namespace\\\", container=~\\\"$container\\\"},pod)\",\r\n          \"refId\": \"PrometheusVariableQueryEditor-VariableQuery\"\r\n        },\r\n        \"refresh\": 2,\r\n        \"regex\": \"\",\r\n        \"sort\": 5,\r\n        \"type\": \"query\"\r\n      }\r\n    ]\r\n  },\r\n  \"time\": {\r\n    \"from\": \"now-30m\",\r\n    \"to\": \"now\"\r\n  },\r\n  \"timepicker\": {\r\n    \"refresh_intervals\": [\r\n      \"30s\",\r\n      \"1m\",\r\n      \"5m\",\r\n      \"15m\",\r\n      \"30m\",\r\n      \"1h\"\r\n    ]\r\n  },\r\n  \"timezone\": \"browser\",\r\n  \"title\": \"KubeDoor - K8S资源实时监控看板\",\r\n  \"uid\": \"KubeDoor-K8S\",\r\n  \"version\": 15,\r\n  \"weekStart\": \"\"\r\n}`}}"
  KubeDoor-Node.json: "{{`{\r\n  \"annotations\": {\r\n    \"list\": [\r\n      {\r\n        \"$$hashKey\": \"object:2875\",\r\n        \"builtIn\": 1,\r\n        \"datasource\": {\r\n          \"type\": \"datasource\",\r\n          \"uid\": \"grafana\"\r\n        },\r\n        \"enable\": true,\r\n        \"hide\": true,\r\n        \"iconColor\": \"rgba(0, 211, 255, 1)\",\r\n        \"name\": \"Annotations & Alerts\",\r\n        \"target\": {\r\n          \"limit\": 100,\r\n          \"matchAny\": false,\r\n          \"tags\": [],\r\n          \"type\": \"dashboard\"\r\n        },\r\n        \"type\": \"dashboard\"\r\n      }\r\n    ]\r\n  },\r\n  \"description\": \"KubeDoor - K8S节点资源实时监控\",\r\n  \"editable\": true,\r\n  \"fiscalYearStartMonth\": 0,\r\n  \"graphTooltip\": 0,\r\n  \"id\": 713,\r\n  \"links\": [\r\n    {\r\n      \"$$hashKey\": \"object:2300\",\r\n      \"icon\": \"bolt\",\r\n      \"tags\": [],\r\n      \"targetBlank\": true,\r\n      \"title\": \"Update\",\r\n      \"tooltip\": \"更多仪表板\",\r\n      \"type\": \"link\",\r\n      \"url\": \"https://grafana.com/orgs/starsliao/dashboards\"\r\n    },\r\n    {\r\n      \"$$hashKey\": \"object:2301\",\r\n      \"icon\": \"question\",\r\n      \"tags\": [],\r\n      \"targetBlank\": true,\r\n      \"title\": \"GitHub\",\r\n      \"tooltip\": \"GITHUB：TenSunS\",\r\n      \"type\": \"link\",\r\n      \"url\": \"https://github.com/starsliao/TenSunS\"\r\n    }\r\n  ],\r\n  \"panels\": [\r\n    {\r\n      \"collapsed\": false,\r\n      \"gridPos\": {\r\n        \"h\": 1,\r\n        \"w\": 24,\r\n        \"x\": 0,\r\n        \"y\": 0\r\n      },\r\n      \"id\": 187,\r\n      \"panels\": [],\r\n      \"title\": \"🏡资源总览【K8S：$ext_value】\",\r\n      \"type\": \"row\"\r\n    },\r\n    {\r\n      \"datasource\": {\r\n        \"type\": \"prometheus\",\r\n        \"uid\": \"KubeDoor-Prometheus\"\r\n      },\r\n      \"description\": \"标记*字段解释：\\n注意： 分区默认只统计ext?和XFS格式的分区。\\n- 最大分区：该主机最大的分区的总容量\\n- 最大分区使用率：总容量最大的那个分区的磁盘使用率\\n- 最大使用率：磁盘使用率最高的那个分区的磁盘使用率\\n- IOutil使用率：IOutil最大的那个分区的磁盘IOutil\\n- 磁盘读写：读写最大的那个分区的磁盘读写速度\\n- 网络上下载带宽：带宽使用最多的那个网卡的带宽使用量\\n\\n- 连接数：状态为 ESTABLISHED 或 CLOSE-WAIT 的 TCP 连接数\\n- TCPtw：等待关闭的TCP连接数\\n\\n健康值是一个新增的指标：\\n- 根据CPU，内存，IO计算出来的一个值，低于90分说明系统的资源使用情况需要注意了。\\n- 这是一个正在测试的指标参数可能需要根据实际情况再优化，如果展示的主机量较多，该查询可能会消耗较多资源引起卡顿，您可以编辑表格，禁用这个查询的promql。\",\r\n      \"fieldConfig\": {\r\n        \"defaults\": {\r\n          \"color\": {\r\n            \"mode\": \"thresholds\"\r\n          },\r\n          \"custom\": {\r\n            \"align\": \"auto\",\r\n            \"cellOptions\": {\r\n              \"type\": \"auto\"\r\n            },\r\n            \"filterable\": false,\r\n            \"inspect\": false\r\n          },\r\n          \"decimals\": 1,\r\n          \"mappings\": [],\r\n          \"max\": 100,\r\n          \"min\": 0,\r\n          \"thresholds\": {\r\n            \"mode\": \"absolute\",\r\n            \"steps\": [\r\n              {\r\n                \"color\": \"green\",\r\n                \"value\": null\r\n              }\r\n            ]\r\n          },\r\n          \"unit\": \"none\"\r\n        },\r\n        \"overrides\": [\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"内存\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"unit\",\r\n                \"value\": \"bytes\"\r\n              },\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 66\r\n              },\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"blue\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"custom.cellOptions\",\r\n                \"value\": {\r\n                  \"type\": \"color-text\"\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"decimals\",\r\n                \"value\": 0\r\n              },\r\n              {\r\n                \"id\": \"custom.filterable\",\r\n                \"value\": true\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"启动(天)\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"unit\",\r\n                \"value\": \"none\"\r\n              },\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 66\r\n              },\r\n              {\r\n                \"id\": \"decimals\"\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"磁盘读取*\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"unit\",\r\n                \"value\": \"binBps\"\r\n              },\r\n              {\r\n                \"id\": \"custom.cellOptions\",\r\n                \"value\": {\r\n                  \"mode\": \"gradient\",\r\n                  \"type\": \"color-background\"\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"thresholds\",\r\n                \"value\": {\r\n                  \"mode\": \"absolute\",\r\n                  \"steps\": [\r\n                    {\r\n                      \"color\": \"green\",\r\n                      \"value\": null\r\n                    },\r\n                    {\r\n                      \"color\": \"orange\",\r\n                      \"value\": 10485760\r\n                    },\r\n                    {\r\n                      \"color\": \"red\",\r\n                      \"value\": 20485760\r\n                    }\r\n                  ]\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 89\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"磁盘写入*\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"unit\",\r\n                \"value\": \"binBps\"\r\n              },\r\n              {\r\n                \"id\": \"custom.cellOptions\",\r\n                \"value\": {\r\n                  \"mode\": \"gradient\",\r\n                  \"type\": \"color-background\"\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"thresholds\",\r\n                \"value\": {\r\n                  \"mode\": \"absolute\",\r\n                  \"steps\": [\r\n                    {\r\n                      \"color\": \"green\",\r\n                      \"value\": null\r\n                    },\r\n                    {\r\n                      \"color\": \"orange\",\r\n                      \"value\": 10485760\r\n                    },\r\n                    {\r\n                      \"color\": \"red\",\r\n                      \"value\": 20485760\r\n                    }\r\n                  ]\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 89\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"下载带宽*\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"unit\",\r\n                \"value\": \"binbps\"\r\n              },\r\n              {\r\n                \"id\": \"custom.cellOptions\",\r\n                \"value\": {\r\n                  \"mode\": \"gradient\",\r\n                  \"type\": \"color-background\"\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"thresholds\",\r\n                \"value\": {\r\n                  \"mode\": \"absolute\",\r\n                  \"steps\": [\r\n                    {\r\n                      \"color\": \"green\",\r\n                      \"value\": null\r\n                    },\r\n                    {\r\n                      \"color\": \"orange\",\r\n                      \"value\": 30485760\r\n                    },\r\n                    {\r\n                      \"color\": \"red\",\r\n                      \"value\": 104857600\r\n                    }\r\n                  ]\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 91\r\n              },\r\n              {\r\n                \"id\": \"decimals\"\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"上传带宽*\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"unit\",\r\n                \"value\": \"binbps\"\r\n              },\r\n              {\r\n                \"id\": \"custom.cellOptions\",\r\n                \"value\": {\r\n                  \"mode\": \"gradient\",\r\n                  \"type\": \"color-background\"\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"thresholds\",\r\n                \"value\": {\r\n                  \"mode\": \"absolute\",\r\n                  \"steps\": [\r\n                    {\r\n                      \"color\": \"green\",\r\n                      \"value\": null\r\n                    },\r\n                    {\r\n                      \"color\": \"orange\",\r\n                      \"value\": 30485760\r\n                    },\r\n                    {\r\n                      \"color\": \"red\",\r\n                      \"value\": 104857600\r\n                    }\r\n                  ]\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 85\r\n              },\r\n              {\r\n                \"id\": \"decimals\"\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"负载\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"decimals\",\r\n                \"value\": 2\r\n              },\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 55\r\n              },\r\n              {\r\n                \"id\": \"fieldMinMax\",\r\n                \"value\": true\r\n              },\r\n              {\r\n                \"id\": \"custom.cellOptions\",\r\n                \"value\": {\r\n                  \"type\": \"color-text\"\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"mode\": \"continuous-YlRd\"\r\n                }\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"连接数\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.cellOptions\",\r\n                \"value\": {\r\n                  \"mode\": \"gradient\",\r\n                  \"type\": \"color-background\"\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"thresholds\",\r\n                \"value\": {\r\n                  \"mode\": \"absolute\",\r\n                  \"steps\": [\r\n                    {\r\n                      \"color\": \"green\",\r\n                      \"value\": null\r\n                    },\r\n                    {\r\n                      \"color\": \"orange\",\r\n                      \"value\": 1000\r\n                    },\r\n                    {\r\n                      \"color\": \"red\",\r\n                      \"value\": 1500\r\n                    }\r\n                  ]\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 55\r\n              },\r\n              {\r\n                \"id\": \"decimals\"\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"TCPtw\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.cellOptions\",\r\n                \"value\": {\r\n                  \"mode\": \"gradient\",\r\n                  \"type\": \"color-background\"\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"thresholds\",\r\n                \"value\": {\r\n                  \"mode\": \"absolute\",\r\n                  \"steps\": [\r\n                    {\r\n                      \"color\": \"green\",\r\n                      \"value\": null\r\n                    },\r\n                    {\r\n                      \"color\": \"orange\",\r\n                      \"value\": 5000\r\n                    },\r\n                    {\r\n                      \"color\": \"red\",\r\n                      \"value\": 20000\r\n                    }\r\n                  ]\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 60\r\n              },\r\n              {\r\n                \"id\": \"decimals\"\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"CPU\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 60\r\n              },\r\n              {\r\n                \"id\": \"decimals\",\r\n                \"value\": 0\r\n              },\r\n              {\r\n                \"id\": \"custom.cellOptions\",\r\n                \"value\": {\r\n                  \"type\": \"color-text\"\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"blue\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"custom.filterable\",\r\n                \"value\": true\r\n              },\r\n              {\r\n                \"id\": \"mappings\",\r\n                \"value\": [\r\n                  {\r\n                    \"options\": {\r\n                      \"pattern\": \"/(.*)2.*/\",\r\n                      \"result\": {\r\n                        \"index\": 0,\r\n                        \"text\": \"$1\"\r\n                      }\r\n                    },\r\n                    \"type\": \"regex\"\r\n                  }\r\n                ]\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"IP\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 102\r\n              },\r\n              {\r\n                \"id\": \"custom.filterable\",\r\n                \"value\": true\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"名称\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.filterable\",\r\n                \"value\": true\r\n              },\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 123\r\n              },\r\n              {\r\n                \"id\": \"links\",\r\n                \"value\": [\r\n                  {\r\n                    \"targetBlank\": false,\r\n                    \"title\": \"跳转主机资源明细\",\r\n                    \"url\": \"/d/StarsL-TenSunS-node/?${group:queryparam}&${sname:queryparam}&var-name=${__data.fields.名称}&orgId=1&var-instance=${__data.fields.IP}\"\r\n                  }\r\n                ]\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"健康值\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 56\r\n              },\r\n              {\r\n                \"id\": \"thresholds\",\r\n                \"value\": {\r\n                  \"mode\": \"absolute\",\r\n                  \"steps\": [\r\n                    {\r\n                      \"color\": \"red\",\r\n                      \"value\": null\r\n                    },\r\n                    {\r\n                      \"color\": \"orange\",\r\n                      \"value\": 80\r\n                    },\r\n                    {\r\n                      \"color\": \"green\",\r\n                      \"value\": 90\r\n                    }\r\n                  ]\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"mode\": \"thresholds\"\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"custom.cellOptions\",\r\n                \"value\": {\r\n                  \"mode\": \"gradient\",\r\n                  \"type\": \"color-background\"\r\n                }\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byRegexp\",\r\n              \"options\": \"/.*使用率.*/\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"unit\",\r\n                \"value\": \"percent\"\r\n              },\r\n              {\r\n                \"id\": \"custom.cellOptions\",\r\n                \"value\": {\r\n                  \"mode\": \"gradient\",\r\n                  \"type\": \"gauge\",\r\n                  \"valueDisplayMode\": \"color\"\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"mode\": \"continuous-GrYlRd\"\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 110\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"到期日\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 97\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"实例ID\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 71\r\n              },\r\n              {\r\n                \"id\": \"custom.inspect\",\r\n                \"value\": true\r\n              },\r\n              {\r\n                \"id\": \"custom.filterable\",\r\n                \"value\": true\r\n              },\r\n              {\r\n                \"id\": \"links\"\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byType\",\r\n              \"options\": \"number\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.align\",\r\n                \"value\": \"center\"\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"属组\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 118\r\n              },\r\n              {\r\n                \"id\": \"custom.filterable\",\r\n                \"value\": true\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byRegexp\",\r\n              \"options\": \"/.*/\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"filterable\"\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"最大分区*\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 77\r\n              },\r\n              {\r\n                \"id\": \"unit\",\r\n                \"value\": \"bytes\"\r\n              },\r\n              {\r\n                \"id\": \"decimals\",\r\n                \"value\": 0\r\n              },\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"blue\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"custom.cellOptions\",\r\n                \"value\": {\r\n                  \"type\": \"color-text\"\r\n                }\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"最大分区使用率*\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 120\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"主机名\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\"\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      },\r\n      \"gridPos\": {\r\n        \"h\": 9,\r\n        \"w\": 24,\r\n        \"x\": 0,\r\n        \"y\": 1\r\n      },\r\n      \"id\": 198,\r\n      \"options\": {\r\n        \"cellHeight\": \"sm\",\r\n        \"footer\": {\r\n          \"countRows\": false,\r\n          \"fields\": [\r\n            \"Value #B\",\r\n            \"Value #C\",\r\n            \"Value #L\",\r\n            \"Value #H\",\r\n            \"Value #I\",\r\n            \"Value #M\",\r\n            \"Value #N\",\r\n            \"Value #J\",\r\n            \"Value #K\"\r\n          ],\r\n          \"reducer\": [\r\n            \"sum\"\r\n          ],\r\n          \"show\": false\r\n        },\r\n        \"showHeader\": true,\r\n        \"sortBy\": [\r\n          {\r\n            \"desc\": false,\r\n            \"displayName\": \"健康值\"\r\n          }\r\n        ]\r\n      },\r\n      \"pluginVersion\": \"11.4.0\",\r\n      \"targets\": [\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": false,\r\n          \"expr\": \"node_uname_info{$ext_key=~\\\"$ext_value\\\"} - 0\",\r\n          \"format\": \"table\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"主机名\",\r\n          \"refId\": \"A\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": false,\r\n          \"expr\": \"sum(time() - node_boot_time_seconds{$ext_key=~\\\"$ext_value\\\"})by(instance)/86400\",\r\n          \"format\": \"table\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"运行时间\",\r\n          \"refId\": \"D\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": false,\r\n          \"expr\": \"node_memory_MemTotal_bytes{$ext_key=~\\\"$ext_value\\\"} - 0\",\r\n          \"format\": \"table\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"总内存\",\r\n          \"refId\": \"B\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": false,\r\n          \"expr\": \"count(node_cpu_seconds_total{$ext_key=~\\\"$ext_value\\\",mode='system'}) by (instance)\",\r\n          \"format\": \"table\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"总核数\",\r\n          \"refId\": \"C\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": false,\r\n          \"expr\": \"node_load5{$ext_key=~\\\"$ext_value\\\"}\",\r\n          \"format\": \"table\",\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"5分钟负载\",\r\n          \"refId\": \"L\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": false,\r\n          \"expr\": \"(1 - avg(irate(node_cpu_seconds_total{$ext_key=~\\\"$ext_value\\\",mode=\\\"idle\\\"}[$interval])) by (instance)) * 100\",\r\n          \"format\": \"table\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"CPU使用率\",\r\n          \"refId\": \"F\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": false,\r\n          \"expr\": \"(1 - (node_memory_MemAvailable_bytes{$ext_key=~\\\"$ext_value\\\"} / (node_memory_MemTotal_bytes{$ext_key=~\\\"$ext_value\\\"})))* 100\",\r\n          \"format\": \"table\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"内存使用率\",\r\n          \"refId\": \"G\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": false,\r\n          \"expr\": \"max((node_filesystem_size_bytes{$ext_key=~\\\"$ext_value\\\",fstype=~\\\"ext.?|xfs\\\"}-node_filesystem_free_bytes{$ext_key=~\\\"$ext_value\\\",fstype=~\\\"ext.?|xfs\\\"}) *100/(node_filesystem_avail_bytes {$ext_key=~\\\"$ext_value\\\",fstype=~\\\"ext.?|xfs\\\"}+(node_filesystem_size_bytes{$ext_key=~\\\"$ext_value\\\",fstype=~\\\"ext.?|xfs\\\"}-node_filesystem_free_bytes{$ext_key=~\\\"$ext_value\\\",fstype=~\\\"ext.?|xfs\\\"})))by(instance)\",\r\n          \"format\": \"table\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"__auto\",\r\n          \"refId\": \"E\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": false,\r\n          \"expr\": \"max(irate(node_disk_read_bytes_total{$ext_key=~\\\"$ext_value\\\"}[$interval])) by (instance)\",\r\n          \"format\": \"table\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"最大读取\",\r\n          \"refId\": \"H\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": false,\r\n          \"expr\": \"max(irate(node_disk_written_bytes_total{$ext_key=~\\\"$ext_value\\\"}[$interval])) by (instance)\",\r\n          \"format\": \"table\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"最大写入\",\r\n          \"refId\": \"I\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": false,\r\n          \"expr\": \"node_netstat_Tcp_CurrEstab{$ext_key=~\\\"$ext_value\\\"} - 0\",\r\n          \"format\": \"table\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"连接数\",\r\n          \"refId\": \"M\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": false,\r\n          \"expr\": \"node_sockstat_TCP_tw{$ext_key=~\\\"$ext_value\\\"} - 0\",\r\n          \"format\": \"table\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"TIME_WAIT\",\r\n          \"refId\": \"N\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": false,\r\n          \"expr\": \"max(irate(node_network_receive_bytes_total{$ext_key=~\\\"$ext_value\\\",device=~\\\"$device\\\"}[$interval])*8) by (instance)\",\r\n          \"format\": \"table\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"下载带宽\",\r\n          \"refId\": \"J\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": false,\r\n          \"expr\": \"max(irate(node_network_transmit_bytes_total{$ext_key=~\\\"$ext_value\\\",device=~\\\"$device\\\"}[$interval])*8) by (instance)\",\r\n          \"format\": \"table\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"上传带宽\",\r\n          \"refId\": \"K\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": false,\r\n          \"expr\": \"((1-(1 - avg(irate(node_cpu_seconds_total{$ext_key=~\\\"$ext_value\\\",mode=\\\"idle\\\"}[$interval])) by (instance))^1.3)^(1/3)*0.5 + \\r\\n(1-(1 - avg(node_memory_MemAvailable_bytes{$ext_key=~\\\"$ext_value\\\"} / node_memory_MemTotal_bytes{$ext_key=~\\\"$ext_value\\\"})by (instance))^6)^(1/3)*0.3 + \\r\\n(1 - max(irate(node_disk_io_time_seconds_total{$ext_key=~\\\"$ext_value\\\"}[$interval]))by (instance)^1.1)^(1/2)*0.2)*100\",\r\n          \"format\": \"table\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"__auto\",\r\n          \"refId\": \"O\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": false,\r\n          \"expr\": \"max(irate(node_disk_io_time_seconds_total{$ext_key=~\\\"$ext_value\\\"}[$interval])) by (instance) *100\",\r\n          \"format\": \"table\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"IOutil使用率\",\r\n          \"refId\": \"P\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": false,\r\n          \"expr\": \"max(node_filesystem_size_bytes{$ext_key=~\\\"$ext_value\\\",fstype=~\\\"ext.*|xfs\\\",mountpoint !~\\\".*pod.*\\\"}) by(instance)\",\r\n          \"format\": \"table\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"最大分区容量\",\r\n          \"refId\": \"Q\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": false,\r\n          \"expr\": \"max by(instance,mountpoint)(node_filesystem_size_bytes{$ext_key=~\\\"$ext_value\\\",fstype=~\\\"ext.?|xfs\\\"}-node_filesystem_free_bytes{$ext_key=~\\\"$ext_value\\\",fstype=~\\\"ext.?|xfs\\\"}) *100/topk (1,(max by (instance,mountpoint)(node_filesystem_avail_bytes {$ext_key=~\\\"$ext_value\\\",fstype=~\\\"ext.?|xfs\\\"}+(node_filesystem_size_bytes{$ext_key=~\\\"$ext_value\\\",fstype=~\\\"ext.?|xfs\\\"}-node_filesystem_free_bytes{$ext_key=~\\\"$ext_value\\\",fstype=~\\\"ext.?|xfs\\\"})))) by (instance)\",\r\n          \"format\": \"table\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"__auto\",\r\n          \"refId\": \"R\"\r\n        }\r\n      ],\r\n      \"title\": \"服务器资源总览表【主机总数：$total】\",\r\n      \"transformations\": [\r\n        {\r\n          \"id\": \"merge\",\r\n          \"options\": {\r\n            \"reducers\": []\r\n          }\r\n        },\r\n        {\r\n          \"id\": \"filterFieldsByName\",\r\n          \"options\": {\r\n            \"include\": {\r\n              \"pattern\": \"/^Value #[^A]|^instance$|^nodename$/\"\r\n            }\r\n          }\r\n        },\r\n        {\r\n          \"id\": \"organize\",\r\n          \"options\": {\r\n            \"excludeByName\": {\r\n              \"exp\": true\r\n            },\r\n            \"includeByName\": {},\r\n            \"indexByName\": {\r\n              \"Value #B\": 6,\r\n              \"Value #C\": 3,\r\n              \"Value #D\": 18,\r\n              \"Value #E\": 10,\r\n              \"Value #F\": 5,\r\n              \"Value #G\": 7,\r\n              \"Value #H\": 12,\r\n              \"Value #I\": 13,\r\n              \"Value #J\": 16,\r\n              \"Value #K\": 17,\r\n              \"Value #L\": 4,\r\n              \"Value #M\": 14,\r\n              \"Value #N\": 15,\r\n              \"Value #O\": 2,\r\n              \"Value #P\": 11,\r\n              \"Value #Q\": 8,\r\n              \"Value #R\": 9,\r\n              \"instance\": 1,\r\n              \"nodename\": 0\r\n            },\r\n            \"renameByName\": {\r\n              \"Value #B\": \"内存\",\r\n              \"Value #C\": \"CPU\",\r\n              \"Value #D\": \"启动(天)\",\r\n              \"Value #E\": \"最大使用率*\",\r\n              \"Value #F\": \"CPU使用率\",\r\n              \"Value #G\": \"内存使用率\",\r\n              \"Value #H\": \"磁盘读取*\",\r\n              \"Value #I\": \"磁盘写入*\",\r\n              \"Value #J\": \"下载带宽*\",\r\n              \"Value #K\": \"上传带宽*\",\r\n              \"Value #L\": \"负载\",\r\n              \"Value #M\": \"连接数\",\r\n              \"Value #N\": \"TCPtw\",\r\n              \"Value #O\": \"健康值\",\r\n              \"Value #P\": \"IOutil使用率*\",\r\n              \"Value #Q\": \"最大分区*\",\r\n              \"Value #R\": \"最大分区使用率*\",\r\n              \"Value #S\": \"oom3d\",\r\n              \"exp\": \"到期日\",\r\n              \"group\": \"属组\",\r\n              \"iid\": \"实例ID\",\r\n              \"instance\": \"IP\",\r\n              \"name\": \"名称\",\r\n              \"nodename\": \"主机名\",\r\n              \"release\": \"内核\"\r\n            }\r\n          }\r\n        }\r\n      ],\r\n      \"type\": \"table\"\r\n    },\r\n    {\r\n      \"datasource\": {\r\n        \"type\": \"prometheus\",\r\n        \"uid\": \"KubeDoor-Prometheus\"\r\n      },\r\n      \"description\": \"- P99：数据集按升序排列，第99分位置大的数据。（即升序排列后排在99%位置的数据）\\n- 该表格需要在Prometheus增加记录规则（参考看板下载页）\\n- 采集1小时后出数据\\n- 时间范围[7d:1h]表示要查看过去 7 天内每小时的数据点。\\n- node_vmstat_oom_kill需要 Linux 内核版本 4.13及更高版本。\",\r\n      \"fieldConfig\": {\r\n        \"defaults\": {\r\n          \"color\": {\r\n            \"mode\": \"palette-classic\"\r\n          },\r\n          \"custom\": {\r\n            \"align\": \"center\",\r\n            \"cellOptions\": {\r\n              \"type\": \"color-text\"\r\n            },\r\n            \"inspect\": false\r\n          },\r\n          \"mappings\": [],\r\n          \"max\": 100,\r\n          \"min\": 0,\r\n          \"thresholds\": {\r\n            \"mode\": \"absolute\",\r\n            \"steps\": [\r\n              {\r\n                \"color\": \"green\",\r\n                \"value\": null\r\n              },\r\n              {\r\n                \"color\": \"red\",\r\n                \"value\": 80\r\n              }\r\n            ]\r\n          }\r\n        },\r\n        \"overrides\": [\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byRegexp\",\r\n              \"options\": \"/.*%/\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"unit\",\r\n                \"value\": \"percent\"\r\n              },\r\n              {\r\n                \"id\": \"decimals\",\r\n                \"value\": 1\r\n              },\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 72\r\n              },\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"mode\": \"continuous-GrYlRd\"\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"custom.cellOptions\",\r\n                \"value\": {\r\n                  \"type\": \"color-background\"\r\n                }\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"IP\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 85\r\n              },\r\n              {\r\n                \"id\": \"mappings\",\r\n                \"value\": [\r\n                  {\r\n                    \"options\": {\r\n                      \"pattern\": \"/(.+):.+/\",\r\n                      \"result\": {\r\n                        \"index\": 0,\r\n                        \"text\": \"$1\"\r\n                      }\r\n                    },\r\n                    \"type\": \"regex\"\r\n                  }\r\n                ]\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"主机名\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 113\r\n              },\r\n              {\r\n                \"id\": \"custom.align\",\r\n                \"value\": \"left\"\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byType\",\r\n              \"options\": \"string\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"filterable\",\r\n                \"value\": false\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"P99CPU%\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 75\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"3天oom\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 65\r\n              },\r\n              {\r\n                \"id\": \"thresholds\",\r\n                \"value\": {\r\n                  \"mode\": \"absolute\",\r\n                  \"steps\": [\r\n                    {\r\n                      \"color\": \"green\",\r\n                      \"value\": null\r\n                    },\r\n                    {\r\n                      \"color\": \"#EAB839\",\r\n                      \"value\": 1\r\n                    },\r\n                    {\r\n                      \"color\": \"red\",\r\n                      \"value\": 2\r\n                    }\r\n                  ]\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"unit\",\r\n                \"value\": \"none\"\r\n              },\r\n              {\r\n                \"id\": \"custom.cellOptions\",\r\n                \"value\": {\r\n                  \"applyToRow\": false,\r\n                  \"mode\": \"gradient\",\r\n                  \"type\": \"color-background\"\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"color\"\r\n              },\r\n              {\r\n                \"id\": \"mappings\",\r\n                \"value\": [\r\n                  {\r\n                    \"options\": {\r\n                      \"match\": \"null+nan\",\r\n                      \"result\": {\r\n                        \"color\": \"#808080\",\r\n                        \"index\": 0,\r\n                        \"text\": \"不支持\"\r\n                      }\r\n                    },\r\n                    \"type\": \"special\"\r\n                  }\r\n                ]\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"P99内存%\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 78\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      },\r\n      \"gridPos\": {\r\n        \"h\": 7,\r\n        \"w\": 6,\r\n        \"x\": 0,\r\n        \"y\": 10\r\n      },\r\n      \"id\": 200,\r\n      \"links\": [\r\n        {\r\n          \"targetBlank\": true,\r\n          \"title\": \"https://grafana.com/grafana/dashboards/8919-node-exporter-dashboard-20240520-tensuns/\",\r\n          \"url\": \"https://grafana.com/grafana/dashboards/8919-node-exporter-dashboard-20240520-tensuns/\uFEFF\"\r\n        }\r\n      ],\r\n      \"options\": {\r\n        \"cellHeight\": \"sm\",\r\n        \"footer\": {\r\n          \"countRows\": false,\r\n          \"fields\": \"\",\r\n          \"reducer\": [\r\n            \"sum\"\r\n          ],\r\n          \"show\": false\r\n        },\r\n        \"showHeader\": true,\r\n        \"sortBy\": [\r\n          {\r\n            \"desc\": true,\r\n            \"displayName\": \"P99CPU%\"\r\n          }\r\n        ]\r\n      },\r\n      \"pluginVersion\": \"11.4.0\",\r\n      \"targets\": [\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": false,\r\n          \"expr\": \"node_uname_info{$ext_key=~\\\"$ext_value\\\"} - 0\",\r\n          \"format\": \"table\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"__auto\",\r\n          \"refId\": \"A\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": false,\r\n          \"expr\": \"quantile_over_time(0.99, cpu:usage:rate1m{$ext_key=~\\\"$ext_value\\\"}[7d:1h])\",\r\n          \"format\": \"table\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"CPU使用率P99\",\r\n          \"refId\": \"B\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": false,\r\n          \"expr\": \"quantile_over_time(0.99, mem:usage:rate1m{$ext_key=~\\\"$ext_value\\\"}[7d:1h])\",\r\n          \"format\": \"table\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"内存使用率P99\",\r\n          \"refId\": \"C\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": false,\r\n          \"expr\": \"increase(node_vmstat_oom_kill{$ext_key=~\\\"$ext_value\\\"}[3d])\",\r\n          \"format\": \"table\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"OOM3d\",\r\n          \"refId\": \"E\"\r\n        }\r\n      ],\r\n      \"title\": \"最近7天P99资源使用率\",\r\n      \"transformations\": [\r\n        {\r\n          \"id\": \"seriesToColumns\",\r\n          \"options\": {\r\n            \"byField\": \"instance\"\r\n          }\r\n        },\r\n        {\r\n          \"id\": \"filterFieldsByName\",\r\n          \"options\": {\r\n            \"include\": {\r\n              \"pattern\": \"/^Value #[^A]|^instance$|^nodename$/\"\r\n            }\r\n          }\r\n        },\r\n        {\r\n          \"id\": \"organize\",\r\n          \"options\": {\r\n            \"excludeByName\": {},\r\n            \"includeByName\": {},\r\n            \"indexByName\": {\r\n              \"Value #B\": 2,\r\n              \"Value #C\": 3,\r\n              \"Value #E\": 4,\r\n              \"instance\": 1,\r\n              \"nodename\": 0\r\n            },\r\n            \"renameByName\": {\r\n              \"Value #B\": \"P99CPU%\",\r\n              \"Value #C\": \"P99内存%\",\r\n              \"Value #E\": \"3天oom\",\r\n              \"instance\": \"IP\",\r\n              \"name\": \"名称\",\r\n              \"name 1\": \"名称\",\r\n              \"nodename\": \"主机名\"\r\n            }\r\n          }\r\n        }\r\n      ],\r\n      \"type\": \"table\"\r\n    },\r\n    {\r\n      \"datasource\": {\r\n        \"type\": \"prometheus\",\r\n        \"uid\": \"KubeDoor-Prometheus\"\r\n      },\r\n      \"description\": \"\",\r\n      \"fieldConfig\": {\r\n        \"defaults\": {\r\n          \"color\": {\r\n            \"mode\": \"palette-classic\"\r\n          },\r\n          \"custom\": {\r\n            \"axisBorderShow\": false,\r\n            \"axisCenteredZero\": false,\r\n            \"axisColorMode\": \"series\",\r\n            \"axisLabel\": \"总5分钟负载\",\r\n            \"axisPlacement\": \"auto\",\r\n            \"barAlignment\": 0,\r\n            \"barWidthFactor\": 0.6,\r\n            \"drawStyle\": \"line\",\r\n            \"fillOpacity\": 0,\r\n            \"gradientMode\": \"none\",\r\n            \"hideFrom\": {\r\n              \"legend\": false,\r\n              \"tooltip\": false,\r\n              \"viz\": false\r\n            },\r\n            \"insertNulls\": false,\r\n            \"lineInterpolation\": \"linear\",\r\n            \"lineWidth\": 1,\r\n            \"pointSize\": 5,\r\n            \"scaleDistribution\": {\r\n              \"type\": \"linear\"\r\n            },\r\n            \"showPoints\": \"never\",\r\n            \"spanNulls\": false,\r\n            \"stacking\": {\r\n              \"group\": \"A\",\r\n              \"mode\": \"none\"\r\n            },\r\n            \"thresholdsStyle\": {\r\n              \"mode\": \"off\"\r\n            }\r\n          },\r\n          \"links\": [],\r\n          \"mappings\": [],\r\n          \"thresholds\": {\r\n            \"mode\": \"absolute\",\r\n            \"steps\": [\r\n              {\r\n                \"color\": \"green\",\r\n                \"value\": null\r\n              },\r\n              {\r\n                \"color\": \"red\",\r\n                \"value\": 80\r\n              }\r\n            ]\r\n          },\r\n          \"unit\": \"none\"\r\n        },\r\n        \"overrides\": [\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"CPU%\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"unit\",\r\n                \"value\": \"percent\"\r\n              },\r\n              {\r\n                \"id\": \"custom.axisLabel\",\r\n                \"value\": \"CPU核使用率\"\r\n              },\r\n              {\r\n                \"id\": \"custom.pointSize\",\r\n                \"value\": 2\r\n              },\r\n              {\r\n                \"id\": \"custom.drawStyle\",\r\n                \"value\": \"points\"\r\n              },\r\n              {\r\n                \"id\": \"custom.hideFrom\",\r\n                \"value\": {\r\n                  \"legend\": true,\r\n                  \"tooltip\": false,\r\n                  \"viz\": false\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"decimals\",\r\n                \"value\": 1\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"核数\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"#C4162A\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"custom.pointSize\",\r\n                \"value\": 3\r\n              },\r\n              {\r\n                \"id\": \"custom.drawStyle\",\r\n                \"value\": \"line\"\r\n              },\r\n              {\r\n                \"id\": \"custom.showPoints\",\r\n                \"value\": \"always\"\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"5m负载\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"orange\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      },\r\n      \"gridPos\": {\r\n        \"h\": 7,\r\n        \"w\": 6,\r\n        \"x\": 6,\r\n        \"y\": 10\r\n      },\r\n      \"id\": 191,\r\n      \"maxDataPoints\": 100,\r\n      \"options\": {\r\n        \"legend\": {\r\n          \"calcs\": [\r\n            \"max\"\r\n          ],\r\n          \"displayMode\": \"list\",\r\n          \"placement\": \"bottom\",\r\n          \"showLegend\": true\r\n        },\r\n        \"tooltip\": {\r\n          \"maxHeight\": 600,\r\n          \"mode\": \"multi\",\r\n          \"sort\": \"desc\"\r\n        }\r\n      },\r\n      \"pluginVersion\": \"11.4.0\",\r\n      \"targets\": [\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": true,\r\n          \"expr\": \"sum(node_load5{$ext_key=~\\\"$ext_value\\\"})\",\r\n          \"format\": \"time_series\",\r\n          \"hide\": false,\r\n          \"interval\": \"\",\r\n          \"intervalFactor\": 1,\r\n          \"legendFormat\": \"5m负载\",\r\n          \"range\": true,\r\n          \"refId\": \"A\",\r\n          \"step\": 240\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": true,\r\n          \"expr\": \"count(node_cpu_seconds_total{$ext_key=~\\\"$ext_value\\\",mode='system'})\",\r\n          \"format\": \"time_series\",\r\n          \"hide\": false,\r\n          \"instant\": false,\r\n          \"interval\": \"2m\",\r\n          \"intervalFactor\": 1,\r\n          \"legendFormat\": \"核数\",\r\n          \"refId\": \"B\",\r\n          \"step\": 240\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": true,\r\n          \"expr\": \"sum(node_load5{$ext_key=~\\\"$ext_value\\\"})/count(node_cpu_seconds_total{$ext_key=~\\\"$ext_value\\\",mode='system'}) *100\",\r\n          \"format\": \"time_series\",\r\n          \"hide\": false,\r\n          \"interval\": \"\",\r\n          \"intervalFactor\": 1,\r\n          \"legendFormat\": \"CPU%\",\r\n          \"range\": true,\r\n          \"refId\": \"F\",\r\n          \"step\": 240\r\n        }\r\n      ],\r\n      \"title\": \"整体总负载【K8S：$ext_value】\",\r\n      \"type\": \"timeseries\"\r\n    },\r\n    {\r\n      \"datasource\": {\r\n        \"type\": \"prometheus\",\r\n        \"uid\": \"KubeDoor-Prometheus\"\r\n      },\r\n      \"fieldConfig\": {\r\n        \"defaults\": {\r\n          \"color\": {\r\n            \"mode\": \"palette-classic\"\r\n          },\r\n          \"custom\": {\r\n            \"axisBorderShow\": false,\r\n            \"axisCenteredZero\": false,\r\n            \"axisColorMode\": \"series\",\r\n            \"axisLabel\": \"总已用内存\",\r\n            \"axisPlacement\": \"auto\",\r\n            \"barAlignment\": 0,\r\n            \"barWidthFactor\": 0.6,\r\n            \"drawStyle\": \"line\",\r\n            \"fillOpacity\": 0,\r\n            \"gradientMode\": \"none\",\r\n            \"hideFrom\": {\r\n              \"legend\": false,\r\n              \"tooltip\": false,\r\n              \"viz\": false\r\n            },\r\n            \"insertNulls\": false,\r\n            \"lineInterpolation\": \"linear\",\r\n            \"lineWidth\": 1,\r\n            \"pointSize\": 5,\r\n            \"scaleDistribution\": {\r\n              \"type\": \"linear\"\r\n            },\r\n            \"showPoints\": \"never\",\r\n            \"spanNulls\": false,\r\n            \"stacking\": {\r\n              \"group\": \"A\",\r\n              \"mode\": \"none\"\r\n            },\r\n            \"thresholdsStyle\": {\r\n              \"mode\": \"off\"\r\n            }\r\n          },\r\n          \"decimals\": 0,\r\n          \"links\": [],\r\n          \"mappings\": [],\r\n          \"thresholds\": {\r\n            \"mode\": \"absolute\",\r\n            \"steps\": [\r\n              {\r\n                \"color\": \"green\",\r\n                \"value\": null\r\n              },\r\n              {\r\n                \"color\": \"red\",\r\n                \"value\": 80\r\n              }\r\n            ]\r\n          },\r\n          \"unit\": \"bytes\"\r\n        },\r\n        \"overrides\": [\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"总内存\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"#C4162A\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"custom.drawStyle\",\r\n                \"value\": \"line\"\r\n              },\r\n              {\r\n                \"id\": \"custom.pointSize\",\r\n                \"value\": 3\r\n              },\r\n              {\r\n                \"id\": \"custom.showPoints\",\r\n                \"value\": \"always\"\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"内存%\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"unit\",\r\n                \"value\": \"percent\"\r\n              },\r\n              {\r\n                \"id\": \"decimals\",\r\n                \"value\": 1\r\n              },\r\n              {\r\n                \"id\": \"custom.axisLabel\",\r\n                \"value\": \"内存使用率\"\r\n              },\r\n              {\r\n                \"id\": \"custom.drawStyle\",\r\n                \"value\": \"points\"\r\n              },\r\n              {\r\n                \"id\": \"custom.pointSize\",\r\n                \"value\": 2\r\n              },\r\n              {\r\n                \"id\": \"custom.hideFrom\",\r\n                \"value\": {\r\n                  \"legend\": true,\r\n                  \"tooltip\": false,\r\n                  \"viz\": false\r\n                }\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"总已用\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"orange\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      },\r\n      \"gridPos\": {\r\n        \"h\": 7,\r\n        \"w\": 6,\r\n        \"x\": 12,\r\n        \"y\": 10\r\n      },\r\n      \"id\": 195,\r\n      \"maxDataPoints\": 100,\r\n      \"options\": {\r\n        \"legend\": {\r\n          \"calcs\": [\r\n            \"max\"\r\n          ],\r\n          \"displayMode\": \"list\",\r\n          \"placement\": \"bottom\",\r\n          \"showLegend\": true\r\n        },\r\n        \"tooltip\": {\r\n          \"maxHeight\": 600,\r\n          \"mode\": \"multi\",\r\n          \"sort\": \"desc\"\r\n        }\r\n      },\r\n      \"pluginVersion\": \"11.4.0\",\r\n      \"targets\": [\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": true,\r\n          \"expr\": \"sum(node_memory_MemTotal_bytes{$ext_key=~\\\"$ext_value\\\"} - node_memory_MemAvailable_bytes{$ext_key=~\\\"$ext_value\\\"})\",\r\n          \"format\": \"time_series\",\r\n          \"hide\": false,\r\n          \"interval\": \"\",\r\n          \"intervalFactor\": 1,\r\n          \"legendFormat\": \"总已用\",\r\n          \"range\": true,\r\n          \"refId\": \"B\",\r\n          \"step\": 4\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": true,\r\n          \"expr\": \"sum(node_memory_MemTotal_bytes{$ext_key=~\\\"$ext_value\\\"})\",\r\n          \"format\": \"time_series\",\r\n          \"hide\": false,\r\n          \"instant\": false,\r\n          \"interval\": \"2m\",\r\n          \"intervalFactor\": 1,\r\n          \"legendFormat\": \"总内存\",\r\n          \"refId\": \"A\",\r\n          \"step\": 4\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": true,\r\n          \"expr\": \"(sum(node_memory_MemTotal_bytes{$ext_key=~\\\"$ext_value\\\"} - node_memory_MemAvailable_bytes{$ext_key=~\\\"$ext_value\\\"}) / sum(node_memory_MemTotal_bytes{$ext_key=~\\\"$ext_value\\\"}))*100\",\r\n          \"format\": \"time_series\",\r\n          \"hide\": false,\r\n          \"interval\": \"\",\r\n          \"intervalFactor\": 1,\r\n          \"legendFormat\": \"内存%\",\r\n          \"range\": true,\r\n          \"refId\": \"H\"\r\n        }\r\n      ],\r\n      \"title\": \"整体总内存【K8S：$ext_value】\",\r\n      \"type\": \"timeseries\"\r\n    },\r\n    {\r\n      \"datasource\": {\r\n        \"type\": \"prometheus\",\r\n        \"uid\": \"KubeDoor-Prometheus\"\r\n      },\r\n      \"description\": \"\",\r\n      \"fieldConfig\": {\r\n        \"defaults\": {\r\n          \"color\": {\r\n            \"mode\": \"palette-classic\"\r\n          },\r\n          \"custom\": {\r\n            \"axisBorderShow\": false,\r\n            \"axisCenteredZero\": false,\r\n            \"axisColorMode\": \"series\",\r\n            \"axisLabel\": \"总磁盘使用量\",\r\n            \"axisPlacement\": \"auto\",\r\n            \"barAlignment\": 0,\r\n            \"barWidthFactor\": 0.6,\r\n            \"drawStyle\": \"line\",\r\n            \"fillOpacity\": 0,\r\n            \"gradientMode\": \"none\",\r\n            \"hideFrom\": {\r\n              \"legend\": false,\r\n              \"tooltip\": false,\r\n              \"viz\": false\r\n            },\r\n            \"insertNulls\": false,\r\n            \"lineInterpolation\": \"linear\",\r\n            \"lineWidth\": 1,\r\n            \"pointSize\": 5,\r\n            \"scaleDistribution\": {\r\n              \"type\": \"linear\"\r\n            },\r\n            \"showPoints\": \"never\",\r\n            \"spanNulls\": false,\r\n            \"stacking\": {\r\n              \"group\": \"A\",\r\n              \"mode\": \"none\"\r\n            },\r\n            \"thresholdsStyle\": {\r\n              \"mode\": \"off\"\r\n            }\r\n          },\r\n          \"fieldMinMax\": false,\r\n          \"links\": [],\r\n          \"mappings\": [],\r\n          \"thresholds\": {\r\n            \"mode\": \"absolute\",\r\n            \"steps\": [\r\n              {\r\n                \"color\": \"green\",\r\n                \"value\": null\r\n              },\r\n              {\r\n                \"color\": \"red\",\r\n                \"value\": 80\r\n              }\r\n            ]\r\n          },\r\n          \"unit\": \"bytes\"\r\n        },\r\n        \"overrides\": [\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"磁盘%\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"unit\",\r\n                \"value\": \"percent\"\r\n              },\r\n              {\r\n                \"id\": \"decimals\",\r\n                \"value\": 1\r\n              },\r\n              {\r\n                \"id\": \"custom.axisLabel\",\r\n                \"value\": \"磁盘使用率\"\r\n              },\r\n              {\r\n                \"id\": \"custom.pointSize\",\r\n                \"value\": 2\r\n              },\r\n              {\r\n                \"id\": \"custom.hideFrom\",\r\n                \"value\": {\r\n                  \"legend\": true,\r\n                  \"tooltip\": false,\r\n                  \"viz\": false\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"custom.drawStyle\",\r\n                \"value\": \"points\"\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"总磁盘量\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"#C4162A\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"custom.drawStyle\",\r\n                \"value\": \"line\"\r\n              },\r\n              {\r\n                \"id\": \"custom.pointSize\",\r\n                \"value\": 3\r\n              },\r\n              {\r\n                \"id\": \"custom.showPoints\",\r\n                \"value\": \"always\"\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"总使用量\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"orange\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      },\r\n      \"gridPos\": {\r\n        \"h\": 7,\r\n        \"w\": 6,\r\n        \"x\": 18,\r\n        \"y\": 10\r\n      },\r\n      \"id\": 197,\r\n      \"maxDataPoints\": 100,\r\n      \"options\": {\r\n        \"legend\": {\r\n          \"calcs\": [\r\n            \"max\"\r\n          ],\r\n          \"displayMode\": \"list\",\r\n          \"placement\": \"bottom\",\r\n          \"showLegend\": true\r\n        },\r\n        \"tooltip\": {\r\n          \"maxHeight\": 600,\r\n          \"mode\": \"multi\",\r\n          \"sort\": \"desc\"\r\n        }\r\n      },\r\n      \"pluginVersion\": \"11.4.0\",\r\n      \"targets\": [\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": true,\r\n          \"expr\": \"sum(avg(node_filesystem_size_bytes{$ext_key=~\\\"$ext_value\\\",fstype=~\\\"xfs|ext.*\\\"})by(device,instance)) - sum(avg(node_filesystem_free_bytes{$ext_key=~\\\"$ext_value\\\",fstype=~\\\"xfs|ext.*\\\"})by(device,instance))\",\r\n          \"format\": \"time_series\",\r\n          \"instant\": false,\r\n          \"interval\": \"\",\r\n          \"intervalFactor\": 1,\r\n          \"legendFormat\": \"总使用量\",\r\n          \"refId\": \"C\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": true,\r\n          \"expr\": \"sum(avg(node_filesystem_size_bytes{$ext_key=~\\\"$ext_value\\\",fstype=~\\\"xfs|ext.*\\\"})by(device,instance))\",\r\n          \"format\": \"time_series\",\r\n          \"instant\": false,\r\n          \"interval\": \"2m\",\r\n          \"intervalFactor\": 1,\r\n          \"legendFormat\": \"总磁盘量\",\r\n          \"refId\": \"E\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": true,\r\n          \"expr\": \"(sum(avg(node_filesystem_size_bytes{$ext_key=~\\\"$ext_value\\\",fstype=~\\\"xfs|ext.*\\\"})by(device,instance)) - sum(avg(node_filesystem_free_bytes{$ext_key=~\\\"$ext_value\\\",fstype=~\\\"xfs|ext.*\\\"})by(device,instance))) *100/sum(avg(node_filesystem_size_bytes{$ext_key=~\\\"$ext_value\\\",fstype=~\\\"xfs|ext.*\\\"})by(device,instance))\",\r\n          \"format\": \"time_series\",\r\n          \"hide\": false,\r\n          \"instant\": false,\r\n          \"interval\": \"\",\r\n          \"intervalFactor\": 1,\r\n          \"legendFormat\": \"磁盘%\",\r\n          \"refId\": \"A\"\r\n        }\r\n      ],\r\n      \"title\": \"整体总磁盘（EXT.*/XFS）【K8S：$ext_value】\",\r\n      \"type\": \"timeseries\"\r\n    },\r\n    {\r\n      \"collapsed\": false,\r\n      \"gridPos\": {\r\n        \"h\": 1,\r\n        \"w\": 24,\r\n        \"x\": 0,\r\n        \"y\": 17\r\n      },\r\n      \"id\": 189,\r\n      \"panels\": [],\r\n      \"title\": \"🧮资源明细【$show_name】【$instance】\",\r\n      \"type\": \"row\"\r\n    },\r\n    {\r\n      \"datasource\": {\r\n        \"type\": \"prometheus\",\r\n        \"uid\": \"KubeDoor-Prometheus\"\r\n      },\r\n      \"description\": \"本看板中的：磁盘总量、使用量、可用量、使用率保持和df命令的Size、Used、Avail、Use% 列的值一致，并且Use%的值会四舍五入保留一位小数，会更加准确。\\n\\n注：df中Use%算法为：(size - free) * 100 / (avail + (size - free))，结果是整除则为该值，非整除则为该值+1，结果的单位是%。\\n参考df命令源码：\",\r\n      \"fieldConfig\": {\r\n        \"defaults\": {\r\n          \"color\": {\r\n            \"mode\": \"thresholds\"\r\n          },\r\n          \"custom\": {\r\n            \"align\": \"center\",\r\n            \"cellOptions\": {\r\n              \"type\": \"auto\"\r\n            },\r\n            \"inspect\": false\r\n          },\r\n          \"displayName\": \"\",\r\n          \"mappings\": [],\r\n          \"thresholds\": {\r\n            \"mode\": \"percentage\",\r\n            \"steps\": [\r\n              {\r\n                \"color\": \"green\",\r\n                \"value\": null\r\n              }\r\n            ]\r\n          },\r\n          \"unit\": \"none\"\r\n        },\r\n        \"overrides\": [\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"分区\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 142\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"剩余空间\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"unit\",\r\n                \"value\": \"bytes\"\r\n              },\r\n              {\r\n                \"id\": \"decimals\"\r\n              },\r\n              {\r\n                \"id\": \"custom.cellOptions\",\r\n                \"value\": {\r\n                  \"type\": \"color-text\"\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"thresholds\",\r\n                \"value\": {\r\n                  \"mode\": \"absolute\",\r\n                  \"steps\": [\r\n                    {\r\n                      \"color\": \"red\",\r\n                      \"value\": null\r\n                    },\r\n                    {\r\n                      \"color\": \"orange\",\r\n                      \"value\": 10000000000\r\n                    },\r\n                    {\r\n                      \"color\": \"green\",\r\n                      \"value\": 20000000000\r\n                    }\r\n                  ]\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 72\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"使用率\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"unit\",\r\n                \"value\": \"percent\"\r\n              },\r\n              {\r\n                \"id\": \"decimals\",\r\n                \"value\": 1\r\n              },\r\n              {\r\n                \"id\": \"custom.cellOptions\",\r\n                \"value\": {\r\n                  \"mode\": \"gradient\",\r\n                  \"type\": \"gauge\",\r\n                  \"valueDisplayMode\": \"color\"\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 115\r\n              },\r\n              {\r\n                \"id\": \"min\",\r\n                \"value\": 0\r\n              },\r\n              {\r\n                \"id\": \"max\",\r\n                \"value\": 100\r\n              },\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"mode\": \"continuous-GrYlRd\"\r\n                }\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"总空间\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"unit\",\r\n                \"value\": \"bytes\"\r\n              },\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 69\r\n              },\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"blue\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"custom.cellOptions\",\r\n                \"value\": {\r\n                  \"type\": \"color-text\"\r\n                }\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"类型\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 51\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"设备名\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.width\",\r\n                \"value\": 121\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byType\",\r\n              \"options\": \"string\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.align\",\r\n                \"value\": \"left\"\r\n              },\r\n              {\r\n                \"id\": \"filterable\"\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      },\r\n      \"gridPos\": {\r\n        \"h\": 6,\r\n        \"w\": 8,\r\n        \"x\": 0,\r\n        \"y\": 18\r\n      },\r\n      \"id\": 181,\r\n      \"links\": [\r\n        {\r\n          \"targetBlank\": true,\r\n          \"title\": \"https://github.com/coreutils/coreutils/blob/master/src/df.c\",\r\n          \"url\": \"https://github.com/coreutils/coreutils/blob/master/src/df.c\"\r\n        }\r\n      ],\r\n      \"options\": {\r\n        \"cellHeight\": \"sm\",\r\n        \"footer\": {\r\n          \"countRows\": false,\r\n          \"fields\": \"\",\r\n          \"reducer\": [\r\n            \"sum\"\r\n          ],\r\n          \"show\": false\r\n        },\r\n        \"showHeader\": true,\r\n        \"sortBy\": [\r\n          {\r\n            \"desc\": true,\r\n            \"displayName\": \"使用率\"\r\n          }\r\n        ]\r\n      },\r\n      \"pluginVersion\": \"11.4.0\",\r\n      \"targets\": [\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": false,\r\n          \"expr\": \"node_filesystem_size_bytes{instance=~\\\"$instance\\\",fstype=~\\\"ext.*|xfs|nfs\\\",mountpoint !~\\\".*pod.*\\\"}-0\",\r\n          \"format\": \"table\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"intervalFactor\": 1,\r\n          \"legendFormat\": \"总量\",\r\n          \"refId\": \"C\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": false,\r\n          \"expr\": \"node_filesystem_avail_bytes {instance=~\\\"$instance\\\",fstype=~\\\"ext.*|xfs|nfs\\\",mountpoint !~\\\".*pod.*\\\"}-0\",\r\n          \"format\": \"table\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"10s\",\r\n          \"intervalFactor\": 1,\r\n          \"legendFormat\": \"\",\r\n          \"refId\": \"A\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"exemplar\": false,\r\n          \"expr\": \"(node_filesystem_size_bytes{instance=~\\\"$instance\\\",fstype=~\\\"ext.*|xfs|nfs\\\",mountpoint !~\\\".*pod.*\\\"}-node_filesystem_free_bytes{instance=~\\\"$instance\\\",fstype=~\\\"ext.*|xfs|nfs\\\",mountpoint !~\\\".*pod.*\\\"}) *100/(node_filesystem_avail_bytes {instance=~\\\"$instance\\\",fstype=~\\\"ext.*|xfs|nfs\\\",mountpoint !~\\\".*pod.*\\\"}+(node_filesystem_size_bytes{instance=~\\\"$instance\\\",fstype=~\\\"ext.*|xfs|nfs\\\",mountpoint !~\\\".*pod.*\\\"}-node_filesystem_free_bytes{instance=~\\\"$instance\\\",fstype=~\\\"ext.*|xfs|nfs\\\",mountpoint !~\\\".*pod.*\\\"}))\",\r\n          \"format\": \"table\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"intervalFactor\": 1,\r\n          \"legendFormat\": \"\",\r\n          \"refId\": \"B\"\r\n        }\r\n      ],\r\n      \"title\": \"分区可用空间(EXT.*/XFS/NFS)\",\r\n      \"transformations\": [\r\n        {\r\n          \"id\": \"merge\",\r\n          \"options\": {\r\n            \"reducers\": []\r\n          }\r\n        },\r\n        {\r\n          \"id\": \"filterFieldsByName\",\r\n          \"options\": {\r\n            \"include\": {\r\n              \"names\": [\r\n                \"device\",\r\n                \"fstype\",\r\n                \"mountpoint\",\r\n                \"Value #C\",\r\n                \"Value #A\",\r\n                \"Value #B\"\r\n              ]\r\n            }\r\n          }\r\n        },\r\n        {\r\n          \"id\": \"organize\",\r\n          \"options\": {\r\n            \"excludeByName\": {},\r\n            \"indexByName\": {},\r\n            \"renameByName\": {\r\n              \"Value #A\": \"剩余空间\",\r\n              \"Value #B\": \"使用率\",\r\n              \"Value #C\": \"总空间\",\r\n              \"device\": \"设备名\",\r\n              \"fstype\": \"类型\",\r\n              \"mountpoint\": \"分区\"\r\n            }\r\n          }\r\n        }\r\n      ],\r\n      \"type\": \"table\"\r\n    },\r\n    {\r\n      \"datasource\": {\r\n        \"type\": \"prometheus\",\r\n        \"uid\": \"KubeDoor-Prometheus\"\r\n      },\r\n      \"fieldConfig\": {\r\n        \"defaults\": {\r\n          \"color\": {\r\n            \"mode\": \"palette-classic\"\r\n          },\r\n          \"decimals\": 0,\r\n          \"mappings\": [],\r\n          \"max\": 100,\r\n          \"min\": 0,\r\n          \"thresholds\": {\r\n            \"mode\": \"absolute\",\r\n            \"steps\": [\r\n              {\r\n                \"color\": \"green\",\r\n                \"value\": null\r\n              },\r\n              {\r\n                \"color\": \"#EAB839\",\r\n                \"value\": 70\r\n              },\r\n              {\r\n                \"color\": \"red\",\r\n                \"value\": 90\r\n              }\r\n            ]\r\n          },\r\n          \"unit\": \"percent\"\r\n        },\r\n        \"overrides\": []\r\n      },\r\n      \"gridPos\": {\r\n        \"h\": 6,\r\n        \"w\": 4,\r\n        \"x\": 8,\r\n        \"y\": 18\r\n      },\r\n      \"id\": 177,\r\n      \"options\": {\r\n        \"displayMode\": \"lcd\",\r\n        \"legend\": {\r\n          \"calcs\": [],\r\n          \"displayMode\": \"list\",\r\n          \"placement\": \"bottom\",\r\n          \"showLegend\": false\r\n        },\r\n        \"maxVizHeight\": 300,\r\n        \"minVizHeight\": 45,\r\n        \"minVizWidth\": 0,\r\n        \"namePlacement\": \"auto\",\r\n        \"orientation\": \"horizontal\",\r\n        \"reduceOptions\": {\r\n          \"calcs\": [\r\n            \"last\"\r\n          ],\r\n          \"fields\": \"\",\r\n          \"values\": false\r\n        },\r\n        \"showUnfilled\": true,\r\n        \"sizing\": \"auto\",\r\n        \"text\": {\r\n          \"valueSize\": 25\r\n        },\r\n        \"valueMode\": \"color\"\r\n      },\r\n      \"pluginVersion\": \"11.4.0\",\r\n      \"targets\": [\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"exemplar\": false,\r\n          \"expr\": \"100 - (avg(irate(node_cpu_seconds_total{instance=~\\\"$instance\\\",mode=\\\"idle\\\"}[$interval])) * 100)\",\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"总CPU使用率\",\r\n          \"refId\": \"A\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": false,\r\n          \"expr\": \"avg(irate(node_cpu_seconds_total{instance=~\\\"$instance\\\",mode=\\\"iowait\\\"}[$interval])) * 100\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"IOwait使用率\",\r\n          \"refId\": \"C\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"exemplar\": false,\r\n          \"expr\": \"(1 - (node_memory_MemAvailable_bytes{instance=~\\\"$instance\\\"} / (node_memory_MemTotal_bytes{instance=~\\\"$instance\\\"})))* 100\",\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"内存使用率\",\r\n          \"refId\": \"B\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": false,\r\n          \"expr\": \"(node_filesystem_size_bytes{instance=~\\\"$instance\\\",fstype=~\\\"ext.*|xfs\\\",mountpoint=\\\"$maxmount\\\"}-node_filesystem_free_bytes{instance=~\\\"$instance\\\",fstype=~\\\"ext.*|xfs\\\",mountpoint=\\\"$maxmount\\\"})*100 /(node_filesystem_avail_bytes {instance=~\\\"$instance\\\",fstype=~\\\"ext.*|xfs\\\",mountpoint=\\\"$maxmount\\\"}+(node_filesystem_size_bytes{instance=~\\\"$instance\\\",fstype=~\\\"ext.*|xfs\\\",mountpoint=\\\"$maxmount\\\"}-node_filesystem_free_bytes{instance=~\\\"$instance\\\",fstype=~\\\"ext.*|xfs\\\",mountpoint=\\\"$maxmount\\\"}))\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"最大分区使用率({{mountpoint}})\",\r\n          \"refId\": \"D\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": false,\r\n          \"expr\": \"(1 - ((node_memory_SwapFree_bytes{instance=~\\\"$instance\\\"} + 1)/ (node_memory_SwapTotal_bytes{instance=~\\\"$instance\\\"} + 1))) * 100\",\r\n          \"hide\": true,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"交换分区使用率\",\r\n          \"refId\": \"F\"\r\n        }\r\n      ],\r\n      \"title\": \"\",\r\n      \"type\": \"bargauge\"\r\n    },\r\n    {\r\n      \"datasource\": {\r\n        \"type\": \"prometheus\",\r\n        \"uid\": \"KubeDoor-Prometheus\"\r\n      },\r\n      \"description\": \"- 【最大打开文件数】是统计的node-exporter进程的process_max_fds，如果你的node-exporter是使用systemd启动，那么可能你所有使用systemd方式启动的服务的process_max_fds都是该值。\\n- 【OOM次数】node_vmstat_oom_kill需要 Linux 内核版本 4.13及更高版本。\\n- 【1h等待时间】PSI 资源压力指标需要 Linux 内核版本 4.20 及更高版本。如果构建您自己的内核，请确保在构建配置中设置 CONFIG_PSI=y 每个资源的压力信息通过/proc/pressure/获取。\",\r\n      \"fieldConfig\": {\r\n        \"defaults\": {\r\n          \"color\": {\r\n            \"mode\": \"thresholds\"\r\n          },\r\n          \"fieldMinMax\": false,\r\n          \"mappings\": [],\r\n          \"thresholds\": {\r\n            \"mode\": \"absolute\",\r\n            \"steps\": [\r\n              {\r\n                \"color\": \"green\",\r\n                \"value\": null\r\n              }\r\n            ]\r\n          },\r\n          \"unit\": \"none\"\r\n        },\r\n        \"overrides\": [\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"运行时间\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"thresholds\",\r\n                \"value\": {\r\n                  \"mode\": \"absolute\",\r\n                  \"steps\": [\r\n                    {\r\n                      \"color\": \"red\",\r\n                      \"value\": null\r\n                    },\r\n                    {\r\n                      \"color\": \"orange\",\r\n                      \"value\": 3600\r\n                    },\r\n                    {\r\n                      \"color\": \"green\",\r\n                      \"value\": 7200\r\n                    }\r\n                  ]\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"unit\",\r\n                \"value\": \"s\"\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"总内存\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"unit\",\r\n                \"value\": \"bytes\"\r\n              },\r\n              {\r\n                \"id\": \"decimals\",\r\n                \"value\": 0\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"CPU iowait\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"unit\",\r\n                \"value\": \"percent\"\r\n              },\r\n              {\r\n                \"id\": \"thresholds\",\r\n                \"value\": {\r\n                  \"mode\": \"percentage\",\r\n                  \"steps\": [\r\n                    {\r\n                      \"color\": \"green\",\r\n                      \"value\": null\r\n                    },\r\n                    {\r\n                      \"color\": \"orange\",\r\n                      \"value\": 40\r\n                    },\r\n                    {\r\n                      \"color\": \"red\",\r\n                      \"value\": 60\r\n                    }\r\n                  ]\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"decimals\",\r\n                \"value\": 2\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"总文件描述符\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"unit\",\r\n                \"value\": \"short\"\r\n              },\r\n              {\r\n                \"id\": \"thresholds\",\r\n                \"value\": {\r\n                  \"mode\": \"absolute\",\r\n                  \"steps\": [\r\n                    {\r\n                      \"color\": \"red\",\r\n                      \"value\": null\r\n                    },\r\n                    {\r\n                      \"color\": \"orange\",\r\n                      \"value\": 50000\r\n                    },\r\n                    {\r\n                      \"color\": \"green\",\r\n                      \"value\": 200000\r\n                    }\r\n                  ]\r\n                }\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"最大打开文件\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"unit\",\r\n                \"value\": \"none\"\r\n              },\r\n              {\r\n                \"id\": \"thresholds\",\r\n                \"value\": {\r\n                  \"mode\": \"absolute\",\r\n                  \"steps\": [\r\n                    {\r\n                      \"color\": \"red\",\r\n                      \"value\": null\r\n                    },\r\n                    {\r\n                      \"color\": \"orange\",\r\n                      \"value\": 1024\r\n                    },\r\n                    {\r\n                      \"color\": \"green\",\r\n                      \"value\": 50000\r\n                    }\r\n                  ]\r\n                }\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byRegexp\",\r\n              \"options\": \"/.*等待时间/\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"decimals\",\r\n                \"value\": 0\r\n              },\r\n              {\r\n                \"id\": \"unit\",\r\n                \"value\": \"s\"\r\n              },\r\n              {\r\n                \"id\": \"thresholds\",\r\n                \"value\": {\r\n                  \"mode\": \"absolute\",\r\n                  \"steps\": [\r\n                    {\r\n                      \"color\": \"green\",\r\n                      \"value\": null\r\n                    },\r\n                    {\r\n                      \"color\": \"yellow\",\r\n                      \"value\": 60\r\n                    },\r\n                    {\r\n                      \"color\": \"red\",\r\n                      \"value\": 120\r\n                    }\r\n                  ]\r\n                }\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"1天OOM次数\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"thresholds\",\r\n                \"value\": {\r\n                  \"mode\": \"absolute\",\r\n                  \"steps\": [\r\n                    {\r\n                      \"color\": \"green\",\r\n                      \"value\": null\r\n                    },\r\n                    {\r\n                      \"color\": \"red\",\r\n                      \"value\": 1\r\n                    }\r\n                  ]\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"mappings\",\r\n                \"value\": [\r\n                  {\r\n                    \"options\": {\r\n                      \"-1\": {\r\n                        \"color\": \"#808080\",\r\n                        \"index\": 0,\r\n                        \"text\": \"不支持\"\r\n                      }\r\n                    },\r\n                    \"type\": \"value\"\r\n                  }\r\n                ]\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      },\r\n      \"gridPos\": {\r\n        \"h\": 6,\r\n        \"w\": 4,\r\n        \"x\": 12,\r\n        \"y\": 18\r\n      },\r\n      \"id\": 206,\r\n      \"interval\": \"15s\",\r\n      \"options\": {\r\n        \"colorMode\": \"background\",\r\n        \"graphMode\": \"none\",\r\n        \"justifyMode\": \"center\",\r\n        \"orientation\": \"auto\",\r\n        \"percentChangeColorMode\": \"standard\",\r\n        \"reduceOptions\": {\r\n          \"calcs\": [\r\n            \"last\"\r\n          ],\r\n          \"fields\": \"\",\r\n          \"values\": false\r\n        },\r\n        \"showPercentChange\": false,\r\n        \"text\": {\r\n          \"valueSize\": 15\r\n        },\r\n        \"textMode\": \"auto\",\r\n        \"wideLayout\": true\r\n      },\r\n      \"pluginVersion\": \"11.4.0\",\r\n      \"targets\": [\r\n        {\r\n          \"alias\": \"\",\r\n          \"bucketAggs\": [\r\n            {\r\n              \"id\": \"2\",\r\n              \"settings\": {\r\n                \"interval\": \"auto\"\r\n              },\r\n              \"type\": \"date_histogram\"\r\n            }\r\n          ],\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": false,\r\n          \"expr\": \"avg(time() - node_boot_time_seconds{instance=~\\\"$instance\\\"})\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"运行时间\",\r\n          \"metrics\": [\r\n            {\r\n              \"id\": \"1\",\r\n              \"type\": \"count\"\r\n            }\r\n          ],\r\n          \"query\": \"\",\r\n          \"refId\": \"C\",\r\n          \"timeField\": \"@timestamp\"\r\n        },\r\n        {\r\n          \"alias\": \"\",\r\n          \"bucketAggs\": [\r\n            {\r\n              \"id\": \"2\",\r\n              \"settings\": {\r\n                \"interval\": \"auto\"\r\n              },\r\n              \"type\": \"date_histogram\"\r\n            }\r\n          ],\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": false,\r\n          \"expr\": \"count(node_cpu_seconds_total{instance=~\\\"$instance\\\", mode='system'})\",\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"CPU 核\",\r\n          \"metrics\": [\r\n            {\r\n              \"id\": \"1\",\r\n              \"type\": \"count\"\r\n            }\r\n          ],\r\n          \"query\": \"\",\r\n          \"refId\": \"A\",\r\n          \"timeField\": \"@timestamp\"\r\n        },\r\n        {\r\n          \"alias\": \"\",\r\n          \"bucketAggs\": [\r\n            {\r\n              \"id\": \"2\",\r\n              \"settings\": {\r\n                \"interval\": \"auto\"\r\n              },\r\n              \"type\": \"date_histogram\"\r\n            }\r\n          ],\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"exemplar\": false,\r\n          \"expr\": \"sum(node_memory_MemTotal_bytes{instance=~\\\"$instance\\\"})\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"总内存\",\r\n          \"metrics\": [\r\n            {\r\n              \"id\": \"1\",\r\n              \"type\": \"count\"\r\n            }\r\n          ],\r\n          \"query\": \"\",\r\n          \"refId\": \"B\",\r\n          \"timeField\": \"@timestamp\"\r\n        },\r\n        {\r\n          \"alias\": \"\",\r\n          \"bucketAggs\": [\r\n            {\r\n              \"id\": \"2\",\r\n              \"settings\": {\r\n                \"interval\": \"auto\"\r\n              },\r\n              \"type\": \"date_histogram\"\r\n            }\r\n          ],\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": false,\r\n          \"expr\": \"max(increase(node_vmstat_oom_kill{instance=~\\\"$instance\\\"}[1d])) or -1\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"1天OOM次数\",\r\n          \"metrics\": [\r\n            {\r\n              \"id\": \"1\",\r\n              \"type\": \"count\"\r\n            }\r\n          ],\r\n          \"query\": \"\",\r\n          \"refId\": \"D\",\r\n          \"timeField\": \"@timestamp\"\r\n        },\r\n        {\r\n          \"alias\": \"\",\r\n          \"bucketAggs\": [\r\n            {\r\n              \"id\": \"2\",\r\n              \"settings\": {\r\n                \"interval\": \"auto\"\r\n              },\r\n              \"type\": \"date_histogram\"\r\n            }\r\n          ],\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": false,\r\n          \"expr\": \"node_filefd_maximum{instance=~\\\"$instance\\\"}\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"总文件描述符\",\r\n          \"metrics\": [\r\n            {\r\n              \"id\": \"1\",\r\n              \"type\": \"count\"\r\n            }\r\n          ],\r\n          \"query\": \"\",\r\n          \"refId\": \"E\",\r\n          \"timeField\": \"@timestamp\"\r\n        },\r\n        {\r\n          \"alias\": \"\",\r\n          \"bucketAggs\": [\r\n            {\r\n              \"id\": \"2\",\r\n              \"settings\": {\r\n                \"interval\": \"auto\"\r\n              },\r\n              \"type\": \"date_histogram\"\r\n            }\r\n          ],\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": false,\r\n          \"expr\": \"process_max_fds{job=\\\"node_exporter\\\",instance=~\\\"$instance\\\"}\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"最大打开文件\",\r\n          \"metrics\": [\r\n            {\r\n              \"id\": \"1\",\r\n              \"type\": \"count\"\r\n            }\r\n          ],\r\n          \"query\": \"\",\r\n          \"refId\": \"F\",\r\n          \"timeField\": \"@timestamp\"\r\n        },\r\n        {\r\n          \"alias\": \"\",\r\n          \"bucketAggs\": [\r\n            {\r\n              \"id\": \"2\",\r\n              \"settings\": {\r\n                \"interval\": \"auto\"\r\n              },\r\n              \"type\": \"date_histogram\"\r\n            }\r\n          ],\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": false,\r\n          \"expr\": \"increase(node_pressure_cpu_waiting_seconds_total{instance=~\\\"$instance\\\"}[1h])\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"CPU1h等待时间\",\r\n          \"metrics\": [\r\n            {\r\n              \"id\": \"1\",\r\n              \"type\": \"count\"\r\n            }\r\n          ],\r\n          \"query\": \"\",\r\n          \"refId\": \"G\",\r\n          \"timeField\": \"@timestamp\"\r\n        },\r\n        {\r\n          \"alias\": \"\",\r\n          \"bucketAggs\": [\r\n            {\r\n              \"id\": \"2\",\r\n              \"settings\": {\r\n                \"interval\": \"auto\"\r\n              },\r\n              \"type\": \"date_histogram\"\r\n            }\r\n          ],\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": false,\r\n          \"expr\": \"increase(node_pressure_io_waiting_seconds_total{instance=~\\\"$instance\\\"}[1h])\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"IO1h等待时间\",\r\n          \"metrics\": [\r\n            {\r\n              \"id\": \"1\",\r\n              \"type\": \"count\"\r\n            }\r\n          ],\r\n          \"query\": \"\",\r\n          \"refId\": \"H\",\r\n          \"timeField\": \"@timestamp\"\r\n        },\r\n        {\r\n          \"alias\": \"\",\r\n          \"bucketAggs\": [\r\n            {\r\n              \"id\": \"2\",\r\n              \"settings\": {\r\n                \"interval\": \"auto\"\r\n              },\r\n              \"type\": \"date_histogram\"\r\n            }\r\n          ],\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": false,\r\n          \"expr\": \"increase(node_pressure_memory_waiting_seconds_total{instance=~\\\"$instance\\\"}[1h])\",\r\n          \"hide\": false,\r\n          \"instant\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"内存1h等待时间\",\r\n          \"metrics\": [\r\n            {\r\n              \"id\": \"1\",\r\n              \"type\": \"count\"\r\n            }\r\n          ],\r\n          \"query\": \"\",\r\n          \"refId\": \"I\",\r\n          \"timeField\": \"@timestamp\"\r\n        }\r\n      ],\r\n      \"title\": \"\",\r\n      \"type\": \"stat\"\r\n    },\r\n    {\r\n      \"datasource\": {\r\n        \"type\": \"prometheus\",\r\n        \"uid\": \"KubeDoor-Prometheus\"\r\n      },\r\n      \"fieldConfig\": {\r\n        \"defaults\": {\r\n          \"color\": {\r\n            \"mode\": \"palette-classic\"\r\n          },\r\n          \"custom\": {\r\n            \"axisBorderShow\": false,\r\n            \"axisCenteredZero\": false,\r\n            \"axisColorMode\": \"text\",\r\n            \"axisLabel\": \"\",\r\n            \"axisPlacement\": \"auto\",\r\n            \"barAlignment\": 0,\r\n            \"barWidthFactor\": 0.6,\r\n            \"drawStyle\": \"bars\",\r\n            \"fillOpacity\": 60,\r\n            \"gradientMode\": \"opacity\",\r\n            \"hideFrom\": {\r\n              \"legend\": false,\r\n              \"tooltip\": false,\r\n              \"viz\": false\r\n            },\r\n            \"insertNulls\": false,\r\n            \"lineInterpolation\": \"linear\",\r\n            \"lineWidth\": 1,\r\n            \"pointSize\": 5,\r\n            \"scaleDistribution\": {\r\n              \"type\": \"linear\"\r\n            },\r\n            \"showPoints\": \"never\",\r\n            \"spanNulls\": false,\r\n            \"stacking\": {\r\n              \"group\": \"A\",\r\n              \"mode\": \"none\"\r\n            },\r\n            \"thresholdsStyle\": {\r\n              \"mode\": \"off\"\r\n            }\r\n          },\r\n          \"links\": [],\r\n          \"mappings\": [],\r\n          \"thresholds\": {\r\n            \"mode\": \"absolute\",\r\n            \"steps\": [\r\n              {\r\n                \"color\": \"green\",\r\n                \"value\": null\r\n              },\r\n              {\r\n                \"color\": \"red\",\r\n                \"value\": 80\r\n              }\r\n            ]\r\n          },\r\n          \"unit\": \"bytes\"\r\n        },\r\n        \"overrides\": [\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byValue\",\r\n              \"options\": {\r\n                \"op\": \"gte\",\r\n                \"reducer\": \"allIsZero\",\r\n                \"value\": 0\r\n              }\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.hideFrom\",\r\n                \"value\": {\r\n                  \"legend\": true,\r\n                  \"tooltip\": true,\r\n                  \"viz\": true\r\n                }\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      },\r\n      \"gridPos\": {\r\n        \"h\": 6,\r\n        \"w\": 8,\r\n        \"x\": 16,\r\n        \"y\": 18\r\n      },\r\n      \"id\": 183,\r\n      \"options\": {\r\n        \"legend\": {\r\n          \"calcs\": [],\r\n          \"displayMode\": \"list\",\r\n          \"placement\": \"bottom\",\r\n          \"showLegend\": true\r\n        },\r\n        \"tooltip\": {\r\n          \"maxHeight\": 600,\r\n          \"mode\": \"multi\",\r\n          \"sort\": \"desc\"\r\n        }\r\n      },\r\n      \"pluginVersion\": \"11.4.0\",\r\n      \"targets\": [\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"exemplar\": true,\r\n          \"expr\": \"increase(node_network_receive_bytes_total{instance=~\\\"$instance\\\",device=~\\\"$device\\\"}[1m])\",\r\n          \"interval\": \"1m\",\r\n          \"intervalFactor\": 2,\r\n          \"legendFormat\": \"{{device}}_in下载\",\r\n          \"metric\": \"\",\r\n          \"refId\": \"A\",\r\n          \"step\": 600,\r\n          \"target\": \"\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": true,\r\n          \"expr\": \"increase(node_network_transmit_bytes_total{instance=~\\\"$instance\\\",device=~\\\"$device\\\"}[1m])\",\r\n          \"hide\": false,\r\n          \"interval\": \"1m\",\r\n          \"intervalFactor\": 2,\r\n          \"legendFormat\": \"{{device}}_out上传\",\r\n          \"range\": true,\r\n          \"refId\": \"B\",\r\n          \"step\": 600\r\n        }\r\n      ],\r\n      \"title\": \"每分钟流量$device\",\r\n      \"type\": \"timeseries\"\r\n    },\r\n    {\r\n      \"datasource\": {\r\n        \"type\": \"prometheus\",\r\n        \"uid\": \"KubeDoor-Prometheus\"\r\n      },\r\n      \"description\": \"\",\r\n      \"fieldConfig\": {\r\n        \"defaults\": {\r\n          \"color\": {\r\n            \"mode\": \"palette-classic\"\r\n          },\r\n          \"custom\": {\r\n            \"axisBorderShow\": false,\r\n            \"axisCenteredZero\": false,\r\n            \"axisColorMode\": \"series\",\r\n            \"axisLabel\": \"总使用率\",\r\n            \"axisPlacement\": \"auto\",\r\n            \"barAlignment\": 0,\r\n            \"barWidthFactor\": 0.6,\r\n            \"drawStyle\": \"line\",\r\n            \"fillOpacity\": 0,\r\n            \"gradientMode\": \"none\",\r\n            \"hideFrom\": {\r\n              \"legend\": false,\r\n              \"tooltip\": false,\r\n              \"viz\": false\r\n            },\r\n            \"insertNulls\": false,\r\n            \"lineInterpolation\": \"linear\",\r\n            \"lineWidth\": 1,\r\n            \"pointSize\": 5,\r\n            \"scaleDistribution\": {\r\n              \"type\": \"linear\"\r\n            },\r\n            \"showPoints\": \"never\",\r\n            \"spanNulls\": false,\r\n            \"stacking\": {\r\n              \"group\": \"A\",\r\n              \"mode\": \"none\"\r\n            },\r\n            \"thresholdsStyle\": {\r\n              \"mode\": \"off\"\r\n            }\r\n          },\r\n          \"links\": [],\r\n          \"mappings\": [],\r\n          \"thresholds\": {\r\n            \"mode\": \"absolute\",\r\n            \"steps\": [\r\n              {\r\n                \"color\": \"green\",\r\n                \"value\": null\r\n              },\r\n              {\r\n                \"color\": \"red\",\r\n                \"value\": 80\r\n              }\r\n            ]\r\n          },\r\n          \"unit\": \"percent\"\r\n        },\r\n        \"overrides\": [\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byRegexp\",\r\n              \"options\": \"/.*总使用率/\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"dark-red\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"custom.lineWidth\",\r\n                \"value\": 1\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"磁盘IO使用率\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.axisPlacement\",\r\n                \"value\": \"right\"\r\n              },\r\n              {\r\n                \"id\": \"custom.axisLabel\",\r\n                \"value\": \"磁盘IO使用率\"\r\n              },\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"#0ad4ff\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"用户使用率\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"yellow\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"系统使用率\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"dark-orange\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"总使用率\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"semi-dark-red\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      },\r\n      \"gridPos\": {\r\n        \"h\": 8,\r\n        \"w\": 8,\r\n        \"x\": 0,\r\n        \"y\": 24\r\n      },\r\n      \"id\": 207,\r\n      \"options\": {\r\n        \"legend\": {\r\n          \"calcs\": [\r\n            \"mean\",\r\n            \"lastNotNull\",\r\n            \"max\"\r\n          ],\r\n          \"displayMode\": \"table\",\r\n          \"placement\": \"bottom\",\r\n          \"showLegend\": true,\r\n          \"sortBy\": \"Last *\",\r\n          \"sortDesc\": true\r\n        },\r\n        \"tooltip\": {\r\n          \"maxHeight\": 600,\r\n          \"mode\": \"multi\",\r\n          \"sort\": \"desc\"\r\n        }\r\n      },\r\n      \"pluginVersion\": \"11.4.0\",\r\n      \"targets\": [\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"expr\": \"(1 - avg(irate(node_cpu_seconds_total{instance=~\\\"$instance\\\",mode=\\\"idle\\\"}[$interval])) by (instance))*100\",\r\n          \"format\": \"time_series\",\r\n          \"hide\": false,\r\n          \"interval\": \"\",\r\n          \"intervalFactor\": 1,\r\n          \"legendFormat\": \"总使用率\",\r\n          \"refId\": \"F\",\r\n          \"step\": 240\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"expr\": \"avg(irate(node_cpu_seconds_total{instance=~\\\"$instance\\\",mode=\\\"system\\\"}[$interval])) by (instance) *100\",\r\n          \"format\": \"time_series\",\r\n          \"hide\": false,\r\n          \"instant\": false,\r\n          \"interval\": \"\",\r\n          \"intervalFactor\": 1,\r\n          \"legendFormat\": \"系统使用率\",\r\n          \"refId\": \"A\",\r\n          \"step\": 20\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"expr\": \"avg(irate(node_cpu_seconds_total{instance=~\\\"$instance\\\",mode=\\\"user\\\"}[$interval])) by (instance) *100\",\r\n          \"format\": \"time_series\",\r\n          \"hide\": false,\r\n          \"interval\": \"\",\r\n          \"intervalFactor\": 1,\r\n          \"legendFormat\": \"用户使用率\",\r\n          \"refId\": \"B\",\r\n          \"step\": 240\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"expr\": \"avg(irate(node_cpu_seconds_total{instance=~\\\"$instance\\\",mode=\\\"iowait\\\"}[$interval])) by (instance) *100\",\r\n          \"format\": \"time_series\",\r\n          \"hide\": false,\r\n          \"instant\": false,\r\n          \"interval\": \"\",\r\n          \"intervalFactor\": 1,\r\n          \"legendFormat\": \"磁盘IO使用率\",\r\n          \"refId\": \"D\",\r\n          \"step\": 240\r\n        }\r\n      ],\r\n      \"title\": \"CPU使用率\",\r\n      \"type\": \"timeseries\"\r\n    },\r\n    {\r\n      \"datasource\": {\r\n        \"type\": \"prometheus\",\r\n        \"uid\": \"KubeDoor-Prometheus\"\r\n      },\r\n      \"fieldConfig\": {\r\n        \"defaults\": {\r\n          \"color\": {\r\n            \"mode\": \"palette-classic\"\r\n          },\r\n          \"custom\": {\r\n            \"axisBorderShow\": false,\r\n            \"axisCenteredZero\": false,\r\n            \"axisColorMode\": \"series\",\r\n            \"axisLabel\": \"剩余内存\",\r\n            \"axisPlacement\": \"left\",\r\n            \"barAlignment\": 0,\r\n            \"barWidthFactor\": 0.6,\r\n            \"drawStyle\": \"line\",\r\n            \"fillOpacity\": 0,\r\n            \"gradientMode\": \"none\",\r\n            \"hideFrom\": {\r\n              \"legend\": false,\r\n              \"tooltip\": false,\r\n              \"viz\": false\r\n            },\r\n            \"insertNulls\": false,\r\n            \"lineInterpolation\": \"linear\",\r\n            \"lineWidth\": 1,\r\n            \"pointSize\": 5,\r\n            \"scaleDistribution\": {\r\n              \"type\": \"linear\"\r\n            },\r\n            \"showPoints\": \"never\",\r\n            \"spanNulls\": false,\r\n            \"stacking\": {\r\n              \"group\": \"A\",\r\n              \"mode\": \"none\"\r\n            },\r\n            \"thresholdsStyle\": {\r\n              \"mode\": \"off\"\r\n            }\r\n          },\r\n          \"links\": [],\r\n          \"mappings\": [],\r\n          \"thresholds\": {\r\n            \"mode\": \"absolute\",\r\n            \"steps\": [\r\n              {\r\n                \"color\": \"green\",\r\n                \"value\": null\r\n              },\r\n              {\r\n                \"color\": \"red\",\r\n                \"value\": 80\r\n              }\r\n            ]\r\n          },\r\n          \"unit\": \"bytes\"\r\n        },\r\n        \"overrides\": [\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"可用\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"#9ac48a\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"custom.lineWidth\",\r\n                \"value\": 1\r\n              },\r\n              {\r\n                \"id\": \"custom.pointSize\",\r\n                \"value\": 3\r\n              },\r\n              {\r\n                \"id\": \"custom.showPoints\",\r\n                \"value\": \"always\"\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"总内存\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"dark-red\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"custom.lineWidth\",\r\n                \"value\": 1\r\n              },\r\n              {\r\n                \"id\": \"custom.pointSize\",\r\n                \"value\": 3\r\n              },\r\n              {\r\n                \"id\": \"custom.showPoints\",\r\n                \"value\": \"always\"\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"使用率\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"#00d1ff\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"custom.lineWidth\",\r\n                \"value\": 1\r\n              },\r\n              {\r\n                \"id\": \"unit\",\r\n                \"value\": \"percent\"\r\n              },\r\n              {\r\n                \"id\": \"custom.axisLabel\",\r\n                \"value\": \"内存使用率\"\r\n              },\r\n              {\r\n                \"id\": \"custom.axisPlacement\",\r\n                \"value\": \"right\"\r\n              },\r\n              {\r\n                \"id\": \"custom.axisSoftMin\"\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"已用\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"light-red\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      },\r\n      \"gridPos\": {\r\n        \"h\": 8,\r\n        \"w\": 8,\r\n        \"x\": 8,\r\n        \"y\": 24\r\n      },\r\n      \"id\": 156,\r\n      \"options\": {\r\n        \"legend\": {\r\n          \"calcs\": [\r\n            \"mean\",\r\n            \"lastNotNull\",\r\n            \"max\"\r\n          ],\r\n          \"displayMode\": \"table\",\r\n          \"placement\": \"bottom\",\r\n          \"showLegend\": true,\r\n          \"sortBy\": \"Last *\",\r\n          \"sortDesc\": true\r\n        },\r\n        \"tooltip\": {\r\n          \"maxHeight\": 600,\r\n          \"mode\": \"multi\",\r\n          \"sort\": \"desc\"\r\n        }\r\n      },\r\n      \"pluginVersion\": \"11.4.0\",\r\n      \"targets\": [\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": false,\r\n          \"expr\": \"node_memory_MemAvailable_bytes{instance=~\\\"$instance\\\"}\",\r\n          \"format\": \"time_series\",\r\n          \"hide\": false,\r\n          \"interval\": \"\",\r\n          \"intervalFactor\": 1,\r\n          \"legendFormat\": \"可用\",\r\n          \"range\": true,\r\n          \"refId\": \"F\",\r\n          \"step\": 4\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"exemplar\": true,\r\n          \"expr\": \"node_memory_MemTotal_bytes{instance=~\\\"$instance\\\"}\",\r\n          \"format\": \"time_series\",\r\n          \"hide\": false,\r\n          \"instant\": false,\r\n          \"interval\": \"2m\",\r\n          \"intervalFactor\": 1,\r\n          \"legendFormat\": \"总内存\",\r\n          \"refId\": \"A\",\r\n          \"step\": 4\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"expr\": \"node_memory_MemTotal_bytes{instance=~\\\"$instance\\\"} - node_memory_MemAvailable_bytes{instance=~\\\"$instance\\\"}\",\r\n          \"format\": \"time_series\",\r\n          \"hide\": false,\r\n          \"interval\": \"\",\r\n          \"intervalFactor\": 1,\r\n          \"legendFormat\": \"已用\",\r\n          \"refId\": \"B\",\r\n          \"step\": 4\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": false,\r\n          \"expr\": \"(1 - (node_memory_MemAvailable_bytes{instance=~\\\"$instance\\\"} / (node_memory_MemTotal_bytes{instance=~\\\"$instance\\\"})))* 100\",\r\n          \"format\": \"time_series\",\r\n          \"hide\": false,\r\n          \"interval\": \"\",\r\n          \"intervalFactor\": 1,\r\n          \"legendFormat\": \"使用率\",\r\n          \"range\": true,\r\n          \"refId\": \"H\"\r\n        }\r\n      ],\r\n      \"title\": \"内存信息\",\r\n      \"type\": \"timeseries\"\r\n    },\r\n    {\r\n      \"datasource\": {\r\n        \"type\": \"prometheus\",\r\n        \"uid\": \"KubeDoor-Prometheus\"\r\n      },\r\n      \"description\": \"\",\r\n      \"fieldConfig\": {\r\n        \"defaults\": {\r\n          \"color\": {\r\n            \"mode\": \"palette-classic\"\r\n          },\r\n          \"custom\": {\r\n            \"axisBorderShow\": false,\r\n            \"axisCenteredZero\": false,\r\n            \"axisColorMode\": \"series\",\r\n            \"axisLabel\": \"容量使用率\",\r\n            \"axisPlacement\": \"auto\",\r\n            \"barAlignment\": 0,\r\n            \"barWidthFactor\": 0.6,\r\n            \"drawStyle\": \"line\",\r\n            \"fillOpacity\": 0,\r\n            \"gradientMode\": \"none\",\r\n            \"hideFrom\": {\r\n              \"legend\": false,\r\n              \"tooltip\": false,\r\n              \"viz\": false\r\n            },\r\n            \"insertNulls\": false,\r\n            \"lineInterpolation\": \"linear\",\r\n            \"lineWidth\": 1,\r\n            \"pointSize\": 5,\r\n            \"scaleDistribution\": {\r\n              \"type\": \"linear\"\r\n            },\r\n            \"showPoints\": \"never\",\r\n            \"spanNulls\": false,\r\n            \"stacking\": {\r\n              \"group\": \"A\",\r\n              \"mode\": \"none\"\r\n            },\r\n            \"thresholdsStyle\": {\r\n              \"mode\": \"off\"\r\n            }\r\n          },\r\n          \"decimals\": 1,\r\n          \"links\": [],\r\n          \"mappings\": [],\r\n          \"thresholds\": {\r\n            \"mode\": \"absolute\",\r\n            \"steps\": [\r\n              {\r\n                \"color\": \"green\",\r\n                \"value\": null\r\n              },\r\n              {\r\n                \"color\": \"red\",\r\n                \"value\": 80\r\n              }\r\n            ]\r\n          },\r\n          \"unit\": \"percent\"\r\n        },\r\n        \"overrides\": [\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byRegexp\",\r\n              \"options\": \"/Inodes.*/\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"#00d1ff\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"custom.axisLabel\",\r\n                \"value\": \"Inodes使用率\"\r\n              },\r\n              {\r\n                \"id\": \"custom.drawStyle\",\r\n                \"value\": \"points\"\r\n              },\r\n              {\r\n                \"id\": \"custom.pointSize\",\r\n                \"value\": 2\r\n              },\r\n              {\r\n                \"id\": \"custom.hideFrom\",\r\n                \"value\": {\r\n                  \"legend\": false,\r\n                  \"tooltip\": true,\r\n                  \"viz\": false\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"max\",\r\n                \"value\": 100\r\n              },\r\n              {\r\n                \"id\": \"min\",\r\n                \"value\": 0\r\n              },\r\n              {\r\n                \"id\": \"decimals\"\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"使用率：/\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"orange\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      },\r\n      \"gridPos\": {\r\n        \"h\": 8,\r\n        \"w\": 8,\r\n        \"x\": 16,\r\n        \"y\": 24\r\n      },\r\n      \"id\": 174,\r\n      \"options\": {\r\n        \"legend\": {\r\n          \"calcs\": [\r\n            \"lastNotNull\",\r\n            \"max\"\r\n          ],\r\n          \"displayMode\": \"table\",\r\n          \"placement\": \"bottom\",\r\n          \"showLegend\": true,\r\n          \"sortBy\": \"Last *\",\r\n          \"sortDesc\": true\r\n        },\r\n        \"tooltip\": {\r\n          \"maxHeight\": 600,\r\n          \"mode\": \"multi\",\r\n          \"sort\": \"desc\"\r\n        }\r\n      },\r\n      \"pluginVersion\": \"11.4.0\",\r\n      \"targets\": [\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": true,\r\n          \"expr\": \"(node_filesystem_size_bytes{instance=~\\\"$instance\\\",fstype=~\\\"ext.*|xfs|nfs\\\",mountpoint !~\\\".*pod.*\\\"}-node_filesystem_free_bytes{instance=~\\\"$instance\\\",fstype=~\\\"ext.*|xfs|nfs\\\",mountpoint !~\\\".*pod.*\\\"}) *100/(node_filesystem_avail_bytes {instance=~\\\"$instance\\\",fstype=~\\\"ext.*|xfs|nfs\\\",mountpoint !~\\\".*pod.*\\\"}+(node_filesystem_size_bytes{instance=~\\\"$instance\\\",fstype=~\\\"ext.*|xfs|nfs\\\",mountpoint !~\\\".*pod.*\\\"}-node_filesystem_free_bytes{instance=~\\\"$instance\\\",fstype=~\\\"ext.*|xfs|nfs\\\",mountpoint !~\\\".*pod.*\\\"}))\",\r\n          \"format\": \"time_series\",\r\n          \"instant\": false,\r\n          \"interval\": \"\",\r\n          \"intervalFactor\": 1,\r\n          \"legendFormat\": \"使用率：{{mountpoint}}\",\r\n          \"refId\": \"A\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": true,\r\n          \"expr\": \"(1 - node_filesystem_files_free{instance=~\\\"$instance\\\",fstype=~\\\"ext.?|xfs|nfs\\\",mountpoint !~\\\".*pod.*\\\"} / node_filesystem_files{instance=~\\\"$instance\\\",fstype=~\\\"ext.?|xfs|nfs\\\",mountpoint !~\\\".*pod.*\\\"}) * 100\",\r\n          \"hide\": false,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"Inodes%：{{mountpoint}}\",\r\n          \"range\": true,\r\n          \"refId\": \"B\"\r\n        }\r\n      ],\r\n      \"title\": \"磁盘使用率\",\r\n      \"type\": \"timeseries\"\r\n    },\r\n    {\r\n      \"datasource\": {\r\n        \"type\": \"prometheus\",\r\n        \"uid\": \"KubeDoor-Prometheus\"\r\n      },\r\n      \"fieldConfig\": {\r\n        \"defaults\": {\r\n          \"color\": {\r\n            \"mode\": \"palette-classic\"\r\n          },\r\n          \"custom\": {\r\n            \"axisBorderShow\": false,\r\n            \"axisCenteredZero\": false,\r\n            \"axisColorMode\": \"series\",\r\n            \"axisLabel\": \"1分钟负载\",\r\n            \"axisPlacement\": \"auto\",\r\n            \"barAlignment\": 0,\r\n            \"barWidthFactor\": 0.6,\r\n            \"drawStyle\": \"line\",\r\n            \"fillOpacity\": 0,\r\n            \"gradientMode\": \"none\",\r\n            \"hideFrom\": {\r\n              \"legend\": false,\r\n              \"tooltip\": false,\r\n              \"viz\": false\r\n            },\r\n            \"insertNulls\": false,\r\n            \"lineInterpolation\": \"linear\",\r\n            \"lineWidth\": 1,\r\n            \"pointSize\": 5,\r\n            \"scaleDistribution\": {\r\n              \"type\": \"linear\"\r\n            },\r\n            \"showPoints\": \"never\",\r\n            \"spanNulls\": false,\r\n            \"stacking\": {\r\n              \"group\": \"A\",\r\n              \"mode\": \"none\"\r\n            },\r\n            \"thresholdsStyle\": {\r\n              \"mode\": \"off\"\r\n            }\r\n          },\r\n          \"links\": [],\r\n          \"mappings\": [],\r\n          \"min\": 0,\r\n          \"thresholds\": {\r\n            \"mode\": \"absolute\",\r\n            \"steps\": [\r\n              {\r\n                \"color\": \"green\",\r\n                \"value\": null\r\n              },\r\n              {\r\n                \"color\": \"red\",\r\n                \"value\": 80\r\n              }\r\n            ]\r\n          },\r\n          \"unit\": \"none\"\r\n        },\r\n        \"overrides\": [\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"15分钟负载\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"purple\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"1分钟负载\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"orange\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"5分钟负载\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"blue\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byRegexp\",\r\n              \"options\": \"/.*总核数/\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"#C4162A\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"custom.lineWidth\",\r\n                \"value\": 1\r\n              },\r\n              {\r\n                \"id\": \"custom.pointSize\",\r\n                \"value\": 4\r\n              },\r\n              {\r\n                \"id\": \"custom.showPoints\",\r\n                \"value\": \"always\"\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      },\r\n      \"gridPos\": {\r\n        \"h\": 8,\r\n        \"w\": 8,\r\n        \"x\": 0,\r\n        \"y\": 32\r\n      },\r\n      \"id\": 13,\r\n      \"options\": {\r\n        \"legend\": {\r\n          \"calcs\": [\r\n            \"mean\",\r\n            \"lastNotNull\",\r\n            \"max\"\r\n          ],\r\n          \"displayMode\": \"table\",\r\n          \"placement\": \"bottom\",\r\n          \"showLegend\": true,\r\n          \"sortBy\": \"Last *\",\r\n          \"sortDesc\": true\r\n        },\r\n        \"tooltip\": {\r\n          \"maxHeight\": 600,\r\n          \"mode\": \"multi\",\r\n          \"sort\": \"desc\"\r\n        }\r\n      },\r\n      \"pluginVersion\": \"11.4.0\",\r\n      \"targets\": [\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"exemplar\": true,\r\n          \"expr\": \"node_load1{instance=~\\\"$instance\\\"}\",\r\n          \"format\": \"time_series\",\r\n          \"instant\": false,\r\n          \"interval\": \"\",\r\n          \"intervalFactor\": 1,\r\n          \"legendFormat\": \"1分钟负载\",\r\n          \"metric\": \"\",\r\n          \"refId\": \"A\",\r\n          \"step\": 20,\r\n          \"target\": \"\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": true,\r\n          \"expr\": \" sum(count(node_cpu_seconds_total{instance=~\\\"$instance\\\", mode='system'}) by (cpu,instance)) by(instance)\",\r\n          \"format\": \"time_series\",\r\n          \"instant\": false,\r\n          \"interval\": \"2m\",\r\n          \"intervalFactor\": 1,\r\n          \"legendFormat\": \"CPU总核数\",\r\n          \"refId\": \"D\",\r\n          \"step\": 20\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"expr\": \"node_load5{instance=~\\\"$instance\\\"}\",\r\n          \"format\": \"time_series\",\r\n          \"instant\": false,\r\n          \"interval\": \"\",\r\n          \"intervalFactor\": 1,\r\n          \"legendFormat\": \"5分钟负载\",\r\n          \"refId\": \"B\",\r\n          \"step\": 20\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"expr\": \"node_load15{instance=~\\\"$instance\\\"}\",\r\n          \"format\": \"time_series\",\r\n          \"instant\": false,\r\n          \"interval\": \"\",\r\n          \"intervalFactor\": 1,\r\n          \"legendFormat\": \"15分钟负载\",\r\n          \"refId\": \"C\",\r\n          \"step\": 20\r\n        }\r\n      ],\r\n      \"title\": \"系统平均负载\",\r\n      \"type\": \"timeseries\"\r\n    },\r\n    {\r\n      \"datasource\": {\r\n        \"type\": \"prometheus\",\r\n        \"uid\": \"KubeDoor-Prometheus\"\r\n      },\r\n      \"fieldConfig\": {\r\n        \"defaults\": {\r\n          \"color\": {\r\n            \"mode\": \"palette-classic\"\r\n          },\r\n          \"custom\": {\r\n            \"axisBorderShow\": false,\r\n            \"axisCenteredZero\": false,\r\n            \"axisColorMode\": \"text\",\r\n            \"axisLabel\": \"\",\r\n            \"axisPlacement\": \"auto\",\r\n            \"barAlignment\": 0,\r\n            \"barWidthFactor\": 0.6,\r\n            \"drawStyle\": \"bars\",\r\n            \"fillOpacity\": 100,\r\n            \"gradientMode\": \"opacity\",\r\n            \"hideFrom\": {\r\n              \"legend\": false,\r\n              \"tooltip\": false,\r\n              \"viz\": false\r\n            },\r\n            \"insertNulls\": false,\r\n            \"lineInterpolation\": \"linear\",\r\n            \"lineWidth\": 1,\r\n            \"pointSize\": 5,\r\n            \"scaleDistribution\": {\r\n              \"type\": \"linear\"\r\n            },\r\n            \"showPoints\": \"never\",\r\n            \"spanNulls\": false,\r\n            \"stacking\": {\r\n              \"group\": \"A\",\r\n              \"mode\": \"normal\"\r\n            },\r\n            \"thresholdsStyle\": {\r\n              \"mode\": \"off\"\r\n            }\r\n          },\r\n          \"mappings\": [],\r\n          \"min\": 0,\r\n          \"thresholds\": {\r\n            \"mode\": \"absolute\",\r\n            \"steps\": [\r\n              {\r\n                \"color\": \"green\",\r\n                \"value\": null\r\n              },\r\n              {\r\n                \"color\": \"red\",\r\n                \"value\": 80\r\n              }\r\n            ]\r\n          },\r\n          \"unit\": \"none\"\r\n        },\r\n        \"overrides\": [\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"等待IO完成阻塞的进程\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"red\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"运行态的进程\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"green\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byValue\",\r\n              \"options\": {\r\n                \"op\": \"gte\",\r\n                \"reducer\": \"allIsZero\",\r\n                \"value\": 0\r\n              }\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.hideFrom\",\r\n                \"value\": {\r\n                  \"legend\": true,\r\n                  \"tooltip\": true,\r\n                  \"viz\": false\r\n                }\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byValue\",\r\n              \"options\": {\r\n                \"op\": \"gte\",\r\n                \"reducer\": \"allIsNull\",\r\n                \"value\": 0\r\n              }\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.hideFrom\",\r\n                \"value\": {\r\n                  \"legend\": true,\r\n                  \"tooltip\": true,\r\n                  \"viz\": false\r\n                }\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      },\r\n      \"gridPos\": {\r\n        \"h\": 8,\r\n        \"w\": 8,\r\n        \"x\": 8,\r\n        \"y\": 32\r\n      },\r\n      \"id\": 202,\r\n      \"options\": {\r\n        \"legend\": {\r\n          \"calcs\": [\r\n            \"mean\",\r\n            \"lastNotNull\",\r\n            \"max\"\r\n          ],\r\n          \"displayMode\": \"table\",\r\n          \"placement\": \"bottom\",\r\n          \"showLegend\": true\r\n        },\r\n        \"tooltip\": {\r\n          \"maxHeight\": 600,\r\n          \"mode\": \"multi\",\r\n          \"sort\": \"desc\"\r\n        }\r\n      },\r\n      \"pluginVersion\": \"11.4.0\",\r\n      \"targets\": [\r\n        {\r\n          \"calculatedInterval\": \"2m\",\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"datasourceErrors\": {},\r\n          \"editorMode\": \"code\",\r\n          \"errors\": {},\r\n          \"exemplar\": false,\r\n          \"expr\": \"node_procs_running{instance=~\\\"$instance\\\"}\",\r\n          \"format\": \"time_series\",\r\n          \"interval\": \"1m\",\r\n          \"intervalFactor\": 1,\r\n          \"legendFormat\": \"运行态的进程\",\r\n          \"metric\": \"\",\r\n          \"prometheusLink\": \"/api/datasources/proxy/1/graph#%5B%7B%22expr%22%3A%22node_procs_running%7Binstance%3D%5C%22%24host%5C%22%7D%22%2C%22range_input%22%3A%2243200s%22%2C%22end_input%22%3A%222015-9-18%2013%3A46%22%2C%22step_input%22%3A%22%22%2C%22stacked%22%3Atrue%2C%22tab%22%3A0%7D%5D\",\r\n          \"range\": true,\r\n          \"refId\": \"A\",\r\n          \"step\": 5,\r\n          \"target\": \"\"\r\n        },\r\n        {\r\n          \"calculatedInterval\": \"2m\",\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"datasourceErrors\": {},\r\n          \"editorMode\": \"code\",\r\n          \"errors\": {},\r\n          \"exemplar\": true,\r\n          \"expr\": \"node_procs_blocked{instance=~\\\"$instance\\\"}\",\r\n          \"format\": \"time_series\",\r\n          \"interval\": \"1m\",\r\n          \"intervalFactor\": 1,\r\n          \"legendFormat\": \"等待IO完成阻塞的进程\",\r\n          \"metric\": \"\",\r\n          \"prometheusLink\": \"/api/datasources/proxy/1/graph#%5B%7B%22expr%22%3A%22node_procs_blocked%7Binstance%3D%5C%22%24host%5C%22%7D%22%2C%22range_input%22%3A%2243200s%22%2C%22end_input%22%3A%222015-9-18%2013%3A46%22%2C%22step_input%22%3A%22%22%2C%22stacked%22%3Atrue%2C%22tab%22%3A0%7D%5D\",\r\n          \"range\": true,\r\n          \"refId\": \"B\",\r\n          \"step\": 5,\r\n          \"target\": \"\"\r\n        }\r\n      ],\r\n      \"title\": \"进程运行状态\",\r\n      \"type\": \"timeseries\"\r\n    },\r\n    {\r\n      \"datasource\": {\r\n        \"type\": \"prometheus\",\r\n        \"uid\": \"KubeDoor-Prometheus\"\r\n      },\r\n      \"description\": \"\",\r\n      \"fieldConfig\": {\r\n        \"defaults\": {\r\n          \"color\": {\r\n            \"mode\": \"palette-classic\"\r\n          },\r\n          \"custom\": {\r\n            \"axisBorderShow\": false,\r\n            \"axisCenteredZero\": false,\r\n            \"axisColorMode\": \"series\",\r\n            \"axisLabel\": \"\",\r\n            \"axisPlacement\": \"auto\",\r\n            \"barAlignment\": 0,\r\n            \"barWidthFactor\": 0.6,\r\n            \"drawStyle\": \"line\",\r\n            \"fillOpacity\": 0,\r\n            \"gradientMode\": \"opacity\",\r\n            \"hideFrom\": {\r\n              \"legend\": false,\r\n              \"tooltip\": false,\r\n              \"viz\": false\r\n            },\r\n            \"insertNulls\": false,\r\n            \"lineInterpolation\": \"linear\",\r\n            \"lineWidth\": 1,\r\n            \"pointSize\": 5,\r\n            \"scaleDistribution\": {\r\n              \"type\": \"linear\"\r\n            },\r\n            \"showPoints\": \"never\",\r\n            \"spanNulls\": false,\r\n            \"stacking\": {\r\n              \"group\": \"A\",\r\n              \"mode\": \"none\"\r\n            },\r\n            \"thresholdsStyle\": {\r\n              \"mode\": \"off\"\r\n            }\r\n          },\r\n          \"links\": [],\r\n          \"mappings\": [],\r\n          \"min\": 0,\r\n          \"thresholds\": {\r\n            \"mode\": \"absolute\",\r\n            \"steps\": [\r\n              {\r\n                \"color\": \"green\",\r\n                \"value\": null\r\n              },\r\n              {\r\n                \"color\": \"red\",\r\n                \"value\": 80\r\n              }\r\n            ]\r\n          },\r\n          \"unit\": \"short\"\r\n        },\r\n        \"overrides\": [\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"总使用FD\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"orange\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"总使用FD占比\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"blue\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"每秒上下文切换\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"yellow\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byRegexp\",\r\n              \"options\": \"/.*占比/\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.lineWidth\",\r\n                \"value\": 0\r\n              },\r\n              {\r\n                \"id\": \"unit\",\r\n                \"value\": \"percent\"\r\n              },\r\n              {\r\n                \"id\": \"custom.showPoints\",\r\n                \"value\": \"always\"\r\n              },\r\n              {\r\n                \"id\": \"custom.pointSize\",\r\n                \"value\": 2\r\n              },\r\n              {\r\n                \"id\": \"custom.axisSoftMax\"\r\n              },\r\n              {\r\n                \"id\": \"custom.axisSoftMin\"\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"进程使用FD占比\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"dark-orange\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"conntrack占比\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"green\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"Conntrack使用占比\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"purple\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      },\r\n      \"gridPos\": {\r\n        \"h\": 8,\r\n        \"w\": 8,\r\n        \"x\": 16,\r\n        \"y\": 32\r\n      },\r\n      \"id\": 16,\r\n      \"options\": {\r\n        \"legend\": {\r\n          \"calcs\": [],\r\n          \"displayMode\": \"list\",\r\n          \"placement\": \"bottom\",\r\n          \"showLegend\": true\r\n        },\r\n        \"tooltip\": {\r\n          \"maxHeight\": 600,\r\n          \"mode\": \"multi\",\r\n          \"sort\": \"desc\"\r\n        }\r\n      },\r\n      \"pluginVersion\": \"11.4.0\",\r\n      \"targets\": [\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": true,\r\n          \"expr\": \"irate(node_context_switches_total{instance=~\\\"$instance\\\"}[$interval])\",\r\n          \"interval\": \"\",\r\n          \"intervalFactor\": 1,\r\n          \"legendFormat\": \"每秒上下文切换\",\r\n          \"range\": true,\r\n          \"refId\": \"A\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": true,\r\n          \"expr\": \"node_nf_conntrack_entries{instance=~\\\"$instance\\\"}/node_nf_conntrack_entries_limit{instance=~\\\"$instance\\\"} * 100\",\r\n          \"format\": \"time_series\",\r\n          \"hide\": false,\r\n          \"instant\": false,\r\n          \"interval\": \"\",\r\n          \"intervalFactor\": 1,\r\n          \"legendFormat\": \"Conntrack使用占比\",\r\n          \"refId\": \"E\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": true,\r\n          \"expr\": \"node_filefd_allocated{instance=~\\\"$instance\\\"}\",\r\n          \"format\": \"time_series\",\r\n          \"instant\": false,\r\n          \"interval\": \"\",\r\n          \"intervalFactor\": 1,\r\n          \"legendFormat\": \"总使用FD\",\r\n          \"refId\": \"B\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": true,\r\n          \"expr\": \"(node_filefd_allocated{instance=~\\\"$instance\\\"}/node_filefd_maximum{instance=~\\\"$instance\\\"}) *100\",\r\n          \"format\": \"time_series\",\r\n          \"hide\": false,\r\n          \"instant\": false,\r\n          \"interval\": \"\",\r\n          \"intervalFactor\": 1,\r\n          \"legendFormat\": \"总使用FD占比\",\r\n          \"refId\": \"C\"\r\n        }\r\n      ],\r\n      \"title\": \"文件描述符(FD)/每秒上下文切换\",\r\n      \"type\": \"timeseries\"\r\n    },\r\n    {\r\n      \"datasource\": {\r\n        \"type\": \"prometheus\",\r\n        \"uid\": \"KubeDoor-Prometheus\"\r\n      },\r\n      \"description\": \"Read time seconds 每个磁盘分区读操作花费的秒数\\n\\nWrite time seconds 每个磁盘分区写操作花费的秒数\\n\\nIO time seconds 每个磁盘分区输入/输出操作花费的秒数\\n\\nIO time weighted seconds每个磁盘分区输入/输出操作花费的加权秒数\",\r\n      \"fieldConfig\": {\r\n        \"defaults\": {\r\n          \"color\": {\r\n            \"mode\": \"palette-classic\"\r\n          },\r\n          \"custom\": {\r\n            \"axisBorderShow\": false,\r\n            \"axisCenteredZero\": false,\r\n            \"axisColorMode\": \"text\",\r\n            \"axisLabel\": \"读取（-）/写入（+）\",\r\n            \"axisPlacement\": \"auto\",\r\n            \"barAlignment\": 0,\r\n            \"barWidthFactor\": 0.6,\r\n            \"drawStyle\": \"line\",\r\n            \"fillOpacity\": 10,\r\n            \"gradientMode\": \"opacity\",\r\n            \"hideFrom\": {\r\n              \"legend\": false,\r\n              \"tooltip\": false,\r\n              \"viz\": false\r\n            },\r\n            \"insertNulls\": false,\r\n            \"lineInterpolation\": \"linear\",\r\n            \"lineWidth\": 1,\r\n            \"pointSize\": 5,\r\n            \"scaleDistribution\": {\r\n              \"type\": \"linear\"\r\n            },\r\n            \"showPoints\": \"never\",\r\n            \"spanNulls\": false,\r\n            \"stacking\": {\r\n              \"group\": \"A\",\r\n              \"mode\": \"none\"\r\n            },\r\n            \"thresholdsStyle\": {\r\n              \"mode\": \"off\"\r\n            }\r\n          },\r\n          \"links\": [],\r\n          \"mappings\": [],\r\n          \"thresholds\": {\r\n            \"mode\": \"absolute\",\r\n            \"steps\": [\r\n              {\r\n                \"color\": \"green\",\r\n                \"value\": null\r\n              },\r\n              {\r\n                \"color\": \"red\",\r\n                \"value\": 80\r\n              }\r\n            ]\r\n          },\r\n          \"unit\": \"s\"\r\n        },\r\n        \"overrides\": [\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"vda\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"#6ED0E0\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byRegexp\",\r\n              \"options\": \"/,*_读取$/\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.transform\",\r\n                \"value\": \"negative-Y\"\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byValue\",\r\n              \"options\": {\r\n                \"op\": \"gte\",\r\n                \"reducer\": \"allIsZero\",\r\n                \"value\": 0\r\n              }\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.hideFrom\",\r\n                \"value\": {\r\n                  \"legend\": true,\r\n                  \"tooltip\": true,\r\n                  \"viz\": false\r\n                }\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byValue\",\r\n              \"options\": {\r\n                \"op\": \"gte\",\r\n                \"reducer\": \"allIsNull\",\r\n                \"value\": 0\r\n              }\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.hideFrom\",\r\n                \"value\": {\r\n                  \"legend\": true,\r\n                  \"tooltip\": true,\r\n                  \"viz\": false\r\n                }\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      },\r\n      \"gridPos\": {\r\n        \"h\": 8,\r\n        \"w\": 6,\r\n        \"x\": 0,\r\n        \"y\": 40\r\n      },\r\n      \"id\": 160,\r\n      \"options\": {\r\n        \"legend\": {\r\n          \"calcs\": [\r\n            \"mean\",\r\n            \"lastNotNull\",\r\n            \"max\"\r\n          ],\r\n          \"displayMode\": \"table\",\r\n          \"placement\": \"bottom\",\r\n          \"showLegend\": true,\r\n          \"sortBy\": \"Last *\",\r\n          \"sortDesc\": true\r\n        },\r\n        \"tooltip\": {\r\n          \"maxHeight\": 600,\r\n          \"mode\": \"multi\",\r\n          \"sort\": \"desc\"\r\n        }\r\n      },\r\n      \"pluginVersion\": \"11.4.0\",\r\n      \"targets\": [\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"expr\": \"irate(node_disk_read_time_seconds_total{instance=~\\\"$instance\\\"}[$interval]) / irate(node_disk_reads_completed_total{instance=~\\\"$instance\\\"}[$interval])\",\r\n          \"format\": \"time_series\",\r\n          \"hide\": false,\r\n          \"instant\": false,\r\n          \"interval\": \"\",\r\n          \"intervalFactor\": 1,\r\n          \"legendFormat\": \"{{device}}_读取\",\r\n          \"refId\": \"B\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"expr\": \"irate(node_disk_write_time_seconds_total{instance=~\\\"$instance\\\"}[$interval]) / irate(node_disk_writes_completed_total{instance=~\\\"$instance\\\"}[$interval])\",\r\n          \"format\": \"time_series\",\r\n          \"hide\": false,\r\n          \"instant\": false,\r\n          \"interval\": \"\",\r\n          \"intervalFactor\": 1,\r\n          \"legendFormat\": \"{{device}}_写入\",\r\n          \"refId\": \"C\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"expr\": \"irate(node_disk_io_time_seconds_total{instance=~\\\"$instance\\\"}[$interval])\",\r\n          \"format\": \"time_series\",\r\n          \"hide\": true,\r\n          \"interval\": \"\",\r\n          \"intervalFactor\": 1,\r\n          \"legendFormat\": \"{{device}}\",\r\n          \"refId\": \"A\",\r\n          \"step\": 10\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"expr\": \"irate(node_disk_io_time_weighted_seconds_total{instance=~\\\"$instance\\\"}[$interval])\",\r\n          \"format\": \"time_series\",\r\n          \"hide\": true,\r\n          \"interval\": \"\",\r\n          \"intervalFactor\": 1,\r\n          \"legendFormat\": \"{{device}}_加权\",\r\n          \"refId\": \"D\"\r\n        }\r\n      ],\r\n      \"title\": \"每次IO读写的耗时（参考：小于100ms）\",\r\n      \"type\": \"timeseries\"\r\n    },\r\n    {\r\n      \"datasource\": {\r\n        \"type\": \"prometheus\",\r\n        \"uid\": \"KubeDoor-Prometheus\"\r\n      },\r\n      \"description\": \"Reads completed: 每个磁盘分区每秒读完成次数\\n\\nWrites completed: 每个磁盘分区每秒写完成次数\\n\\nIO now 每个磁盘分区每秒正在处理的输入/输出请求数\",\r\n      \"fieldConfig\": {\r\n        \"defaults\": {\r\n          \"color\": {\r\n            \"mode\": \"palette-classic\"\r\n          },\r\n          \"custom\": {\r\n            \"axisBorderShow\": false,\r\n            \"axisCenteredZero\": false,\r\n            \"axisColorMode\": \"text\",\r\n            \"axisLabel\": \"读取（-）/写入（+）I/O ops/sec\",\r\n            \"axisPlacement\": \"auto\",\r\n            \"barAlignment\": 0,\r\n            \"barWidthFactor\": 0.6,\r\n            \"drawStyle\": \"line\",\r\n            \"fillOpacity\": 0,\r\n            \"gradientMode\": \"none\",\r\n            \"hideFrom\": {\r\n              \"legend\": false,\r\n              \"tooltip\": false,\r\n              \"viz\": false\r\n            },\r\n            \"insertNulls\": false,\r\n            \"lineInterpolation\": \"linear\",\r\n            \"lineWidth\": 1,\r\n            \"pointSize\": 5,\r\n            \"scaleDistribution\": {\r\n              \"type\": \"linear\"\r\n            },\r\n            \"showPoints\": \"never\",\r\n            \"spanNulls\": false,\r\n            \"stacking\": {\r\n              \"group\": \"A\",\r\n              \"mode\": \"none\"\r\n            },\r\n            \"thresholdsStyle\": {\r\n              \"mode\": \"off\"\r\n            }\r\n          },\r\n          \"links\": [],\r\n          \"mappings\": [],\r\n          \"thresholds\": {\r\n            \"mode\": \"absolute\",\r\n            \"steps\": [\r\n              {\r\n                \"color\": \"green\",\r\n                \"value\": null\r\n              },\r\n              {\r\n                \"color\": \"red\",\r\n                \"value\": 80\r\n              }\r\n            ]\r\n          },\r\n          \"unit\": \"none\"\r\n        },\r\n        \"overrides\": [\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byRegexp\",\r\n              \"options\": \"/.*_读取$/\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.transform\",\r\n                \"value\": \"negative-Y\"\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      },\r\n      \"gridPos\": {\r\n        \"h\": 8,\r\n        \"w\": 6,\r\n        \"x\": 6,\r\n        \"y\": 40\r\n      },\r\n      \"id\": 161,\r\n      \"options\": {\r\n        \"legend\": {\r\n          \"calcs\": [\r\n            \"mean\",\r\n            \"lastNotNull\",\r\n            \"max\"\r\n          ],\r\n          \"displayMode\": \"table\",\r\n          \"placement\": \"bottom\",\r\n          \"showLegend\": true,\r\n          \"sortBy\": \"Last *\",\r\n          \"sortDesc\": true\r\n        },\r\n        \"tooltip\": {\r\n          \"maxHeight\": 600,\r\n          \"mode\": \"multi\",\r\n          \"sort\": \"desc\"\r\n        }\r\n      },\r\n      \"pluginVersion\": \"11.4.0\",\r\n      \"targets\": [\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"expr\": \"irate(node_disk_reads_completed_total{instance=~\\\"$instance\\\"}[$interval])\",\r\n          \"format\": \"time_series\",\r\n          \"hide\": false,\r\n          \"interval\": \"\",\r\n          \"intervalFactor\": 1,\r\n          \"legendFormat\": \"{{device}}_读取\",\r\n          \"refId\": \"A\",\r\n          \"step\": 10\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"expr\": \"irate(node_disk_writes_completed_total{instance=~\\\"$instance\\\"}[$interval])\",\r\n          \"format\": \"time_series\",\r\n          \"hide\": false,\r\n          \"interval\": \"\",\r\n          \"intervalFactor\": 1,\r\n          \"legendFormat\": \"{{device}}_写入\",\r\n          \"refId\": \"B\",\r\n          \"step\": 10\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"expr\": \"node_disk_io_now{instance=~\\\"$instance\\\"}\",\r\n          \"format\": \"time_series\",\r\n          \"hide\": true,\r\n          \"interval\": \"\",\r\n          \"intervalFactor\": 1,\r\n          \"legendFormat\": \"{{device}}\",\r\n          \"refId\": \"C\"\r\n        }\r\n      ],\r\n      \"title\": \"磁盘读写速率（IOPS）\",\r\n      \"type\": \"timeseries\"\r\n    },\r\n    {\r\n      \"datasource\": {\r\n        \"type\": \"prometheus\",\r\n        \"uid\": \"KubeDoor-Prometheus\"\r\n      },\r\n      \"description\": \"Read bytes 每个磁盘分区每秒读取的比特数\\nWritten bytes 每个磁盘分区每秒写入的比特数\",\r\n      \"fieldConfig\": {\r\n        \"defaults\": {\r\n          \"color\": {\r\n            \"mode\": \"palette-classic\"\r\n          },\r\n          \"custom\": {\r\n            \"axisBorderShow\": false,\r\n            \"axisCenteredZero\": false,\r\n            \"axisColorMode\": \"text\",\r\n            \"axisLabel\": \"读取（-）/写入（+）\",\r\n            \"axisPlacement\": \"auto\",\r\n            \"barAlignment\": 0,\r\n            \"barWidthFactor\": 0.6,\r\n            \"drawStyle\": \"line\",\r\n            \"fillOpacity\": 0,\r\n            \"gradientMode\": \"none\",\r\n            \"hideFrom\": {\r\n              \"legend\": false,\r\n              \"tooltip\": false,\r\n              \"viz\": false\r\n            },\r\n            \"insertNulls\": false,\r\n            \"lineInterpolation\": \"linear\",\r\n            \"lineWidth\": 1,\r\n            \"pointSize\": 5,\r\n            \"scaleDistribution\": {\r\n              \"type\": \"linear\"\r\n            },\r\n            \"showPoints\": \"never\",\r\n            \"spanNulls\": false,\r\n            \"stacking\": {\r\n              \"group\": \"A\",\r\n              \"mode\": \"none\"\r\n            },\r\n            \"thresholdsStyle\": {\r\n              \"mode\": \"off\"\r\n            }\r\n          },\r\n          \"links\": [],\r\n          \"mappings\": [],\r\n          \"thresholds\": {\r\n            \"mode\": \"absolute\",\r\n            \"steps\": [\r\n              {\r\n                \"color\": \"green\",\r\n                \"value\": null\r\n              },\r\n              {\r\n                \"color\": \"red\",\r\n                \"value\": 80\r\n              }\r\n            ]\r\n          },\r\n          \"unit\": \"Bps\"\r\n        },\r\n        \"overrides\": [\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"vda_write\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"#6ED0E0\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byRegexp\",\r\n              \"options\": \"/.*_读取$/\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.transform\",\r\n                \"value\": \"negative-Y\"\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byValue\",\r\n              \"options\": {\r\n                \"op\": \"gte\",\r\n                \"reducer\": \"allIsZero\",\r\n                \"value\": 0\r\n              }\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.hideFrom\",\r\n                \"value\": {\r\n                  \"legend\": true,\r\n                  \"tooltip\": true,\r\n                  \"viz\": false\r\n                }\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byValue\",\r\n              \"options\": {\r\n                \"op\": \"gte\",\r\n                \"reducer\": \"allIsNull\",\r\n                \"value\": 0\r\n              }\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.hideFrom\",\r\n                \"value\": {\r\n                  \"legend\": true,\r\n                  \"tooltip\": true,\r\n                  \"viz\": false\r\n                }\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      },\r\n      \"gridPos\": {\r\n        \"h\": 8,\r\n        \"w\": 6,\r\n        \"x\": 12,\r\n        \"y\": 40\r\n      },\r\n      \"id\": 168,\r\n      \"options\": {\r\n        \"legend\": {\r\n          \"calcs\": [\r\n            \"mean\",\r\n            \"lastNotNull\",\r\n            \"max\"\r\n          ],\r\n          \"displayMode\": \"table\",\r\n          \"placement\": \"bottom\",\r\n          \"showLegend\": true,\r\n          \"sortBy\": \"Last *\",\r\n          \"sortDesc\": true\r\n        },\r\n        \"tooltip\": {\r\n          \"maxHeight\": 600,\r\n          \"mode\": \"multi\",\r\n          \"sort\": \"desc\"\r\n        }\r\n      },\r\n      \"pluginVersion\": \"11.4.0\",\r\n      \"targets\": [\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"expr\": \"irate(node_disk_read_bytes_total{instance=~\\\"$instance\\\"}[$interval])\",\r\n          \"format\": \"time_series\",\r\n          \"interval\": \"\",\r\n          \"intervalFactor\": 1,\r\n          \"legendFormat\": \"{{device}}_读取\",\r\n          \"refId\": \"A\",\r\n          \"step\": 10\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"expr\": \"irate(node_disk_written_bytes_total{instance=~\\\"$instance\\\"}[$interval])\",\r\n          \"format\": \"time_series\",\r\n          \"hide\": false,\r\n          \"interval\": \"\",\r\n          \"intervalFactor\": 1,\r\n          \"legendFormat\": \"{{device}}_写入\",\r\n          \"refId\": \"B\",\r\n          \"step\": 10\r\n        }\r\n      ],\r\n      \"title\": \"每秒磁盘读写容量\",\r\n      \"type\": \"timeseries\"\r\n    },\r\n    {\r\n      \"datasource\": {\r\n        \"type\": \"prometheus\",\r\n        \"uid\": \"KubeDoor-Prometheus\"\r\n      },\r\n      \"description\": \"每一秒钟的自然时间内，花费在I/O上的耗时。（wall-clock time）\\n\\nnode_disk_io_time_seconds_total：\\n磁盘花费在输入/输出操作上的秒数。该值为累加值。（Milliseconds Spent Doing I/Os）\\n\\nirate(node_disk_io_time_seconds_total[1m])：\\n计算每秒的速率：(last值-last前一个值)/时间戳差值，即：1秒钟内磁盘花费在I/O操作的时间占比。\",\r\n      \"fieldConfig\": {\r\n        \"defaults\": {\r\n          \"color\": {\r\n            \"mode\": \"palette-classic\"\r\n          },\r\n          \"custom\": {\r\n            \"axisBorderShow\": false,\r\n            \"axisCenteredZero\": false,\r\n            \"axisColorMode\": \"text\",\r\n            \"axisLabel\": \"\",\r\n            \"axisPlacement\": \"auto\",\r\n            \"barAlignment\": 0,\r\n            \"barWidthFactor\": 0.6,\r\n            \"drawStyle\": \"line\",\r\n            \"fillOpacity\": 10,\r\n            \"gradientMode\": \"opacity\",\r\n            \"hideFrom\": {\r\n              \"legend\": false,\r\n              \"tooltip\": false,\r\n              \"viz\": false\r\n            },\r\n            \"insertNulls\": false,\r\n            \"lineInterpolation\": \"linear\",\r\n            \"lineWidth\": 1,\r\n            \"pointSize\": 5,\r\n            \"scaleDistribution\": {\r\n              \"type\": \"linear\"\r\n            },\r\n            \"showPoints\": \"never\",\r\n            \"spanNulls\": false,\r\n            \"stacking\": {\r\n              \"group\": \"A\",\r\n              \"mode\": \"none\"\r\n            },\r\n            \"thresholdsStyle\": {\r\n              \"mode\": \"off\"\r\n            }\r\n          },\r\n          \"links\": [],\r\n          \"mappings\": [],\r\n          \"thresholds\": {\r\n            \"mode\": \"absolute\",\r\n            \"steps\": [\r\n              {\r\n                \"color\": \"green\",\r\n                \"value\": null\r\n              },\r\n              {\r\n                \"color\": \"red\",\r\n                \"value\": 80\r\n              }\r\n            ]\r\n          },\r\n          \"unit\": \"percentunit\"\r\n        },\r\n        \"overrides\": [\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"Idle - Waiting for something to happen\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"#052B51\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"guest\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"#9AC48A\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"idle\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"#052B51\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"iowait\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"#EAB839\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"irq\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"#BF1B00\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"nice\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"#C15C17\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"sdb_每秒I/O操作%\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"#d683ce\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"softirq\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"#E24D42\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"steal\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"#FCE2DE\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"system\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"#508642\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"user\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"#5195CE\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"磁盘花费在I/O操作占比\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"#ba43a9\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byValue\",\r\n              \"options\": {\r\n                \"op\": \"gte\",\r\n                \"reducer\": \"allIsZero\",\r\n                \"value\": 0\r\n              }\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.hideFrom\",\r\n                \"value\": {\r\n                  \"legend\": true,\r\n                  \"tooltip\": true,\r\n                  \"viz\": false\r\n                }\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byValue\",\r\n              \"options\": {\r\n                \"op\": \"gte\",\r\n                \"reducer\": \"allIsNull\",\r\n                \"value\": 0\r\n              }\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.hideFrom\",\r\n                \"value\": {\r\n                  \"legend\": true,\r\n                  \"tooltip\": true,\r\n                  \"viz\": false\r\n                }\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      },\r\n      \"gridPos\": {\r\n        \"h\": 8,\r\n        \"w\": 6,\r\n        \"x\": 18,\r\n        \"y\": 40\r\n      },\r\n      \"id\": 175,\r\n      \"options\": {\r\n        \"legend\": {\r\n          \"calcs\": [\r\n            \"mean\",\r\n            \"lastNotNull\",\r\n            \"max\"\r\n          ],\r\n          \"displayMode\": \"table\",\r\n          \"placement\": \"bottom\",\r\n          \"showLegend\": true,\r\n          \"sortBy\": \"Last *\",\r\n          \"sortDesc\": true\r\n        },\r\n        \"tooltip\": {\r\n          \"maxHeight\": 600,\r\n          \"mode\": \"multi\",\r\n          \"sort\": \"desc\"\r\n        }\r\n      },\r\n      \"pluginVersion\": \"11.4.0\",\r\n      \"targets\": [\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"exemplar\": true,\r\n          \"expr\": \"irate(node_disk_io_time_seconds_total{instance=~\\\"$instance\\\"}[$interval])\",\r\n          \"format\": \"time_series\",\r\n          \"interval\": \"\",\r\n          \"intervalFactor\": 1,\r\n          \"legendFormat\": \"{{device}}_每秒I/O操作%\",\r\n          \"refId\": \"C\"\r\n        }\r\n      ],\r\n      \"title\": \"每1秒内I/O操作耗时占比（I/O Util）\",\r\n      \"type\": \"timeseries\"\r\n    },\r\n    {\r\n      \"datasource\": {\r\n        \"type\": \"prometheus\",\r\n        \"uid\": \"KubeDoor-Prometheus\"\r\n      },\r\n      \"description\": \"- Sockets_used - 已使用的所有协议套接字总量\\n- CurrEstab - 当前状态为 ESTABLISHED 或 CLOSE-WAIT 的 TCP 连接数\\n- TCP_alloc - 已分配（已建立、已申请到sk_buff）的TCP套接字数量\\n- TCP_tw - 等待关闭的TCP连接数\\n- UDP_inuse - 正在使用的 UDP 套接字数量\\n- OutSegs - TCP 发送的报文数\\n- InSegs - TCP 接收的报文数\\n- RetransSegs - TCP 重传报文数\\n\\n- TcpExt_ListenDrops - 监听队列连接丢弃数\\n- TcpExt_ListenOverflows - 监听 socket 的队列溢出\\n- Tcp_InErrs - TCP 接收的错误报文数\\n- Tcp_OutRsts - TCP 发送的RST报文数\\n- TcpExt_SyncookiesSent - 发送的 SYN cookies 的数量\\n- TcpExt_SyncookiesRecv - 接收的 SYN cookies 的数量\\n- TcpExt_SyncookiesFailed - 无效的 SYN cookies 的数量\",\r\n      \"fieldConfig\": {\r\n        \"defaults\": {\r\n          \"color\": {\r\n            \"mode\": \"palette-classic\"\r\n          },\r\n          \"custom\": {\r\n            \"axisBorderShow\": false,\r\n            \"axisCenteredZero\": false,\r\n            \"axisColorMode\": \"series\",\r\n            \"axisLabel\": \"CurrEstab\",\r\n            \"axisPlacement\": \"auto\",\r\n            \"barAlignment\": 0,\r\n            \"barWidthFactor\": 0.6,\r\n            \"drawStyle\": \"line\",\r\n            \"fillOpacity\": 0,\r\n            \"gradientMode\": \"none\",\r\n            \"hideFrom\": {\r\n              \"legend\": false,\r\n              \"tooltip\": false,\r\n              \"viz\": false\r\n            },\r\n            \"insertNulls\": false,\r\n            \"lineInterpolation\": \"linear\",\r\n            \"lineWidth\": 1,\r\n            \"pointSize\": 5,\r\n            \"scaleDistribution\": {\r\n              \"type\": \"linear\"\r\n            },\r\n            \"showPoints\": \"never\",\r\n            \"spanNulls\": false,\r\n            \"stacking\": {\r\n              \"group\": \"A\",\r\n              \"mode\": \"none\"\r\n            },\r\n            \"thresholdsStyle\": {\r\n              \"mode\": \"off\"\r\n            }\r\n          },\r\n          \"links\": [],\r\n          \"mappings\": [],\r\n          \"thresholds\": {\r\n            \"mode\": \"absolute\",\r\n            \"steps\": [\r\n              {\r\n                \"color\": \"green\",\r\n                \"value\": null\r\n              },\r\n              {\r\n                \"color\": \"red\",\r\n                \"value\": 80\r\n              }\r\n            ]\r\n          },\r\n          \"unit\": \"none\"\r\n        },\r\n        \"overrides\": [\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byName\",\r\n              \"options\": \"TCP_alloc\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"blue\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byRegexp\",\r\n              \"options\": \"/.*Sockets_used/\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"#E02F44\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              },\r\n              {\r\n                \"id\": \"custom.lineWidth\",\r\n                \"value\": 1\r\n              },\r\n              {\r\n                \"id\": \"custom.axisLabel\",\r\n                \"value\": \"已使用的所有协议套接字总量\"\r\n              },\r\n              {\r\n                \"id\": \"custom.showPoints\",\r\n                \"value\": \"always\"\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byValue\",\r\n              \"options\": {\r\n                \"op\": \"gte\",\r\n                \"reducer\": \"allIsZero\",\r\n                \"value\": 0\r\n              }\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.hideFrom\",\r\n                \"value\": {\r\n                  \"legend\": true,\r\n                  \"tooltip\": true,\r\n                  \"viz\": true\r\n                }\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      },\r\n      \"gridPos\": {\r\n        \"h\": 8,\r\n        \"w\": 16,\r\n        \"x\": 0,\r\n        \"y\": 48\r\n      },\r\n      \"id\": 158,\r\n      \"options\": {\r\n        \"legend\": {\r\n          \"calcs\": [\r\n            \"last\",\r\n            \"max\"\r\n          ],\r\n          \"displayMode\": \"table\",\r\n          \"placement\": \"right\",\r\n          \"showLegend\": true,\r\n          \"sortBy\": \"Max\",\r\n          \"sortDesc\": true\r\n        },\r\n        \"tooltip\": {\r\n          \"maxHeight\": 600,\r\n          \"mode\": \"multi\",\r\n          \"sort\": \"desc\"\r\n        }\r\n      },\r\n      \"pluginVersion\": \"11.4.0\",\r\n      \"targets\": [\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"expr\": \"node_netstat_Tcp_CurrEstab{instance=~\\\"$instance\\\"}\",\r\n          \"format\": \"time_series\",\r\n          \"hide\": false,\r\n          \"instant\": false,\r\n          \"interval\": \"\",\r\n          \"intervalFactor\": 1,\r\n          \"legendFormat\": \"CurrEstab\",\r\n          \"refId\": \"A\",\r\n          \"step\": 20\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"expr\": \"node_sockstat_TCP_tw{instance=~\\\"$instance\\\"}\",\r\n          \"format\": \"time_series\",\r\n          \"interval\": \"\",\r\n          \"intervalFactor\": 1,\r\n          \"legendFormat\": \"TCP_tw\",\r\n          \"refId\": \"D\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"exemplar\": true,\r\n          \"expr\": \"node_sockstat_sockets_used{instance=~\\\"$instance\\\"}\",\r\n          \"hide\": false,\r\n          \"interval\": \"2m\",\r\n          \"intervalFactor\": 1,\r\n          \"legendFormat\": \"Sockets_used\",\r\n          \"refId\": \"B\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"expr\": \"node_sockstat_UDP_inuse{instance=~\\\"$instance\\\"}\",\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"UDP_inuse\",\r\n          \"refId\": \"C\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"expr\": \"node_sockstat_TCP_alloc{instance=~\\\"$instance\\\"}\",\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"TCP_alloc\",\r\n          \"refId\": \"E\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"expr\": \"irate(node_netstat_Tcp_PassiveOpens{instance=~\\\"$instance\\\"}[$interval])\",\r\n          \"hide\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"{{instance}}_Tcp_PassiveOpens\",\r\n          \"refId\": \"G\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"expr\": \"irate(node_netstat_Tcp_ActiveOpens{instance=~\\\"$instance\\\"}[$interval])\",\r\n          \"hide\": true,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"{{instance}}_Tcp_ActiveOpens\",\r\n          \"refId\": \"F\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"expr\": \"irate(node_netstat_Tcp_InSegs{instance=~\\\"$instance\\\"}[$interval])\",\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"Tcp_InSegs\",\r\n          \"range\": true,\r\n          \"refId\": \"H\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"expr\": \"irate(node_netstat_Tcp_OutSegs{instance=~\\\"$instance\\\"}[$interval])\",\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"Tcp_OutSegs\",\r\n          \"range\": true,\r\n          \"refId\": \"I\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"expr\": \"irate(node_netstat_Tcp_RetransSegs{instance=~\\\"$instance\\\"}[$interval])\",\r\n          \"hide\": false,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"Tcp_RetransSegs\",\r\n          \"refId\": \"J\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"expr\": \"irate(node_netstat_TcpExt_ListenDrops{instance=~\\\"$instance\\\"}[$interval])\",\r\n          \"hide\": false,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"TcpExt_ListenDrops\",\r\n          \"range\": true,\r\n          \"refId\": \"K\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"expr\": \"irate(node_netstat_TcpExt_ListenOverflows{instance=~\\\"$instance\\\"}[$interval])\",\r\n          \"hide\": false,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"TcpExt_ListenOverflows\",\r\n          \"range\": true,\r\n          \"refId\": \"L\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"expr\": \"irate(node_netstat_Tcp_InErrs{instance=~\\\"$instance\\\"}[$interval])\",\r\n          \"hide\": false,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"Tcp_InErrs\",\r\n          \"range\": true,\r\n          \"refId\": \"M\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"expr\": \"irate(node_netstat_Tcp_OutRsts{instance=~\\\"$instance\\\"}[$interval])\",\r\n          \"hide\": false,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"Tcp_OutRsts\",\r\n          \"range\": true,\r\n          \"refId\": \"N\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"expr\": \"irate(node_netstat_TcpExt_SyncookiesSent{instance=~\\\"$instance\\\"}[$interval])\",\r\n          \"hide\": false,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"TcpExt_SyncookiesSent\",\r\n          \"range\": true,\r\n          \"refId\": \"O\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"expr\": \"irate(node_netstat_TcpExt_SyncookiesRecv{instance=~\\\"$instance\\\"}[$interval])\",\r\n          \"hide\": false,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"TcpExt_SyncookiesRecv\",\r\n          \"range\": true,\r\n          \"refId\": \"P\"\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"expr\": \"irate(node_netstat_TcpExt_SyncookiesFailed{instance=~\\\"$instance\\\"}[$interval])\",\r\n          \"hide\": false,\r\n          \"interval\": \"\",\r\n          \"legendFormat\": \"TcpExt_SyncookiesFailed\",\r\n          \"range\": true,\r\n          \"refId\": \"Q\"\r\n        }\r\n      ],\r\n      \"title\": \"网络Socket连接信息\",\r\n      \"type\": \"timeseries\"\r\n    },\r\n    {\r\n      \"datasource\": {\r\n        \"type\": \"prometheus\",\r\n        \"uid\": \"KubeDoor-Prometheus\"\r\n      },\r\n      \"description\": \"带宽的单位是bit/s\",\r\n      \"fieldConfig\": {\r\n        \"defaults\": {\r\n          \"color\": {\r\n            \"mode\": \"palette-classic\"\r\n          },\r\n          \"custom\": {\r\n            \"axisBorderShow\": false,\r\n            \"axisCenteredZero\": false,\r\n            \"axisColorMode\": \"series\",\r\n            \"axisLabel\": \"上传（-）/下载（+）\",\r\n            \"axisPlacement\": \"auto\",\r\n            \"barAlignment\": 0,\r\n            \"barWidthFactor\": 0.6,\r\n            \"drawStyle\": \"line\",\r\n            \"fillOpacity\": 0,\r\n            \"gradientMode\": \"none\",\r\n            \"hideFrom\": {\r\n              \"legend\": false,\r\n              \"tooltip\": false,\r\n              \"viz\": false\r\n            },\r\n            \"insertNulls\": false,\r\n            \"lineInterpolation\": \"linear\",\r\n            \"lineWidth\": 1,\r\n            \"pointSize\": 5,\r\n            \"scaleDistribution\": {\r\n              \"type\": \"linear\"\r\n            },\r\n            \"showPoints\": \"never\",\r\n            \"spanNulls\": false,\r\n            \"stacking\": {\r\n              \"group\": \"A\",\r\n              \"mode\": \"none\"\r\n            },\r\n            \"thresholdsStyle\": {\r\n              \"mode\": \"off\"\r\n            }\r\n          },\r\n          \"links\": [],\r\n          \"mappings\": [],\r\n          \"thresholds\": {\r\n            \"mode\": \"absolute\",\r\n            \"steps\": [\r\n              {\r\n                \"color\": \"green\",\r\n                \"value\": null\r\n              },\r\n              {\r\n                \"color\": \"red\",\r\n                \"value\": 80\r\n              }\r\n            ]\r\n          },\r\n          \"unit\": \"binbps\"\r\n        },\r\n        \"overrides\": [\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byRegexp\",\r\n              \"options\": \"/.*_out上传$/\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.transform\",\r\n                \"value\": \"negative-Y\"\r\n              },\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"blue\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byRegexp\",\r\n              \"options\": \"/.*_in下载$/\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"color\",\r\n                \"value\": {\r\n                  \"fixedColor\": \"yellow\",\r\n                  \"mode\": \"fixed\"\r\n                }\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byRegexp\",\r\n              \"options\": \"/.*错误|.*丢弃/\"\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.axisPlacement\",\r\n                \"value\": \"right\"\r\n              },\r\n              {\r\n                \"id\": \"unit\",\r\n                \"value\": \"cps\"\r\n              },\r\n              {\r\n                \"id\": \"custom.axisLabel\",\r\n                \"value\": \"每秒异常次数\"\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"matcher\": {\r\n              \"id\": \"byValue\",\r\n              \"options\": {\r\n                \"op\": \"gte\",\r\n                \"reducer\": \"allIsZero\",\r\n                \"value\": 0\r\n              }\r\n            },\r\n            \"properties\": [\r\n              {\r\n                \"id\": \"custom.hideFrom\",\r\n                \"value\": {\r\n                  \"legend\": true,\r\n                  \"tooltip\": true,\r\n                  \"viz\": true\r\n                }\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      },\r\n      \"gridPos\": {\r\n        \"h\": 8,\r\n        \"w\": 8,\r\n        \"x\": 16,\r\n        \"y\": 48\r\n      },\r\n      \"id\": 157,\r\n      \"options\": {\r\n        \"legend\": {\r\n          \"calcs\": [\r\n            \"mean\",\r\n            \"lastNotNull\",\r\n            \"max\"\r\n          ],\r\n          \"displayMode\": \"table\",\r\n          \"placement\": \"bottom\",\r\n          \"showLegend\": true,\r\n          \"sortBy\": \"Last *\",\r\n          \"sortDesc\": true\r\n        },\r\n        \"tooltip\": {\r\n          \"maxHeight\": 600,\r\n          \"mode\": \"multi\",\r\n          \"sort\": \"desc\"\r\n        }\r\n      },\r\n      \"pluginVersion\": \"11.4.0\",\r\n      \"targets\": [\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": true,\r\n          \"expr\": \"irate(node_network_receive_bytes_total{instance=~\\\"$instance\\\",device=~\\\"$device\\\"}[$interval])*8\",\r\n          \"format\": \"time_series\",\r\n          \"interval\": \"\",\r\n          \"intervalFactor\": 1,\r\n          \"legendFormat\": \"{{device}}_in下载\",\r\n          \"range\": true,\r\n          \"refId\": \"A\",\r\n          \"step\": 4\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"expr\": \"irate(node_network_transmit_bytes_total{instance=~\\\"$instance\\\",device=~\\\"$device\\\"}[$interval])*8\",\r\n          \"format\": \"time_series\",\r\n          \"interval\": \"\",\r\n          \"intervalFactor\": 1,\r\n          \"legendFormat\": \"{{device}}_out上传\",\r\n          \"range\": true,\r\n          \"refId\": \"B\",\r\n          \"step\": 4\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": false,\r\n          \"expr\": \"irate(node_network_receive_drop_total{instance=~\\\"$instance\\\",device=~\\\"$device\\\"}[$interval])\",\r\n          \"format\": \"time_series\",\r\n          \"hide\": false,\r\n          \"interval\": \"\",\r\n          \"intervalFactor\": 1,\r\n          \"legendFormat\": \"{{device}}_in下载丢弃\",\r\n          \"range\": true,\r\n          \"refId\": \"C\",\r\n          \"step\": 4\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"expr\": \"irate(node_network_transmit_drop_total{instance=~\\\"$instance\\\",device=~\\\"$device\\\"}[$interval])\",\r\n          \"format\": \"time_series\",\r\n          \"hide\": false,\r\n          \"interval\": \"\",\r\n          \"intervalFactor\": 1,\r\n          \"legendFormat\": \"{{device}}_out上传丢弃\",\r\n          \"range\": true,\r\n          \"refId\": \"D\",\r\n          \"step\": 4\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"exemplar\": true,\r\n          \"expr\": \"irate(node_network_receive_errs_total{instance=~\\\"$instance\\\",device=~\\\"$device\\\"}[$interval])\",\r\n          \"format\": \"time_series\",\r\n          \"hide\": false,\r\n          \"interval\": \"\",\r\n          \"intervalFactor\": 1,\r\n          \"legendFormat\": \"{{device}}_in下载错误\",\r\n          \"range\": true,\r\n          \"refId\": \"E\",\r\n          \"step\": 4\r\n        },\r\n        {\r\n          \"datasource\": {\r\n            \"type\": \"prometheus\",\r\n            \"uid\": \"KubeDoor-Prometheus\"\r\n          },\r\n          \"editorMode\": \"code\",\r\n          \"expr\": \"irate(node_network_transmit_errs_total{instance=~\\\"$instance\\\",device=~\\\"$device\\\"}[$interval])\",\r\n          \"format\": \"time_series\",\r\n          \"hide\": false,\r\n          \"interval\": \"\",\r\n          \"intervalFactor\": 1,\r\n          \"legendFormat\": \"{{device}}_out上传错误\",\r\n          \"range\": true,\r\n          \"refId\": \"F\",\r\n          \"step\": 4\r\n        }\r\n      ],\r\n      \"title\": \"每秒网络带宽使用$device\",\r\n      \"type\": \"timeseries\"\r\n    }\r\n  ],\r\n  \"preload\": false,\r\n  \"refresh\": \"5m\",\r\n  \"schemaVersion\": 40,\r\n  \"tags\": [\r\n    \"Prometheus\",\r\n    \"node_exporter\",\r\n    \"StarsL.cn\",\r\n    \"KubeDoor\"\r\n  ],\r\n  \"templating\": {\r\n    \"list\": [\r\n      {\r\n        \"current\": {\r\n          \"text\": \"`}}{{ .Values.tsdb.external_labels_key | default "origin_prometheus" }}{{`\",\r\n          \"value\": \"`}}{{ .Values.tsdb.external_labels_key | default "origin_prometheus" }}{{`\"\r\n        },\r\n        \"hide\": 2,\r\n        \"label\": \"external_labels_key\",\r\n        \"name\": \"ext_key\",\r\n        \"options\": [\r\n          {\r\n            \"selected\": true,\r\n            \"text\": \"`}}{{ .Values.tsdb.external_labels_key | default "origin_prometheus" }}{{`\",\r\n            \"value\": \"`}}{{ .Values.tsdb.external_labels_key | default "origin_prometheus" }}{{`\"\r\n          }\r\n        ],\r\n        \"query\": \"`}}{{ .Values.tsdb.external_labels_key | default "origin_prometheus" }}{{`\",\r\n        \"type\": \"custom\"\r\n      },\r\n      {\r\n        \"current\": {\r\n          \"text\": \"cassbeta-penglai\",\r\n          \"value\": \"cassbeta-penglai\"\r\n        },\r\n        \"datasource\": {\r\n          \"type\": \"prometheus\",\r\n          \"uid\": \"KubeDoor-Prometheus\"\r\n        },\r\n        \"definition\": \"label_values(node_uname_info,$ext_key)\",\r\n        \"includeAll\": false,\r\n        \"label\": \"K8S\",\r\n        \"name\": \"ext_value\",\r\n        \"options\": [],\r\n        \"query\": {\r\n          \"qryType\": 1,\r\n          \"query\": \"label_values(node_uname_info,$ext_key)\",\r\n          \"refId\": \"PrometheusVariableQueryEditor-VariableQuery\"\r\n        },\r\n        \"refresh\": 1,\r\n        \"regex\": \"\",\r\n        \"sort\": 5,\r\n        \"type\": \"query\"\r\n      },\r\n      {\r\n        \"current\": {\r\n          \"text\": \"cassmall-beta-penglai-new-k8s-03606-ndhjr\",\r\n          \"value\": \"cassmall-beta-penglai-new-k8s-03606-ndhjr\"\r\n        },\r\n        \"datasource\": {\r\n          \"type\": \"prometheus\",\r\n          \"uid\": \"KubeDoor-Prometheus\"\r\n        },\r\n        \"definition\": \"label_values(node_uname_info{$ext_key=~\\\"$ext_value\\\"},nodename)\",\r\n        \"includeAll\": false,\r\n        \"label\": \"名称\",\r\n        \"name\": \"name\",\r\n        \"options\": [],\r\n        \"query\": {\r\n          \"qryType\": 1,\r\n          \"query\": \"label_values(node_uname_info{$ext_key=~\\\"$ext_value\\\"},nodename)\",\r\n          \"refId\": \"PrometheusVariableQueryEditor-VariableQuery\"\r\n        },\r\n        \"refresh\": 1,\r\n        \"regex\": \"\",\r\n        \"sort\": 5,\r\n        \"type\": \"query\"\r\n      },\r\n      {\r\n        \"current\": {\r\n          \"text\": \"10.2.46.9\",\r\n          \"value\": \"10.2.46.9\"\r\n        },\r\n        \"datasource\": {\r\n          \"type\": \"prometheus\",\r\n          \"uid\": \"KubeDoor-Prometheus\"\r\n        },\r\n        \"definition\": \"label_values(node_uname_info{$ext_key=~\\\"$ext_value\\\", nodename=~\\\"$name\\\"},instance)\",\r\n        \"includeAll\": false,\r\n        \"label\": \"IP\",\r\n        \"name\": \"instance\",\r\n        \"options\": [],\r\n        \"query\": {\r\n          \"qryType\": 1,\r\n          \"query\": \"label_values(node_uname_info{$ext_key=~\\\"$ext_value\\\", nodename=~\\\"$name\\\"},instance)\",\r\n          \"refId\": \"PrometheusVariableQueryEditor-VariableQuery\"\r\n        },\r\n        \"refresh\": 2,\r\n        \"regex\": \"\",\r\n        \"sort\": 5,\r\n        \"type\": \"query\"\r\n      },\r\n      {\r\n        \"auto\": false,\r\n        \"auto_count\": 100,\r\n        \"auto_min\": \"1m\",\r\n        \"current\": {\r\n          \"text\": \"3m\",\r\n          \"value\": \"3m\"\r\n        },\r\n        \"hide\": 2,\r\n        \"label\": \"间隔\",\r\n        \"name\": \"interval\",\r\n        \"options\": [\r\n          {\r\n            \"selected\": true,\r\n            \"text\": \"3m\",\r\n            \"value\": \"3m\"\r\n          }\r\n        ],\r\n        \"query\": \"3m\",\r\n        \"refresh\": 2,\r\n        \"type\": \"interval\"\r\n      },\r\n      {\r\n        \"current\": {\r\n          \"text\": \"5\",\r\n          \"value\": \"5\"\r\n        },\r\n        \"datasource\": {\r\n          \"type\": \"prometheus\",\r\n          \"uid\": \"KubeDoor-Prometheus\"\r\n        },\r\n        \"definition\": \"query_result(count(node_uname_info{$ext_key=~\\\"$ext_value\\\"}))\",\r\n        \"hide\": 2,\r\n        \"includeAll\": false,\r\n        \"label\": \"主机数\",\r\n        \"name\": \"total\",\r\n        \"options\": [],\r\n        \"query\": {\r\n          \"qryType\": 3,\r\n          \"query\": \"query_result(count(node_uname_info{$ext_key=~\\\"$ext_value\\\"}))\",\r\n          \"refId\": \"PrometheusVariableQueryEditor-VariableQuery\"\r\n        },\r\n        \"refresh\": 2,\r\n        \"regex\": \"/{} (.*) .*/\",\r\n        \"type\": \"query\"\r\n      },\r\n      {\r\n        \"current\": {\r\n          \"text\": \"All\",\r\n          \"value\": \"$__all\"\r\n        },\r\n        \"datasource\": {\r\n          \"type\": \"prometheus\",\r\n          \"uid\": \"KubeDoor-Prometheus\"\r\n        },\r\n        \"definition\": \"label_values(node_network_info{$ext_key=~\\\"$ext_value\\\", instance=~\\\"$instance\\\", device!~\\\"tap.*|veth.*|br.*|docker.*|virbr.*|lo.*|cni.*|flannel.*\\\"},device)\",\r\n        \"includeAll\": true,\r\n        \"label\": \"网卡\",\r\n        \"multi\": true,\r\n        \"name\": \"device\",\r\n        \"options\": [],\r\n        \"query\": {\r\n          \"qryType\": 1,\r\n          \"query\": \"label_values(node_network_info{$ext_key=~\\\"$ext_value\\\", instance=~\\\"$instance\\\", device!~\\\"tap.*|veth.*|br.*|docker.*|virbr.*|lo.*|cni.*|flannel.*\\\"},device)\",\r\n          \"refId\": \"PrometheusVariableQueryEditor-VariableQuery\"\r\n        },\r\n        \"refresh\": 1,\r\n        \"regex\": \"\",\r\n        \"sort\": 1,\r\n        \"type\": \"query\"\r\n      },\r\n      {\r\n        \"current\": {\r\n          \"text\": \"/var/lib/docker\",\r\n          \"value\": \"/var/lib/docker\"\r\n        },\r\n        \"datasource\": {\r\n          \"type\": \"prometheus\",\r\n          \"uid\": \"KubeDoor-Prometheus\"\r\n        },\r\n        \"definition\": \"query_result(topk(1,sort_desc(max(node_filesystem_size_bytes{$ext_key=~\\\"$ext_value\\\",instance=~\\\"$instance\\\",fstype=~\\\"ext.?|xfs\\\",mountpoint!~\\\".*pods.*\\\"}) by (mountpoint))))\",\r\n        \"hide\": 2,\r\n        \"includeAll\": false,\r\n        \"label\": \"最大挂载目录\",\r\n        \"name\": \"maxmount\",\r\n        \"options\": [],\r\n        \"query\": {\r\n          \"qryType\": 3,\r\n          \"query\": \"query_result(topk(1,sort_desc(max(node_filesystem_size_bytes{$ext_key=~\\\"$ext_value\\\",instance=~\\\"$instance\\\",fstype=~\\\"ext.?|xfs\\\",mountpoint!~\\\".*pods.*\\\"}) by (mountpoint))))\",\r\n          \"refId\": \"PrometheusVariableQueryEditor-VariableQuery\"\r\n        },\r\n        \"refresh\": 2,\r\n        \"regex\": \"/.*\\\\\\\"(.*)\\\\\\\".*/\",\r\n        \"sort\": 5,\r\n        \"type\": \"query\"\r\n      },\r\n      {\r\n        \"current\": {\r\n          \"text\": \"cassmall-beta-penglai-new-k8s-03606-ndhjr\",\r\n          \"value\": \"cassmall-beta-penglai-new-k8s-03606-ndhjr\"\r\n        },\r\n        \"datasource\": {\r\n          \"type\": \"prometheus\",\r\n          \"uid\": \"KubeDoor-Prometheus\"\r\n        },\r\n        \"definition\": \"label_values(node_uname_info{$ext_key=~\\\"$ext_value\\\", nodename=~\\\"$name\\\", instance=~\\\"$instance\\\"},nodename)\",\r\n        \"hide\": 2,\r\n        \"includeAll\": false,\r\n        \"label\": \"展示使用的名称\",\r\n        \"name\": \"show_name\",\r\n        \"options\": [],\r\n        \"query\": {\r\n          \"qryType\": 1,\r\n          \"query\": \"label_values(node_uname_info{$ext_key=~\\\"$ext_value\\\", nodename=~\\\"$name\\\", instance=~\\\"$instance\\\"},nodename)\",\r\n          \"refId\": \"PrometheusVariableQueryEditor-VariableQuery\"\r\n        },\r\n        \"refresh\": 2,\r\n        \"regex\": \"\",\r\n        \"sort\": 5,\r\n        \"type\": \"query\"\r\n      }\r\n    ]\r\n  },\r\n  \"time\": {\r\n    \"from\": \"now-1h\",\r\n    \"to\": \"now\"\r\n  },\r\n  \"timepicker\": {\r\n    \"refresh_intervals\": [\r\n      \"30s\",\r\n      \"1m\",\r\n      \"3m\",\r\n      \"5m\",\r\n      \"15m\",\r\n      \"30m\"\r\n    ]\r\n  },\r\n  \"timezone\": \"browser\",\r\n  \"title\": \"KubeDoor - K8S节点资源实时监控\",\r\n  \"uid\": \"KubeDoor-Node\",\r\n  \"version\": 9,\r\n  \"weekStart\": \"\"\r\n}`}}"

---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: kubedoor-dash
  namespace: kubedoor
  labels:
    app.kubernetes.io/name: grafana
    app.kubernetes.io/instance: kubedoor
spec:
  replicas: 1
  selector:
    matchLabels:
      app.kubernetes.io/instance: kubedoor
      app.kubernetes.io/name: grafana
  template:
    metadata:
      labels:
        app.kubernetes.io/instance: kubedoor
        app.kubernetes.io/name: grafana
    spec:
      volumes:
        - name: grafana-config
          configMap:
            name: kubedoor-grafana-config
        - name: grafana-dash
          configMap:
            name: kubedoor-grafana-dash
        - name: grafana-storage
          emptyDir: {}
        - name: grafana-plugins
          emptyDir: {}
      initContainers:
        - name: grafana-plugins-init
          image: registry.cn-shenzhen.aliyuncs.com/starsl/grafana-plugins-init:{{ .Values.image.grafana_plugins_init }}
          volumeMounts:
            - name: grafana-plugins
              mountPath: /var/lib/grafana/plugins
          imagePullPolicy: IfNotPresent
      containers:
        - name: grafana
          image: registry.cn-shenzhen.aliyuncs.com/starsl/grafana-oss:{{ .Values.image.grafana_oss }}
          ports:
            - name: grafana
              containerPort: 3000
              protocol: TCP
          env:
            - name: POD_IP
              valueFrom:
                fieldRef:
                  apiVersion: v1
                  fieldPath: status.podIP
            - name: GF_SECURITY_ADMIN_USER
              valueFrom:
                secretKeyRef:
                  name: kubedoor-grafana
                  key: admin-user
            - name: GF_SECURITY_ADMIN_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: kubedoor-grafana
                  key: admin-password
            - name: GF_PATHS_DATA
              value: /var/lib/grafana/
            - name: GF_PATHS_LOGS
              value: /var/log/grafana
            - name: GF_PATHS_PLUGINS
              value: /var/lib/grafana/plugins
            - name: GF_PATHS_PROVISIONING
              value: /etc/grafana/provisioning
          volumeMounts:
            - name: grafana-storage
              mountPath: /var/lib/grafana
            - name: grafana-config
              mountPath: /etc/grafana/grafana.ini
              subPath: grafana.ini
            - name: grafana-config
              mountPath: /etc/grafana/provisioning/datasources/datasources.yaml
              subPath: datasources.yaml
            - name: grafana-config
              mountPath: /etc/grafana/provisioning/dashboards/dashboardproviders.yaml
              subPath: dashboardproviders.yaml
            - name: grafana-plugins
              mountPath: /var/lib/grafana/plugins
            - name: grafana-dash
              mountPath: /var/lib/grafana/dashboards
          livenessProbe:
            httpGet:
              path: /api/health
              port: 3000
              scheme: HTTP
            initialDelaySeconds: 60
            timeoutSeconds: 30
            periodSeconds: 10
            successThreshold: 1
            failureThreshold: 10
          readinessProbe:
            httpGet:
              path: /api/health
              port: 3000
              scheme: HTTP
            timeoutSeconds: 1
            periodSeconds: 10
            successThreshold: 1
            failureThreshold: 3
          imagePullPolicy: IfNotPresent
          securityContext:
            capabilities:
              drop:
                - ALL
            allowPrivilegeEscalation: false
            seccompProfile:
              type: RuntimeDefault
      restartPolicy: Always

---
apiVersion: v1
kind: Service
metadata:
  name: kubedoor-dash
  namespace: kubedoor
  labels:
    app.kubernetes.io/instance: kubedoor
    app.kubernetes.io/name: grafana
spec:
  type: ClusterIP
  ports:
    - name: service
      protocol: TCP
      port: 3000
      targetPort: 3000
  selector:
    app.kubernetes.io/instance: kubedoor
    app.kubernetes.io/name: grafana

{{- end }}
